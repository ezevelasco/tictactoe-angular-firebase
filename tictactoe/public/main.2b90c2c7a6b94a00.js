"use strict";(self.webpackChunktictactoe=self.webpackChunktictactoe||[]).push([[179],{5229:(lt,Ee,x)=>{x.d(Ee,{hO:()=>Ii});var y=x(4946),W=x(9058),H=x(4537),K=x(534),ne=x(7879);class ye{constructor(Re,j){this._delegate=Re,this.firebase=j,(0,K._addComponent)(Re,new H.wA("app-compat",()=>this,"PUBLIC")),this.container=Re.container}get automaticDataCollectionEnabled(){return this._delegate.automaticDataCollectionEnabled}set automaticDataCollectionEnabled(Re){this._delegate.automaticDataCollectionEnabled=Re}get name(){return this._delegate.name}get options(){return this._delegate.options}delete(){return new Promise(Re=>{this._delegate.checkDestroyed(),Re()}).then(()=>(this.firebase.INTERNAL.removeApp(this.name),(0,K.deleteApp)(this._delegate)))}_getService(Re,j=K._DEFAULT_ENTRY_NAME){var q;this._delegate.checkDestroyed();const ee=this._delegate.container.getProvider(Re);return!ee.isInitialized()&&"EXPLICIT"===(null===(q=ee.getComponent())||void 0===q?void 0:q.instantiationMode)&&ee.initialize(),ee.getImmediate({identifier:j})}_removeServiceInstance(Re,j=K._DEFAULT_ENTRY_NAME){this._delegate.container.getProvider(Re).clearInstance(j)}_addComponent(Re){(0,K._addComponent)(this._delegate,Re)}_addOrOverwriteComponent(Re){(0,K._addOrOverwriteComponent)(this._delegate,Re)}toJSON(){return{name:this.name,automaticDataCollectionEnabled:this.automaticDataCollectionEnabled,options:this.options}}}const Ge=new W.LL("app-compat","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call Firebase App.initializeApp()","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance."}),F=function B(){const we=function ve(we){const Re={},j={__esModule:!0,initializeApp:function te(Ke,Ct={}){const Qe=K.initializeApp(Ke,Ct);if((0,W.r3)(Re,Qe.name))return Re[Qe.name];const Tt=new we(Qe,j);return Re[Qe.name]=Tt,Tt},app:ee,registerVersion:K.registerVersion,setLogLevel:K.setLogLevel,onLog:K.onLog,apps:null,SDK_VERSION:K.SDK_VERSION,INTERNAL:{registerComponent:function de(Ke){const Ct=Ke.name,Qe=Ct.replace("-compat","");if(K._registerComponent(Ke)&&"PUBLIC"===Ke.type){const Tt=(zt=ee())=>{if("function"!=typeof zt[Qe])throw Ge.create("invalid-app-argument",{appName:Ct});return zt[Qe]()};void 0!==Ke.serviceProps&&(0,W.ZB)(Tt,Ke.serviceProps),j[Qe]=Tt,we.prototype[Qe]=function(...zt){return this._getService.bind(this,Ct).apply(this,Ke.multipleInstances?zt:[])}}return"PUBLIC"===Ke.type?j[Qe]:null},removeApp:function q(Ke){delete Re[Ke]},useAsService:function qe(Ke,Ct){return"serverAuth"===Ct?null:Ct},modularAPIs:K}};function ee(Ke){if(!(0,W.r3)(Re,Ke=Ke||K._DEFAULT_ENTRY_NAME))throw Ge.create("no-app",{appName:Ke});return Re[Ke]}return j.default=j,Object.defineProperty(j,"apps",{get:function oe(){return Object.keys(Re).map(Ke=>Re[Ke])}}),ee.App=we,j}(ye);return we.INTERNAL=Object.assign(Object.assign({},we.INTERNAL),{createFirebaseNamespace:B,extendNamespace:function Re(j){(0,W.ZB)(we,j)},createSubscribe:W.ne,ErrorFactory:W.LL,deepExtend:W.ZB}),we}(),X=new ne.Yd("@firebase/app-compat");if((0,W.jU)()&&void 0!==self.firebase){X.warn("\n    Warning: Firebase is already defined in the global scope. Please make sure\n    Firebase library is only loaded once.\n  ");const we=self.firebase.SDK_VERSION;we&&we.indexOf("LITE")>=0&&X.warn("\n    Warning: You are trying to load Firebase while using Firebase Performance standalone script.\n    You should load Firebase Performance with this instance of Firebase to avoid loading duplicate code.\n    ")}const Et=F;!function je(we){(0,K.registerVersion)("@firebase/app-compat","0.2.13",we)}(),Et.registerVersion("firebase","9.23.0","app-compat");var rn=x(456);lt=x.hmd(lt);class ue{constructor(Re){return Re}}const Te=new y.OlP("angularfire2.app.options"),Ye=new y.OlP("angularfire2.app.name"),We={provide:ue,useFactory:function Pe(we,Re,j){const ee="object"==typeof j&&j||{};ee.name=ee.name||"string"==typeof j&&j||"[DEFAULT]";const oe=Et.apps.filter(de=>de&&de.name===ee.name)[0]||Re.runOutsideAngular(()=>Et.initializeApp(we,ee));try{JSON.stringify(we)!==JSON.stringify(oe.options)&&((we,...Re)=>{(0,y.X6Q)()&&typeof console<"u"&&console[we](...Re)})("error",`${oe.name} Firebase App already initialized with different options${lt.hot?", you may need to reload as Firebase is not HMR aware.":"."}`)}catch{}return new ue(oe)},deps:[Te,y.R0b,[new y.FiY,Ye]]};let Ii=(()=>{class we{constructor(j){Et.registerVersion("angularfire",rn.q4.full,"core"),Et.registerVersion("angularfire",rn.q4.full,"app-compat"),Et.registerVersion("angular",y.q4F.full,j.toString())}static initializeApp(j,q){return{ngModule:we,providers:[{provide:Te,useValue:j},{provide:Ye,useValue:q}]}}}return we.\u0275fac=function(j){return new(j||we)(y.LFG(y.Lbi))},we.\u0275mod=y.oAB({type:we}),we.\u0275inj=y.cJS({providers:[We]}),we})();globalThis.\u0275AngularfireInstanceCache||(globalThis.\u0275AngularfireInstanceCache=[])},456:(lt,Ee,x)=>{x.d(Ee,{q4:()=>Ea,HU:()=>Fd,vb:()=>Vy,JM:()=>DI,u3:()=>Cu});var y=x(4946),W=x(3182),H=x(5861),K=x(534),ne=x(9058),ye=x(4537),Ne=x(7879);const Ge=(v,E)=>E.some(T=>v instanceof T);let ve,B;const Ae=new WeakMap,_e=new WeakMap,je=new WeakMap,Et=new WeakMap,_t=new WeakMap;let vn={get(v,E,T){if(v instanceof IDBTransaction){if("done"===E)return _e.get(v);if("objectStoreNames"===E)return v.objectStoreNames||je.get(v);if("store"===E)return T.objectStoreNames[1]?void 0:T.objectStore(T.objectStoreNames[0])}return Te(v[E])},set:(v,E,T)=>(v[E]=T,!0),has:(v,E)=>v instanceof IDBTransaction&&("done"===E||"store"===E)||E in v};function ue(v){return"function"==typeof v?function Ce(v){return v!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function X(){return B||(B=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(v)?function(...E){return v.apply(Ye(this),E),Te(Ae.get(this))}:function(...E){return Te(v.apply(Ye(this),E))}:function(E,...T){const A=v.call(Ye(this),E,...T);return je.set(A,E.sort?E.sort():[E]),Te(A)}}(v):(v instanceof IDBTransaction&&function rn(v){if(_e.has(v))return;const E=new Promise((T,A)=>{const P=()=>{v.removeEventListener("complete",L),v.removeEventListener("error",Z),v.removeEventListener("abort",Z)},L=()=>{T(),P()},Z=()=>{A(v.error||new DOMException("AbortError","AbortError")),P()};v.addEventListener("complete",L),v.addEventListener("error",Z),v.addEventListener("abort",Z)});_e.set(v,E)}(v),Ge(v,function F(){return ve||(ve=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(v,vn):v)}function Te(v){if(v instanceof IDBRequest)return function gt(v){const E=new Promise((T,A)=>{const P=()=>{v.removeEventListener("success",L),v.removeEventListener("error",Z)},L=()=>{T(Te(v.result)),P()},Z=()=>{A(v.error),P()};v.addEventListener("success",L),v.addEventListener("error",Z)});return E.then(T=>{T instanceof IDBCursor&&Ae.set(T,v)}).catch(()=>{}),_t.set(E,v),E}(v);if(Et.has(v))return Et.get(v);const E=ue(v);return E!==v&&(Et.set(v,E),_t.set(E,v)),E}const Ye=v=>_t.get(v),We=["get","getKey","getAll","getAllKeys","count"],Ii=["put","add","delete","clear"],Ds=new Map;function Ci(v,E){if(!(v instanceof IDBDatabase)||E in v||"string"!=typeof E)return;if(Ds.get(E))return Ds.get(E);const T=E.replace(/FromIndex$/,""),A=E!==T,P=Ii.includes(T);if(!(T in(A?IDBIndex:IDBObjectStore).prototype)||!P&&!We.includes(T))return;const L=function(){var Z=(0,H.Z)(function*(ke,...Se){const Je=this.transaction(ke,P?"readwrite":"readonly");let mt=Je.store;return A&&(mt=mt.index(Se.shift())),(yield Promise.all([mt[T](...Se),P&&Je.done]))[0]});return function(Se){return Z.apply(this,arguments)}}();return Ds.set(E,L),L}!function ge(v){vn=v(vn)}(v=>({...v,get:(E,T,A)=>Ci(E,T)||v.get(E,T,A),has:(E,T)=>!!Ci(E,T)||v.has(E,T)}));const Be="@firebase/installations",Pn="0.6.4",we=1e4,Re=`w:${Pn}`,j="FIS_v2",q="https://firebaseinstallations.googleapis.com/v1",ee=36e5,qe=new ne.LL("installations","Installations",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."});function Ke(v){return v instanceof ne.ZR&&v.code.includes("request-failed")}function Ct({projectId:v}){return`${q}/projects/${v}/installations`}function Qe(v){return{token:v.token,requestStatus:2,expiresIn:jr(v.expiresIn),creationTime:Date.now()}}function Tt(v,E){return zt.apply(this,arguments)}function zt(){return(zt=(0,H.Z)(function*(v,E){const A=(yield E.json()).error;return qe.create("request-failed",{requestName:v,serverCode:A.code,serverMessage:A.message,serverStatus:A.status})})).apply(this,arguments)}function cn({apiKey:v}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":v})}function $r(v){return sn.apply(this,arguments)}function sn(){return(sn=(0,H.Z)(function*(v){const E=yield v();return E.status>=500&&E.status<600?v():E})).apply(this,arguments)}function jr(v){return Number(v.replace("s","000"))}function vo(){return(vo=(0,H.Z)(function*({appConfig:v,heartbeatServiceProvider:E},{fid:T}){const A=Ct(v),P=cn(v),L=E.getImmediate({optional:!0});if(L){const Je=yield L.getHeartbeatsHeader();Je&&P.append("x-firebase-client",Je)}const ke={method:"POST",headers:P,body:JSON.stringify({fid:T,authVersion:j,appId:v.appId,sdkVersion:Re})},Se=yield $r(()=>fetch(A,ke));if(Se.ok){const Je=yield Se.json();return{fid:Je.fid||T,registrationStatus:2,refreshToken:Je.refreshToken,authToken:Qe(Je.authToken)}}throw yield Tt("Create Installation",Se)})).apply(this,arguments)}function ia(v){return new Promise(E=>{setTimeout(E,v)})}const wn=/^[cdef][\w-]{21}$/,on="";function nt(){try{const v=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(v),v[0]=112+v[0]%16;const T=function rt(v){return function wo(v){return btoa(String.fromCharCode(...v)).replace(/\+/g,"-").replace(/\//g,"_")}(v).substr(0,22)}(v);return wn.test(T)?T:on}catch{return on}}function Gr(v){return`${v.appName}!${v.appId}`}const Sr=new Map;function si(v,E){const T=Gr(v);Eo(T,E),function Jt(v,E){const T=function be(){return!es&&"BroadcastChannel"in self&&(es=new BroadcastChannel("[Firebase] FID Change"),es.onmessage=v=>{Eo(v.data.key,v.data.fid)}),es}();T&&T.postMessage({key:v,fid:E}),function Io(){0===Sr.size&&es&&(es.close(),es=null)}()}(T,E)}function Eo(v,E){const T=Sr.get(v);if(T)for(const A of T)A(E)}let es=null;const Ts="firebase-installations-database",Bn=1,Hr="firebase-installations-store";let sa=null;function en(){return sa||(sa=function Pe(v,E,{blocked:T,upgrade:A,blocking:P,terminated:L}={}){const Z=indexedDB.open(v,E),ke=Te(Z);return A&&Z.addEventListener("upgradeneeded",Se=>{A(Te(Z.result),Se.oldVersion,Se.newVersion,Te(Z.transaction))}),T&&Z.addEventListener("blocked",()=>T()),ke.then(Se=>{L&&Se.addEventListener("close",()=>L()),P&&Se.addEventListener("versionchange",()=>P())}).catch(()=>{}),ke}(Ts,Bn,{upgrade:(v,E)=>{0===E&&v.createObjectStore(Hr)}})),sa}function ji(v,E){return Ti.apply(this,arguments)}function Ti(){return(Ti=(0,H.Z)(function*(v,E){const T=Gr(v),P=(yield en()).transaction(Hr,"readwrite"),L=P.objectStore(Hr),Z=yield L.get(T);return yield L.put(E,T),yield P.done,(!Z||Z.fid!==E.fid)&&si(v,E.fid),E})).apply(this,arguments)}function Ws(v){return ts.apply(this,arguments)}function ts(){return(ts=(0,H.Z)(function*(v){const E=Gr(v),A=(yield en()).transaction(Hr,"readwrite");yield A.objectStore(Hr).delete(E),yield A.done})).apply(this,arguments)}function bi(v,E){return ns.apply(this,arguments)}function ns(){return(ns=(0,H.Z)(function*(v,E){const T=Gr(v),P=(yield en()).transaction(Hr,"readwrite"),L=P.objectStore(Hr),Z=yield L.get(T),ke=E(Z);return void 0===ke?yield L.delete(T):yield L.put(ke,T),yield P.done,ke&&(!Z||Z.fid!==ke.fid)&&si(v,ke.fid),ke})).apply(this,arguments)}function k(v){return R.apply(this,arguments)}function R(){return R=(0,H.Z)(function*(v){let E;const T=yield bi(v.appConfig,A=>{const P=function V(v){return $n(v||{fid:nt(),registrationStatus:0})}(A),L=function le(v,E){if(0===E.registrationStatus){if(!navigator.onLine)return{installationEntry:E,registrationPromise:Promise.reject(qe.create("app-offline"))};const T={fid:E.fid,registrationStatus:1,registrationTime:Date.now()},A=function Y(v,E){return He.apply(this,arguments)}(v,T);return{installationEntry:T,registrationPromise:A}}return 1===E.registrationStatus?{installationEntry:E,registrationPromise:at(v)}:{installationEntry:E}}(v,P);return E=L.registrationPromise,L.installationEntry});return T.fid===on?{installationEntry:yield E}:{installationEntry:T,registrationPromise:E}}),R.apply(this,arguments)}function He(){return He=(0,H.Z)(function*(v,E){try{const T=yield function Vt(v,E){return vo.apply(this,arguments)}(v,E);return ji(v.appConfig,T)}catch(T){throw Ke(T)&&409===T.customData.serverCode?yield Ws(v.appConfig):yield ji(v.appConfig,{fid:E.fid,registrationStatus:0}),T}}),He.apply(this,arguments)}function at(v){return Gt.apply(this,arguments)}function Gt(){return(Gt=(0,H.Z)(function*(v){let E=yield Wt(v.appConfig);for(;1===E.registrationStatus;)yield ia(100),E=yield Wt(v.appConfig);if(0===E.registrationStatus){const{installationEntry:T,registrationPromise:A}=yield k(v);return A||T}return E})).apply(this,arguments)}function Wt(v){return bi(v,E=>{if(!E)throw qe.create("installation-not-found");return $n(E)})}function $n(v){return function Mt(v){return 1===v.registrationStatus&&v.registrationTime+we<Date.now()}(v)?{fid:v.fid,registrationStatus:0}:v}function or(){return(or=(0,H.Z)(function*({appConfig:v,heartbeatServiceProvider:E},T){const A=function zr(v,{fid:E}){return`${Ct(v)}/${E}/authTokens:generate`}(v,T),P=function sr(v,{refreshToken:E}){const T=cn(v);return T.append("Authorization",function En(v){return`${j} ${v}`}(E)),T}(v,T),L=E.getImmediate({optional:!0});if(L){const Je=yield L.getHeartbeatsHeader();Je&&P.append("x-firebase-client",Je)}const ke={method:"POST",headers:P,body:JSON.stringify({installation:{sdkVersion:Re,appId:v.appId}})},Se=yield $r(()=>fetch(A,ke));if(Se.ok)return Qe(yield Se.json());throw yield Tt("Generate Auth Token",Se)})).apply(this,arguments)}function qs(v){return eu.apply(this,arguments)}function eu(){return eu=(0,H.Z)(function*(v,E=!1){let T;const A=yield bi(v.appConfig,L=>{if(!Ve(L))throw qe.create("not-registered");const Z=L.authToken;if(!E&&function Bt(v){return 2===v.requestStatus&&!function jn(v){const E=Date.now();return E<v.creationTime||v.creationTime+v.expiresIn<E+ee}(v)}(Z))return L;if(1===Z.requestStatus)return T=function re(v,E){return z.apply(this,arguments)}(v,E),L;{if(!navigator.onLine)throw qe.create("app-offline");const ke=function Tn(v){const E={requestStatus:1,requestTime:Date.now()};return Object.assign(Object.assign({},v),{authToken:E})}(L);return T=function ze(v,E){return it.apply(this,arguments)}(v,ke),ke}});return T?yield T:A.authToken}),eu.apply(this,arguments)}function z(){return(z=(0,H.Z)(function*(v,E){let T=yield he(v.appConfig);for(;1===T.authToken.requestStatus;)yield ia(100),T=yield he(v.appConfig);const A=T.authToken;return 0===A.requestStatus?qs(v,E):A})).apply(this,arguments)}function he(v){return bi(v,E=>{if(!Ve(E))throw qe.create("not-registered");return function Ks(v){return 1===v.requestStatus&&v.requestTime+we<Date.now()}(E.authToken)?Object.assign(Object.assign({},E),{authToken:{requestStatus:0}}):E})}function it(){return it=(0,H.Z)(function*(v,E){try{const T=yield function Nt(v,E){return or.apply(this,arguments)}(v,E),A=Object.assign(Object.assign({},E),{authToken:T});return yield ji(v.appConfig,A),T}catch(T){if(!Ke(T)||401!==T.customData.serverCode&&404!==T.customData.serverCode){const A=Object.assign(Object.assign({},E),{authToken:{requestStatus:0}});yield ji(v.appConfig,A)}else yield Ws(v.appConfig);throw T}}),it.apply(this,arguments)}function Ve(v){return void 0!==v&&2===v.registrationStatus}function bs(){return(bs=(0,H.Z)(function*(v){const E=v,{installationEntry:T,registrationPromise:A}=yield k(E);return A?A.catch(console.error):qs(E).catch(console.error),T.fid})).apply(this,arguments)}function vl(){return vl=(0,H.Z)(function*(v,E=!1){const T=v;return yield function rd(v){return tu.apply(this,arguments)}(T),(yield qs(T,E)).token}),vl.apply(this,arguments)}function tu(){return(tu=(0,H.Z)(function*(v){const{registrationPromise:E}=yield k(v);E&&(yield E)})).apply(this,arguments)}function Ar(v){return qe.create("missing-app-config-values",{valueName:v})}const If="installations",oI=v=>{const E=v.getProvider("app").getImmediate(),T=function od(v){if(!v||!v.options)throw Ar("App Configuration");if(!v.name)throw Ar("App Name");const E=["projectId","apiKey","appId"];for(const T of E)if(!v.options[T])throw Ar(T);return{appName:v.name,projectId:v.options.projectId,apiKey:v.options.apiKey,appId:v.options.appId}}(E);return{app:E,appConfig:T,heartbeatServiceProvider:(0,K._getProvider)(E,"heartbeat"),_delete:()=>Promise.resolve()}},Df=v=>{const E=v.getProvider("app").getImmediate(),T=(0,K._getProvider)(E,If).getImmediate();return{getId:()=>function oi(v){return bs.apply(this,arguments)}(T),getToken:P=>function nd(v){return vl.apply(this,arguments)}(T,P)}};(function aI(){(0,K._registerComponent)(new ye.wA(If,oI,"PUBLIC")),(0,K._registerComponent)(new ye.wA("installations-internal",Df,"PRIVATE"))})(),(0,K.registerVersion)(Be,Pn),(0,K.registerVersion)(Be,Pn,"esm2017");const Tf="@firebase/remote-config",Mr=new ne.LL("remoteconfig","Remote Config",{"registration-window":"Undefined window object. This SDK only supports usage in a browser environment.","registration-project-id":"Undefined project identifier. Check Firebase app initialization.","registration-api-key":"Undefined API key. Check Firebase app initialization.","registration-app-id":"Undefined app identifier. Check Firebase app initialization.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","storage-delete":"Error thrown when deleting from storage. Original error: {$originalErrorMessage}.","fetch-client-network":"Fetch client failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-timeout":'The config fetch request timed out.  Configure timeout using "fetchTimeoutMillis" SDK setting.',"fetch-throttle":'The config fetch request timed out while in an exponential backoff state. Configure timeout using "fetchTimeoutMillis" SDK setting. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.',"fetch-client-parse":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","indexed-db-unavailable":"Indexed DB is not supported by current browser"});class $e{constructor(E,T,A,P){this.client=E,this.storage=T,this.storageCache=A,this.logger=P}isCachedDataFresh(E,T){if(!T)return this.logger.debug("Config fetch cache check. Cache unpopulated."),!1;const A=Date.now()-T,P=A<=E;return this.logger.debug(`Config fetch cache check. Cache age millis: ${A}. Cache max age millis (minimumFetchIntervalMillis setting): ${E}. Is cache hit: ${P}.`),P}fetch(E){var T=this;return(0,H.Z)(function*(){const[A,P]=yield Promise.all([T.storage.getLastSuccessfulFetchTimestampMillis(),T.storage.getLastSuccessfulFetchResponse()]);if(P&&T.isCachedDataFresh(E.cacheMaxAgeMillis,A))return P;E.eTag=P&&P.eTag;const L=yield T.client.fetch(E),Z=[T.storageCache.setLastSuccessfulFetchTimestampMillis(Date.now())];return 200===L.status&&Z.push(T.storage.setLastSuccessfulFetchResponse(L)),yield Promise.all(Z),L})()}}function vt(v=navigator){return v.languages&&v.languages[0]||v.language}class dn{constructor(E,T,A,P,L,Z){this.firebaseInstallations=E,this.sdkVersion=T,this.namespace=A,this.projectId=P,this.apiKey=L,this.appId=Z}fetch(E){var T=this;return(0,H.Z)(function*(){const[A,P]=yield Promise.all([T.firebaseInstallations.getId(),T.firebaseInstallations.getToken()]),Z=`${window.FIREBASE_REMOTE_CONFIG_URL_BASE||"https://firebaseremoteconfig.googleapis.com"}/v1/projects/${T.projectId}/namespaces/${T.namespace}:fetch?key=${T.apiKey}`,ke={"Content-Type":"application/json","Content-Encoding":"gzip","If-None-Match":E.eTag||"*"},Se={sdk_version:T.sdkVersion,app_instance_id:A,app_instance_id_token:P,app_id:T.appId,language_code:vt()},Je={method:"POST",headers:ke,body:JSON.stringify(Se)},mt=fetch(Z,Je),yt=new Promise((Wi,qi)=>{E.signal.addEventListener(()=>{const tp=new Error("The operation was aborted.");tp.name="AbortError",qi(tp)})});let Qr;try{yield Promise.race([mt,yt]),Qr=yield mt}catch(Wi){let qi="fetch-client-network";throw"AbortError"===Wi?.name&&(qi="fetch-timeout"),Mr.create(qi,{originalErrorMessage:Wi?.message})}let dr=Qr.status;const Kl=Qr.headers.get("ETag")||void 0;let Du,no;if(200===Qr.status){let Wi;try{Wi=yield Qr.json()}catch(qi){throw Mr.create("fetch-client-parse",{originalErrorMessage:qi?.message})}Du=Wi.entries,no=Wi.state}if("INSTANCE_STATE_UNSPECIFIED"===no?dr=500:"NO_CHANGE"===no?dr=304:("NO_TEMPLATE"===no||"EMPTY_CONFIG"===no)&&(Du={}),304!==dr&&200!==dr)throw Mr.create("fetch-status",{httpStatus:dr});return{status:dr,eTag:Kl,config:Du}})()}}class xr{constructor(E,T){this.client=E,this.storage=T}fetch(E){var T=this;return(0,H.Z)(function*(){const A=(yield T.storage.getThrottleMetadata())||{backoffCount:0,throttleEndTimeMillis:Date.now()};return T.attemptFetch(E,A)})()}attemptFetch(E,{throttleEndTimeMillis:T,backoffCount:A}){var P=this;return(0,H.Z)(function*(){yield function ai(v,E){return new Promise((T,A)=>{const P=Math.max(E-Date.now(),0),L=setTimeout(T,P);v.addEventListener(()=>{clearTimeout(L),A(Mr.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(E.signal,T);try{const L=yield P.client.fetch(E);return yield P.storage.deleteThrottleMetadata(),L}catch(L){if(!function Cl(v){if(!(v instanceof ne.ZR&&v.customData))return!1;const E=Number(v.customData.httpStatus);return 429===E||500===E||503===E||504===E}(L))throw L;const Z={throttleEndTimeMillis:Date.now()+(0,ne.$s)(A),backoffCount:A+1};return yield P.storage.setThrottleMetadata(Z),P.attemptFetch(E,Z)}})()}}class aa{constructor(E,T,A,P,L){this.app=E,this._client=T,this._storageCache=A,this._storage=P,this._logger=L,this._isInitializationComplete=!1,this.settings={fetchTimeoutMillis:6e4,minimumFetchIntervalMillis:432e5},this.defaultConfig={}}get fetchTimeMillis(){return this._storageCache.getLastSuccessfulFetchTimestampMillis()||-1}get lastFetchStatus(){return this._storageCache.getLastFetchStatus()||"no-fetch-yet"}}function rs(v,E){const T=v.target.error||void 0;return Mr.create(E,{originalErrorMessage:T&&T?.message})}const ct="app_namespace_store";class Hn{constructor(E,T,A,P=function nu(){return new Promise((v,E)=>{try{const T=indexedDB.open("firebase_remote_config",1);T.onerror=A=>{E(rs(A,"storage-open"))},T.onsuccess=A=>{v(A.target.result)},T.onupgradeneeded=A=>{0===A.oldVersion&&A.target.result.createObjectStore(ct,{keyPath:"compositeKey"})}}catch(T){E(Mr.create("storage-open",{originalErrorMessage:T?.message}))}})}()){this.appId=E,this.appName=T,this.namespace=A,this.openDbPromise=P}getLastFetchStatus(){return this.get("last_fetch_status")}setLastFetchStatus(E){return this.set("last_fetch_status",E)}getLastSuccessfulFetchTimestampMillis(){return this.get("last_successful_fetch_timestamp_millis")}setLastSuccessfulFetchTimestampMillis(E){return this.set("last_successful_fetch_timestamp_millis",E)}getLastSuccessfulFetchResponse(){return this.get("last_successful_fetch_response")}setLastSuccessfulFetchResponse(E){return this.set("last_successful_fetch_response",E)}getActiveConfig(){return this.get("active_config")}setActiveConfig(E){return this.set("active_config",E)}getActiveConfigEtag(){return this.get("active_config_etag")}setActiveConfigEtag(E){return this.set("active_config_etag",E)}getThrottleMetadata(){return this.get("throttle_metadata")}setThrottleMetadata(E){return this.set("throttle_metadata",E)}deleteThrottleMetadata(){return this.delete("throttle_metadata")}get(E){var T=this;return(0,H.Z)(function*(){const A=yield T.openDbPromise;return new Promise((P,L)=>{const ke=A.transaction([ct],"readonly").objectStore(ct),Se=T.createCompositeKey(E);try{const Je=ke.get(Se);Je.onerror=mt=>{L(rs(mt,"storage-get"))},Je.onsuccess=mt=>{const yt=mt.target.result;P(yt?yt.value:void 0)}}catch(Je){L(Mr.create("storage-get",{originalErrorMessage:Je?.message}))}})})()}set(E,T){var A=this;return(0,H.Z)(function*(){const P=yield A.openDbPromise;return new Promise((L,Z)=>{const Se=P.transaction([ct],"readwrite").objectStore(ct),Je=A.createCompositeKey(E);try{const mt=Se.put({compositeKey:Je,value:T});mt.onerror=yt=>{Z(rs(yt,"storage-set"))},mt.onsuccess=()=>{L()}}catch(mt){Z(Mr.create("storage-set",{originalErrorMessage:mt?.message}))}})})()}delete(E){var T=this;return(0,H.Z)(function*(){const A=yield T.openDbPromise;return new Promise((P,L)=>{const ke=A.transaction([ct],"readwrite").objectStore(ct),Se=T.createCompositeKey(E);try{const Je=ke.delete(Se);Je.onerror=mt=>{L(rs(mt,"storage-delete"))},Je.onsuccess=()=>{P()}}catch(Je){L(Mr.create("storage-delete",{originalErrorMessage:Je?.message}))}})})()}createCompositeKey(E){return[this.appId,this.appName,this.namespace,E].join()}}class Tl{constructor(E){this.storage=E}getLastFetchStatus(){return this.lastFetchStatus}getLastSuccessfulFetchTimestampMillis(){return this.lastSuccessfulFetchTimestampMillis}getActiveConfig(){return this.activeConfig}loadFromStorage(){var E=this;return(0,H.Z)(function*(){const T=E.storage.getLastFetchStatus(),A=E.storage.getLastSuccessfulFetchTimestampMillis(),P=E.storage.getActiveConfig(),L=yield T;L&&(E.lastFetchStatus=L);const Z=yield A;Z&&(E.lastSuccessfulFetchTimestampMillis=Z);const ke=yield P;ke&&(E.activeConfig=ke)})()}setLastFetchStatus(E){return this.lastFetchStatus=E,this.storage.setLastFetchStatus(E)}setLastSuccessfulFetchTimestampMillis(E){return this.lastSuccessfulFetchTimestampMillis=E,this.storage.setLastSuccessfulFetchTimestampMillis(E)}setActiveConfig(E){return this.activeConfig=E,this.storage.setActiveConfig(E)}}function Af(){return As.apply(this,arguments)}function As(){return(As=(0,H.Z)(function*(){if(!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}!function ua(){(0,K._registerComponent)(new ye.wA("remote-config",function v(E,{instanceIdentifier:T}){const A=E.getProvider("app").getImmediate(),P=E.getProvider("installations-internal").getImmediate();if(typeof window>"u")throw Mr.create("registration-window");if(!(0,ne.hl)())throw Mr.create("indexed-db-unavailable");const{projectId:L,apiKey:Z,appId:ke}=A.options;if(!L)throw Mr.create("registration-project-id");if(!Z)throw Mr.create("registration-api-key");if(!ke)throw Mr.create("registration-app-id");const Se=new Hn(ke,A.name,T=T||"firebase"),Je=new Tl(Se),mt=new Ne.Yd(Tf);mt.logLevel=Ne.in.ERROR;const yt=new dn(P,K.SDK_VERSION,T,L,Z,ke),Qr=new xr(yt,Se),dr=new $e(Qr,Se,Je,mt),Kl=new aa(A,dr,Je,Se,mt);return function yr(v){const E=(0,ne.m9)(v);E._initializePromise||(E._initializePromise=E._storageCache.loadFromStorage().then(()=>{E._isInitializationComplete=!0}))}(Kl),Kl},"PUBLIC").setMultipleInstances(!0)),(0,K.registerVersion)(Tf,"0.4.4"),(0,K.registerVersion)(Tf,"0.4.4","esm2017")}();const Ms=(v,E)=>E.some(T=>v instanceof T);let bl,Do;const Sl=new WeakMap,Al=new WeakMap,qr=new WeakMap,la=new WeakMap,To=new WeakMap;let dy={get(v,E,T){if(v instanceof IDBTransaction){if("done"===E)return Al.get(v);if("objectStoreNames"===E)return v.objectStoreNames||qr.get(v);if("store"===E)return T.objectStoreNames[1]?void 0:T.objectStore(T.objectStoreNames[0])}return Nr(v[E])},set:(v,E,T)=>(v[E]=T,!0),has:(v,E)=>v instanceof IDBTransaction&&("done"===E||"store"===E)||E in v};function ld(v){return"function"==typeof v?function Kr(v){return v!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function lI(){return Do||(Do=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(v)?function(...E){return v.apply(iu(this),E),Nr(Sl.get(this))}:function(...E){return Nr(v.apply(iu(this),E))}:function(E,...T){const A=v.call(iu(this),E,...T);return qr.set(A,E.sort?E.sort():[E]),Nr(A)}}(v):(v instanceof IDBTransaction&&function _r(v){if(Al.has(v))return;const E=new Promise((T,A)=>{const P=()=>{v.removeEventListener("complete",L),v.removeEventListener("error",Z),v.removeEventListener("abort",Z)},L=()=>{T(),P()},Z=()=>{A(v.error||new DOMException("AbortError","AbortError")),P()};v.addEventListener("complete",L),v.addEventListener("error",Z),v.addEventListener("abort",Z)});Al.set(v,E)}(v),Ms(v,function Ot(){return bl||(bl=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(v,dy):v)}function Nr(v){if(v instanceof IDBRequest)return function ru(v){const E=new Promise((T,A)=>{const P=()=>{v.removeEventListener("success",L),v.removeEventListener("error",Z)},L=()=>{T(Nr(v.result)),P()},Z=()=>{A(v.error),P()};v.addEventListener("success",L),v.addEventListener("error",Z)});return E.then(T=>{T instanceof IDBCursor&&Sl.set(T,v)}).catch(()=>{}),To.set(E,v),E}(v);if(la.has(v))return la.get(v);const E=ld(v);return E!==v&&(la.set(v,E),To.set(E,v)),E}const iu=v=>To.get(v);function Gi(v,E,{blocked:T,upgrade:A,blocking:P,terminated:L}={}){const Z=indexedDB.open(v,E),ke=Nr(Z);return A&&Z.addEventListener("upgradeneeded",Se=>{A(Nr(Z.result),Se.oldVersion,Se.newVersion,Nr(Z.transaction))}),T&&Z.addEventListener("blocked",()=>T()),ke.then(Se=>{L&&Se.addEventListener("close",()=>L()),P&&Se.addEventListener("versionchange",()=>P())}).catch(()=>{}),ke}function su(v,{blocked:E}={}){const T=indexedDB.deleteDatabase(v);return E&&T.addEventListener("blocked",()=>E()),Nr(T).then(()=>{})}const hy=["get","getKey","getAll","getAllKeys","count"],fy=["put","add","delete","clear"],py=new Map;function gy(v,E){if(!(v instanceof IDBDatabase)||E in v||"string"!=typeof E)return;if(py.get(E))return py.get(E);const T=E.replace(/FromIndex$/,""),A=E!==T,P=fy.includes(T);if(!(T in(A?IDBIndex:IDBObjectStore).prototype)||!P&&!hy.includes(T))return;const L=function(){var Z=(0,H.Z)(function*(ke,...Se){const Je=this.transaction(ke,P?"readwrite":"readonly");let mt=Je.store;return A&&(mt=mt.index(Se.shift())),(yield Promise.all([mt[T](...Se),P&&Je.done]))[0]});return function(Se){return Z.apply(this,arguments)}}();return py.set(E,L),L}!function Mi(v){dy=v(dy)}(v=>({...v,get:(E,T,A)=>gy(E,T)||v.get(E,T,A),has:(E,T)=>!!gy(E,T)||v.has(E,T)}));const my="/firebase-messaging-sw.js",cI="/firebase-cloud-messaging-push-scope",yy="BDOU99-h67HcA6JeFXHbSNMu7e2yNNu3RzoMj8TM4W88jITfq7ZmPvIM1Iv-4_l2LxQcYwhqby2xGpWwzjfAnG4",US="https://fcmregistrations.googleapis.com/v1",dI="google.c.a.c_id",kn="google.c.a.c_l",BS="google.c.a.ts";var ca=(()=>((ca=ca||{}).PUSH_RECEIVED="push-received",ca.NOTIFICATION_CLICKED="notification-clicked",ca))();function bo(v){const E=new Uint8Array(v);return btoa(String.fromCharCode(...E)).replace(/=/g,"").replace(/\+/g,"-").replace(/\//g,"_")}function jS(v){const T=(v+"=".repeat((4-v.length%4)%4)).replace(/\-/g,"+").replace(/_/g,"/"),A=atob(T),P=new Uint8Array(A.length);for(let L=0;L<A.length;++L)P[L]=A.charCodeAt(L);return P}const Mf="fcm_token_details_db",_y=5,xf="fcm_token_object_Store";function cd(){return cd=(0,H.Z)(function*(v){if("databases"in indexedDB&&!(yield indexedDB.databases()).map(L=>L.name).includes(Mf))return null;let E=null;return(yield Gi(Mf,_y,{upgrade:(A=(0,H.Z)(function*(P,L,Z,ke){var Se;if(L<2||!P.objectStoreNames.contains(xf))return;const Je=ke.objectStore(xf),mt=yield Je.index("fcmSenderId").get(v);if(yield Je.clear(),mt)if(2===L){const yt=mt;if(!yt.auth||!yt.p256dh||!yt.endpoint)return;E={token:yt.fcmToken,createTime:null!==(Se=yt.createTime)&&void 0!==Se?Se:Date.now(),subscriptionOptions:{auth:yt.auth,p256dh:yt.p256dh,endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:"string"==typeof yt.vapidKey?yt.vapidKey:bo(yt.vapidKey)}}}else if(3===L){const yt=mt;E={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:bo(yt.auth),p256dh:bo(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:bo(yt.vapidKey)}}}else if(4===L){const yt=mt;E={token:yt.fcmToken,createTime:yt.createTime,subscriptionOptions:{auth:bo(yt.auth),p256dh:bo(yt.p256dh),endpoint:yt.endpoint,swScope:yt.swScope,vapidKey:bo(yt.vapidKey)}}}}),function(L,Z,ke,Se){return A.apply(this,arguments)})})).close(),yield su(Mf),yield su("fcm_vapid_details_db"),yield su("undefined"),function hI(v){if(!v||!v.subscriptionOptions)return!1;const{subscriptionOptions:E}=v;return"number"==typeof v.createTime&&v.createTime>0&&"string"==typeof v.token&&v.token.length>0&&"string"==typeof E.auth&&E.auth.length>0&&"string"==typeof E.p256dh&&E.p256dh.length>0&&"string"==typeof E.endpoint&&E.endpoint.length>0&&"string"==typeof E.swScope&&E.swScope.length>0&&"string"==typeof E.vapidKey&&E.vapidKey.length>0}(E)?E:null;var A}),cd.apply(this,arguments)}const So="firebase-messaging-database",Ml=1,is="firebase-messaging-store";let xl=null;function dd(){return xl||(xl=Gi(So,Ml,{upgrade:(v,E)=>{0===E&&v.createObjectStore(is)}})),xl}function hd(v){return Nl.apply(this,arguments)}function Nl(){return Nl=(0,H.Z)(function*(v){const E=ou(v),A=yield(yield dd()).transaction(is).objectStore(is).get(E);if(A)return A;{const P=yield function GS(v){return cd.apply(this,arguments)}(v.appConfig.senderId);if(P)return yield Nf(v,P),P}}),Nl.apply(this,arguments)}function Nf(v,E){return vy.apply(this,arguments)}function vy(){return(vy=(0,H.Z)(function*(v,E){const T=ou(v),P=(yield dd()).transaction(is,"readwrite");return yield P.objectStore(is).put(E,T),yield P.done,E})).apply(this,arguments)}function ui(){return(ui=(0,H.Z)(function*(v){const E=ou(v),A=(yield dd()).transaction(is,"readwrite");yield A.objectStore(is).delete(E),yield A.done})).apply(this,arguments)}function ou({appConfig:v}){return v.appId}const ur=new ne.LL("messaging","Messaging",{"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"only-available-in-window":"This method is available in a Window context.","only-available-in-sw":"This method is available in a service worker context.","permission-default":"The notification permission was not granted and dismissed instead.","permission-blocked":"The notification permission was not granted and blocked instead.","unsupported-browser":"This browser doesn't support the API's required to use the Firebase SDK.","indexed-db-unsupported":"This browser doesn't support indexedDb.open() (ex. Safari iFrame, Firefox Private Browsing, etc)","failed-service-worker-registration":"We are unable to register the default service worker. {$browserErrorMessage}","token-subscribe-failed":"A problem occurred while subscribing the user to FCM: {$errorInfo}","token-subscribe-no-token":"FCM returned no token when subscribing the user to push.","token-unsubscribe-failed":"A problem occurred while unsubscribing the user from FCM: {$errorInfo}","token-update-failed":"A problem occurred while updating the user from FCM: {$errorInfo}","token-update-no-token":"FCM returned no token when updating the user to push.","use-sw-after-get-token":"The useServiceWorker() method may only be called once and must be called before calling getToken() to ensure your service worker is used.","invalid-sw-registration":"The input to useServiceWorker() must be a ServiceWorkerRegistration.","invalid-bg-handler":"The input to setBackgroundMessageHandler() must be a function.","invalid-vapid-key":"The public VAPID key must be a string.","use-vapid-key-after-get-token":"The usePublicVapidKey() method may only be called once and must be called before calling getToken() to ensure your VAPID key is used."});function HS(v,E){return Rl.apply(this,arguments)}function Rl(){return(Rl=(0,H.Z)(function*(v,E){const T=yield uu(v),A=Pl(E),P={method:"POST",headers:T,body:JSON.stringify(A)};let L;try{L=yield(yield fetch(fd(v.appConfig),P)).json()}catch(Z){throw ur.create("token-subscribe-failed",{errorInfo:Z?.toString()})}if(L.error)throw ur.create("token-subscribe-failed",{errorInfo:L.error.message});if(!L.token)throw ur.create("token-subscribe-no-token");return L.token})).apply(this,arguments)}function au(){return(au=(0,H.Z)(function*(v,E){const T=yield uu(v),A=Pl(E.subscriptionOptions),P={method:"PATCH",headers:T,body:JSON.stringify(A)};let L;try{L=yield(yield fetch(`${fd(v.appConfig)}/${E.token}`,P)).json()}catch(Z){throw ur.create("token-update-failed",{errorInfo:Z?.toString()})}if(L.error)throw ur.create("token-update-failed",{errorInfo:L.error.message});if(!L.token)throw ur.create("token-update-no-token");return L.token})).apply(this,arguments)}function Ey(v,E){return Pf.apply(this,arguments)}function Pf(){return(Pf=(0,H.Z)(function*(v,E){const A={method:"DELETE",headers:yield uu(v)};try{const L=yield(yield fetch(`${fd(v.appConfig)}/${E}`,A)).json();if(L.error)throw ur.create("token-unsubscribe-failed",{errorInfo:L.error.message})}catch(P){throw ur.create("token-unsubscribe-failed",{errorInfo:P?.toString()})}})).apply(this,arguments)}function fd({projectId:v}){return`${US}/projects/${v}/registrations`}function uu(v){return pd.apply(this,arguments)}function pd(){return(pd=(0,H.Z)(function*({appConfig:v,installations:E}){const T=yield E.getToken();return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":v.apiKey,"x-goog-firebase-installations-auth":`FIS ${T}`})})).apply(this,arguments)}function Pl({p256dh:v,auth:E,endpoint:T,vapidKey:A}){const P={web:{endpoint:T,auth:E,p256dh:v}};return A!==yy&&(P.web.applicationPubKey=A),P}const fI=6048e5;function Iy(){return Iy=(0,H.Z)(function*(v){const E=yield function kl(v,E){return _d.apply(this,arguments)}(v.swRegistration,v.vapidKey),T={vapidKey:v.vapidKey,swScope:v.swRegistration.scope,endpoint:E.endpoint,auth:bo(E.getKey("auth")),p256dh:bo(E.getKey("p256dh"))},A=yield hd(v.firebaseDependencies);if(A){if(function Ol(v,E){return E.vapidKey===v.vapidKey&&E.endpoint===v.endpoint&&E.auth===v.auth&&E.p256dh===v.p256dh}(A.subscriptionOptions,T))return Date.now()>=A.createTime+fI?function pI(v,E){return kf.apply(this,arguments)}(v,{token:A.token,createTime:Date.now(),subscriptionOptions:T}):A.token;try{yield Ey(v.firebaseDependencies,A.token)}catch(P){console.warn(P)}return md(v.firebaseDependencies,T)}return md(v.firebaseDependencies,T)}),Iy.apply(this,arguments)}function gd(){return gd=(0,H.Z)(function*(v){const E=yield hd(v.firebaseDependencies);E&&(yield Ey(v.firebaseDependencies,E.token),yield function wy(v){return ui.apply(this,arguments)}(v.firebaseDependencies));const T=yield v.swRegistration.pushManager.getSubscription();return!T||T.unsubscribe()}),gd.apply(this,arguments)}function kf(){return kf=(0,H.Z)(function*(v,E){try{const T=yield function Rf(v,E){return au.apply(this,arguments)}(v.firebaseDependencies,E),A=Object.assign(Object.assign({},E),{token:T,createTime:Date.now()});return yield Nf(v.firebaseDependencies,A),T}catch(T){throw yield function Cy(v){return gd.apply(this,arguments)}(v),T}}),kf.apply(this,arguments)}function md(v,E){return yd.apply(this,arguments)}function yd(){return(yd=(0,H.Z)(function*(v,E){const A={token:yield HS(v,E),createTime:Date.now(),subscriptionOptions:E};return yield Nf(v,A),A.token})).apply(this,arguments)}function _d(){return(_d=(0,H.Z)(function*(v,E){return(yield v.pushManager.getSubscription())||v.pushManager.subscribe({userVisibleOnly:!0,applicationServerKey:jS(E)})})).apply(this,arguments)}function Ao(v){const E={from:v.from,collapseKey:v.collapse_key,messageId:v.fcmMessageId};return function Dy(v,E){if(!E.notification)return;v.notification={};const T=E.notification.title;T&&(v.notification.title=T);const A=E.notification.body;A&&(v.notification.body=A);const P=E.notification.image;P&&(v.notification.image=P);const L=E.notification.icon;L&&(v.notification.icon=L)}(E,v),function da(v,E){E.data&&(v.data=E.data)}(E,v),function Ty(v,E){var T,A,P,L,Z;if(!(E.fcmOptions||null!==(T=E.notification)&&void 0!==T&&T.click_action))return;v.fcmOptions={};const ke=null!==(P=null===(A=E.fcmOptions)||void 0===A?void 0:A.link)&&void 0!==P?P:null===(L=E.notification)||void 0===L?void 0:L.click_action;ke&&(v.fcmOptions.link=ke);const Se=null===(Z=E.fcmOptions)||void 0===Z?void 0:Z.analytics_label;Se&&(v.fcmOptions.analyticsLabel=Se)}(E,v),E}function vd(v,E){const T=[];for(let A=0;A<v.length;A++)T.push(v.charAt(A)),A<E.length&&T.push(E.charAt(A));return T.join("")}function tn(v){return ur.create("missing-app-config-values",{valueName:v})}vd("hts/frbslgigp.ogepscmv/ieo/eaylg","tp:/ieaeogn-agolai.o/1frlglgc/o"),vd("AzSCbw63g1R0nCw85jG8","Iaya3yLKwmgvh7cF0q4");class Of{constructor(E,T,A){this.deliveryMetricsExportedToBigQueryEnabled=!1,this.onBackgroundMessageHandler=null,this.onMessageHandler=null,this.logEvents=[],this.isLogServiceStarted=!1;const P=function Fl(v){if(!v||!v.options)throw tn("App Configuration Object");if(!v.name)throw tn("App Name");const E=["projectId","apiKey","appId","messagingSenderId"],{options:T}=v;for(const A of E)if(!T[A])throw tn(A);return{appName:v.name,projectId:T.projectId,apiKey:T.apiKey,appId:T.appId,senderId:T.messagingSenderId}}(E);this.firebaseDependencies={app:E,appConfig:P,installations:T,analyticsProvider:A}}_delete(){return Promise.resolve()}}function lr(){return(lr=(0,H.Z)(function*(v){try{v.swRegistration=yield navigator.serviceWorker.register(my,{scope:cI}),v.swRegistration.update().catch(()=>{})}catch(E){throw ur.create("failed-service-worker-registration",{browserErrorMessage:E?.message})}})).apply(this,arguments)}function ha(){return(ha=(0,H.Z)(function*(v,E){if(!E&&!v.swRegistration&&(yield function Mo(v){return lr.apply(this,arguments)}(v)),E||!v.swRegistration){if(!(E instanceof ServiceWorkerRegistration))throw ur.create("invalid-sw-registration");v.swRegistration=E}})).apply(this,arguments)}function Rr(){return(Rr=(0,H.Z)(function*(v,E){E?v.vapidKey=E:v.vapidKey||(v.vapidKey=yy)})).apply(this,arguments)}function Ed(){return Ed=(0,H.Z)(function*(v,E){if(!navigator)throw ur.create("only-available-in-window");if("default"===Notification.permission&&(yield Notification.requestPermission()),"granted"!==Notification.permission)throw ur.create("permission-blocked");return yield function xo(v,E){return Rr.apply(this,arguments)}(v,E?.vapidKey),yield function wd(v,E){return ha.apply(this,arguments)}(v,E?.serviceWorkerRegistration),function zS(v){return Iy.apply(this,arguments)}(v)}),Ed.apply(this,arguments)}function os(){return(os=(0,H.Z)(function*(v,E,T){const A=function Lf(v){switch(v){case ca.NOTIFICATION_CLICKED:return"notification_open";case ca.PUSH_RECEIVED:return"notification_foreground";default:throw new Error}}(E);(yield v.firebaseDependencies.analyticsProvider.get()).logEvent(A,{message_id:T[dI],message_name:T[kn],message_time:T[BS],message_device_time:Math.floor(Date.now()/1e3)})})).apply(this,arguments)}function lu(){return lu=(0,H.Z)(function*(v,E){const T=E.data;if(!T.isFirebaseMessaging)return;v.onMessageHandler&&T.messageType===ca.PUSH_RECEIVED&&("function"==typeof v.onMessageHandler?v.onMessageHandler(Ao(T)):v.onMessageHandler.next(Ao(T)));const A=T.data;(function ss(v){return"object"==typeof v&&!!v&&dI in v})(A)&&"1"===A["google.c.a.e"]&&(yield function by(v,E,T){return os.apply(this,arguments)}(v,T.messageType,A))}),lu.apply(this,arguments)}const cu="@firebase/messaging",gI=v=>{const E=new Of(v.getProvider("app").getImmediate(),v.getProvider("installations-internal").getImmediate(),v.getProvider("analytics-internal"));return navigator.serviceWorker.addEventListener("message",T=>function Vf(v,E){return lu.apply(this,arguments)}(E,T)),E},ft=v=>{const E=v.getProvider("messaging").getImmediate();return{getToken:A=>function Ff(v,E){return Ed.apply(this,arguments)}(E,A)}};function Cd(){return Ll.apply(this,arguments)}function Ll(){return(Ll=(0,H.Z)(function*(){try{yield(0,ne.eu)()}catch{return!1}return typeof window<"u"&&(0,ne.hl)()&&(0,ne.zI)()&&"serviceWorker"in navigator&&"PushManager"in window&&"Notification"in window&&"fetch"in window&&ServiceWorkerRegistration.prototype.hasOwnProperty("showNotification")&&PushSubscription.prototype.hasOwnProperty("getKey")})).apply(this,arguments)}!function Uf(){(0,K._registerComponent)(new ye.wA("messaging",gI,"PUBLIC")),(0,K._registerComponent)(new ye.wA("messaging-internal",ft,"PRIVATE")),(0,K.registerVersion)(cu,"0.12.4"),(0,K.registerVersion)(cu,"0.12.4","esm2017")}();const Dd="analytics",ce="firebase_id",Ut="origin",My=6e4,jf="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",zn="https://www.googletagmanager.com/gtag/js",Wn=new Ne.Yd("@firebase/analytics"),hn=new ne.LL("analytics","Analytics",{"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-intialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."});function Td(v){if(!v.startsWith(zn)){const E=hn.create("invalid-gtag-resource",{gtagURL:v});return Wn.warn(E.message),""}return v}function bd(v){return Promise.all(v.map(E=>E.catch(T=>T)))}function xi(){return(xi=(0,H.Z)(function*(v,E,T,A,P,L){const Z=A[P];try{if(Z)yield E[Z];else{const Se=(yield bd(T)).find(Je=>Je.measurementId===P);Se&&(yield E[Se.appId])}}catch(ke){Wn.error(ke)}v("config",P,L)})).apply(this,arguments)}function Zs(){return(Zs=(0,H.Z)(function*(v,E,T,A,P){try{let L=[];if(P&&P.send_to){let Z=P.send_to;Array.isArray(Z)||(Z=[Z]);const ke=yield bd(T);for(const Se of Z){const Je=ke.find(yt=>yt.measurementId===Se),mt=Je&&E[Je.appId];if(!mt){L=[];break}L.push(mt)}}0===L.length&&(L=Object.values(E)),yield Promise.all(L),v("event",A,P||{})}catch(L){Wn.error(L)}})).apply(this,arguments)}const yI=30,Ul=new class Hf{constructor(E={},T=1e3){this.throttleMetadata=E,this.intervalMillis=T}getThrottleMetadata(E){return this.throttleMetadata[E]}setThrottleMetadata(E,T){this.throttleMetadata[E]=T}deleteThrottleMetadata(E){delete this.throttleMetadata[E]}};function Ny(v){return new Headers({Accept:"application/json","x-goog-api-key":v})}function Wf(){return(Wf=(0,H.Z)(function*(v){var E;const{appId:T,apiKey:A}=v,P={method:"GET",headers:Ny(A)},L=jf.replace("{app-id}",T),Z=yield fetch(L,P);if(200!==Z.status&&304!==Z.status){let ke="";try{const Se=yield Z.json();null!==(E=Se.error)&&void 0!==E&&E.message&&(ke=Se.error.message)}catch{}throw hn.create("config-fetch-failed",{httpStatus:Z.status,responseMessage:ke})}return Z.json()})).apply(this,arguments)}function Bl(){return(Bl=(0,H.Z)(function*(v,E=Ul,T){const{appId:A,apiKey:P,measurementId:L}=v.options;if(!A)throw hn.create("no-app-id");if(!P){if(L)return{measurementId:L,appId:A};throw hn.create("no-api-key")}const Z=E.getThrottleMetadata(A)||{backoffCount:0,throttleEndTimeMillis:Date.now()},ke=new $l;return setTimeout((0,H.Z)(function*(){ke.abort()}),void 0!==T?T:My),qf({appId:A,apiKey:P,measurementId:L},Z,ke,E)})).apply(this,arguments)}function qf(v,E,T){return Md.apply(this,arguments)}function Md(){return Md=(0,H.Z)(function*(v,{throttleEndTimeMillis:E,backoffCount:T},A,P=Ul){var L;const{appId:Z,measurementId:ke}=v;try{yield function Py(v,E){return new Promise((T,A)=>{const P=Math.max(E-Date.now(),0),L=setTimeout(T,P);v.addEventListener(()=>{clearTimeout(L),A(hn.create("fetch-throttle",{throttleEndTimeMillis:E}))})})}(A,E)}catch(Se){if(ke)return Wn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Se?.message}]`),{appId:Z,measurementId:ke};throw Se}try{const Se=yield function zf(v){return Wf.apply(this,arguments)}(v);return P.deleteThrottleMetadata(Z),Se}catch(Se){const Je=Se;if(!function Kf(v){if(!(v instanceof ne.ZR&&v.customData))return!1;const E=Number(v.customData.httpStatus);return 429===E||500===E||503===E||504===E}(Je)){if(P.deleteThrottleMetadata(Z),ke)return Wn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${ke} provided in the "measurementId" field in the local Firebase config. [${Je?.message}]`),{appId:Z,measurementId:ke};throw Se}const mt=503===Number(null===(L=Je?.customData)||void 0===L?void 0:L.httpStatus)?(0,ne.$s)(T,P.intervalMillis,yI):(0,ne.$s)(T,P.intervalMillis),yt={throttleEndTimeMillis:Date.now()+mt,backoffCount:T+1};return P.setThrottleMetadata(Z,yt),Wn.debug(`Calling attemptFetch again in ${mt} millis`),qf(v,yt,A,P)}}),Md.apply(this,arguments)}class $l{constructor(){this.listeners=[]}addEventListener(E){this.listeners.push(E)}abort(){this.listeners.forEach(E=>E())}}let Yf,xd;function wr(){return(wr=(0,H.Z)(function*(v,E,T,A,P){if(P&&P.global)v("event",T,A);else{const L=yield E;v("event",T,Object.assign(Object.assign({},A),{send_to:L}))}})).apply(this,arguments)}function ya(){return(ya=(0,H.Z)(function*(){if(!(0,ne.hl)())return Wn.warn(hn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;try{yield(0,ne.eu)()}catch(v){return Wn.warn(hn.create("indexeddb-unavailable",{errorInfo:v?.toString()}).message),!1}return!0})).apply(this,arguments)}function No(){return No=(0,H.Z)(function*(v,E,T,A,P,L,Z){var ke;const Se=function Ry(v){return Bl.apply(this,arguments)}(v);Se.then(dr=>{T[dr.measurementId]=dr.appId,v.options.measurementId&&dr.measurementId!==v.options.measurementId&&Wn.warn(`The measurement ID in the local Firebase config (${v.options.measurementId}) does not match the measurement ID fetched from the server (${dr.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(dr=>Wn.error(dr)),E.push(Se);const Je=function jl(){return ya.apply(this,arguments)}().then(dr=>{if(dr)return A.getId()}),[mt,yt]=yield Promise.all([Se,Je]);(function Ad(v){const E=window.document.getElementsByTagName("script");for(const T of Object.values(E))if(T.src&&T.src.includes(zn)&&T.src.includes(v))return T;return null})(L)||function qS(v,E){const T=function xy(v,E){let T;return window.trustedTypes&&(T=window.trustedTypes.createPolicy(v,E)),T}("firebase-js-sdk-policy",{createScriptURL:Td}),A=document.createElement("script"),P=`${zn}?l=${v}&id=${E}`;A.src=T?T?.createScriptURL(P):P,A.async=!0,document.head.appendChild(A)}(L,mt.measurementId),xd&&(P("consent","default",xd),function hu(v){xd=v}(void 0)),P("js",new Date);const Qr=null!==(ke=Z?.config)&&void 0!==ke?ke:{};return Qr[Ut]="firebase",Qr.update=!0,null!=yt&&(Qr[ce]=yt),P("config",mt.measurementId,Qr),Yf&&(P("set",Yf),function fu(v){Yf=v}(void 0)),mt.measurementId}),No.apply(this,arguments)}class un{constructor(E){this.app=E}_delete(){return delete Pr[this.app.options.appId],Promise.resolve()}}let Pr={},_a=[];const Nd={};let Hi,as,Ro="dataLayer",gu=!1;function Jf(v,E,T){!function ky(){const v=[];if((0,ne.ru)()&&v.push("This is a browser extension environment."),(0,ne.zI)()||v.push("Cookies are not available."),v.length>0){const E=v.map((A,P)=>`(${P+1}) ${A}`).join(" "),T=hn.create("invalid-analytics-context",{errorInfo:E});Wn.warn(T.message)}}();const A=v.options.appId;if(!A)throw hn.create("no-app-id");if(!v.options.apiKey){if(!v.options.measurementId)throw hn.create("no-api-key");Wn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${v.options.measurementId} provided in the "measurementId" field in the local Firebase config.`)}if(null!=Pr[A])throw hn.create("already-exists",{id:A});if(!gu){!function Gf(v){let E=[];Array.isArray(window[v])?E=window[v]:window[v]=E}(Ro);const{wrappedGtag:L,gtagCore:Z}=function Sd(v,E,T,A,P){let L=function(...Z){window[A].push(arguments)};return window[P]&&"function"==typeof window[P]&&(L=window[P]),window[P]=function Ns(v,E,T,A){function L(){return L=(0,H.Z)(function*(Z,...ke){try{if("event"===Z){const[Se,Je]=ke;yield function xs(v,E,T,A,P){return Zs.apply(this,arguments)}(v,E,T,Se,Je)}else if("config"===Z){const[Se,Je]=ke;yield function vr(v,E,T,A,P,L){return xi.apply(this,arguments)}(v,E,T,A,Se,Je)}else if("consent"===Z){const[Se]=ke;v("consent","update",Se)}else if("get"===Z){const[Se,Je,mt]=ke;v("get",Se,Je,mt)}else if("set"===Z){const[Se]=ke;v("set",Se)}else v(Z,...ke)}catch(Se){Wn.error(Se)}}),L.apply(this,arguments)}return function P(Z){return L.apply(this,arguments)}}(L,v,E,T),{gtagCore:L,wrappedGtag:window[P]}}(Pr,_a,Nd,Ro,"gtag");as=L,Hi=Z,gu=!0}return Pr[A]=function Xf(v,E,T,A,P,L,Z){return No.apply(this,arguments)}(v,_a,Nd,E,Hi,Ro,T),new un(v)}function Gl(){return Po.apply(this,arguments)}function Po(){return(Po=(0,H.Z)(function*(){if((0,ne.ru)()||!(0,ne.zI)()||!(0,ne.hl)())return!1;try{return yield(0,ne.eu)()}catch{return!1}})).apply(this,arguments)}const Oo="@firebase/analytics";!function Xs(){(0,K._registerComponent)(new ye.wA(Dd,(E,{options:T})=>Jf(E.getProvider("app").getImmediate(),E.getProvider("installations-internal").getImmediate(),T),"PUBLIC")),(0,K._registerComponent)(new ye.wA("analytics-internal",function v(E){try{const T=E.getProvider(Dd).getImmediate();return{logEvent:(A,P,L)=>function wa(v,E,T,A){v=(0,ne.m9)(v),function vI(v,E,T,A,P){return wr.apply(this,arguments)}(as,Pr[v.app.options.appId],E,T,A).catch(P=>Wn.error(P))}(T,A,P,L)}}catch(T){throw hn.create("interop-component-reg-failed",{reason:T})}},"PRIVATE")),(0,K.registerVersion)(Oo,"0.10.0"),(0,K.registerVersion)(Oo,"0.10.0","esm2017")}();var Oy=x(7394);class Rs extends Oy.w0{constructor(E,T){super()}schedule(E,T=0){return this}}const Kn={setInterval(v,E,...T){const{delegate:A}=Kn;return A?.setInterval?A.setInterval(v,E,...T):setInterval(v,E,...T)},clearInterval(v){const{delegate:E}=Kn;return(E?.clearInterval||clearInterval)(v)},delegate:void 0};var vu=x(9039);class zl extends Rs{constructor(E,T){super(E,T),this.scheduler=E,this.work=T,this.pending=!1}schedule(E,T=0){var A;if(this.closed)return this;this.state=E;const P=this.id,L=this.scheduler;return null!=P&&(this.id=this.recycleAsyncId(L,P,T)),this.pending=!0,this.delay=T,this.id=null!==(A=this.id)&&void 0!==A?A:this.requestAsyncId(L,this.id,T),this}requestAsyncId(E,T,A=0){return Kn.setInterval(E.flush.bind(E,this),A)}recycleAsyncId(E,T,A=0){if(null!=A&&this.delay===A&&!1===this.pending)return T;null!=T&&Kn.clearInterval(T)}execute(E,T){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;const A=this._execute(E,T);if(A)return A;!1===this.pending&&null!=this.id&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(E,T){let P,A=!1;try{this.work(E)}catch(L){A=!0,P=L||new Error("Scheduled action threw falsy error")}if(A)return this.unsubscribe(),P}unsubscribe(){if(!this.closed){const{id:E,scheduler:T}=this,{actions:A}=T;this.work=this.state=this.scheduler=null,this.pending=!1,(0,vu.P)(A,this),null!=E&&(this.id=this.recycleAsyncId(T,E,null)),this.delay=null,super.unsubscribe()}}}const zi={now:()=>(zi.delegate||Date).now(),delegate:void 0};class kr{constructor(E,T=kr.now){this.schedulerActionCtor=E,this.now=T}schedule(E,T=0,A){return new this.schedulerActionCtor(this,E).schedule(A,T)}}kr.now=zi.now;class Er extends kr{constructor(E,T=kr.now){super(E,T),this.actions=[],this._active=!1}flush(E){const{actions:T}=this;if(this._active)return void T.push(E);let A;this._active=!0;do{if(A=E.execute(E.state,E.delay))break}while(E=T.shift());if(this._active=!1,A){for(;E=T.shift();)E.unsubscribe();throw A}}}const ep=new class Js extends Er{}(class Fy extends zl{constructor(E,T){super(E,T),this.scheduler=E,this.work=T}schedule(E,T=0){return T>0?super.schedule(E,T):(this.delay=T,this.state=E,this.scheduler.flush(this),this)}execute(E,T){return T>0||this.closed?super.execute(E,T):this._execute(E,T)}requestAsyncId(E,T,A=0){return null!=A&&A>0||null==A&&this.delay>0?super.requestAsyncId(E,T,A):(E.flush(this),0)}}),Pd=new Er(zl);var Wl=x(5592),kd=x(9397),wt=x(5137),eo=x(3093);const Ea=new y.GfV("7.6.1"),li="__angularfire_symbol__analyticsIsSupportedValue",to="__angularfire_symbol__analyticsIsSupported",ql="__angularfire_symbol__remoteConfigIsSupportedValue",Yr="__angularfire_symbol__remoteConfigIsSupported",Ps="__angularfire_symbol__messagingIsSupportedValue",Od="__angularfire_symbol__messagingIsSupported";function DI(v,E,T){if(E){if(1===E.length)return E[0];const L=E.filter(Z=>Z.app===T);if(1===L.length)return L[0]}return T.container.getProvider(v).getImmediate({optional:!0})}globalThis[to]||(globalThis[to]=Gl().then(v=>globalThis[li]=v).catch(()=>globalThis[li]=!1)),globalThis[Od]||(globalThis[Od]=Cd().then(v=>globalThis[Ps]=v).catch(()=>globalThis[Ps]=!1)),globalThis[Yr]||(globalThis[Yr]=Af().then(v=>globalThis[ql]=v).catch(()=>globalThis[ql]=!1));const Vy=(v,E)=>{const T=E?[E]:(0,W.C6)(),A=[];return T.forEach(P=>{P.container.getProvider(v).instances.forEach(Z=>{A.includes(Z)||A.push(Z)})}),A};function Eu(){}class Fo{constructor(E,T=ep){this.zone=E,this.delegate=T}now(){return this.delegate.now()}schedule(E,T,A){const P=this.zone;return this.delegate.schedule(function(Z){P.runGuarded(()=>{E.apply(this,[Z])})},T,A)}}class Uy{constructor(E){this.zone=E,this.task=null}call(E,T){const A=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eu,{},Eu,Eu)),T.pipe((0,kd.b)({next:A,complete:A,error:A})).subscribe(E).add(A)}unscheduleTask(){setTimeout(()=>{null!=this.task&&"scheduled"===this.task.state&&(this.task.invoke(),this.task=null)},10)}}let Fd=(()=>{class v{constructor(T){this.ngZone=T,this.outsideAngular=T.runOutsideAngular(()=>new Fo(Zone.current)),this.insideAngular=T.run(()=>new Fo(Zone.current,Pd)),globalThis.\u0275AngularFireScheduler||(globalThis.\u0275AngularFireScheduler=this)}}return v.\u0275fac=function(T){return new(T||v)(y.LFG(y.R0b))},v.\u0275prov=y.Yz7({token:v,factory:v.\u0275fac,providedIn:"root"}),v})();function Kt(){const v=globalThis.\u0275AngularFireScheduler;if(!v)throw new Error("Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using\nprovideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).");return v}function Or(v){return Kt().ngZone.run(()=>v())}function Iu(v){return Kt(),function Ia(v){return function(T){return(T=T.lift(new Uy(v.ngZone))).pipe((0,wt.R)(v.outsideAngular),(0,eo.Q)(v.insideAngular))}}(Kt())(v)}const Ca=(v,E)=>function(){const A=arguments;return E&&setTimeout(()=>{"scheduled"===E.state&&E.invoke()},10),Or(()=>v.apply(void 0,A))},Cu=(v,E)=>function(){let T;const A=arguments;for(let L=0;L<arguments.length;L++)"function"==typeof A[L]&&(E&&(T||(T=Or(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Eu,{},Eu,Eu)))),A[L]=Ca(A[L],T));const P=function Zt(v){return Kt().ngZone.runOutsideAngular(()=>v())}(()=>v.apply(this,A));if(!E){if(P instanceof Wl.y){const L=Kt();return P.pipe((0,wt.R)(L.outsideAngular),(0,eo.Q)(L.insideAngular))}return Or(()=>P)}return P instanceof Wl.y?P.pipe(Iu):P instanceof Promise?Or(()=>new Promise((L,Z)=>P.then(ke=>Or(()=>L(ke)),ke=>Or(()=>Z(ke))))):"function"==typeof P&&T?function(){return setTimeout(()=>{T&&"scheduled"===T.state&&T.invoke()},10),P.apply(this,arguments)}:Or(()=>P)}},9058:(lt,Ee,x)=>{x.d(Ee,{$s:()=>Ws,BH:()=>ue,DV:()=>jr,GJ:()=>$r,L:()=>ve,LL:()=>de,P0:()=>vn,Pz:()=>Ce,Sg:()=>Te,UI:()=>Vt,US:()=>ye,Wl:()=>Qe,Yr:()=>we,ZB:()=>X,ZR:()=>oe,aH:()=>ge,b$:()=>Ds,cI:()=>Ct,dS:()=>Ts,eu:()=>q,g5:()=>H,gK:()=>Jt,gQ:()=>rt,h$:()=>Ge,hl:()=>j,hu:()=>W,jU:()=>We,m9:()=>ns,ne:()=>Gr,p$:()=>F,r3:()=>sn,ru:()=>Ii,tV:()=>B,uI:()=>Pe,ug:()=>Bn,vZ:()=>vo,w9:()=>sr,xO:()=>wn,xb:()=>En,z$:()=>Ye,zI:()=>ee});const y={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},W=function(k,R){if(!k)throw H(R)},H=function(k){return new Error("Firebase Database ("+y.SDK_VERSION+") INTERNAL ASSERT FAILED: "+k)},K=function(k){const R=[];let V=0;for(let le=0;le<k.length;le++){let Y=k.charCodeAt(le);Y<128?R[V++]=Y:Y<2048?(R[V++]=Y>>6|192,R[V++]=63&Y|128):55296==(64512&Y)&&le+1<k.length&&56320==(64512&k.charCodeAt(le+1))?(Y=65536+((1023&Y)<<10)+(1023&k.charCodeAt(++le)),R[V++]=Y>>18|240,R[V++]=Y>>12&63|128,R[V++]=Y>>6&63|128,R[V++]=63&Y|128):(R[V++]=Y>>12|224,R[V++]=Y>>6&63|128,R[V++]=63&Y|128)}return R},ye={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"==typeof atob,encodeByteArray(k,R){if(!Array.isArray(k))throw Error("encodeByteArray takes an array as a parameter");this.init_();const V=R?this.byteToCharMapWebSafe_:this.byteToCharMap_,le=[];for(let Y=0;Y<k.length;Y+=3){const He=k[Y],at=Y+1<k.length,Gt=at?k[Y+1]:0,Wt=Y+2<k.length,$n=Wt?k[Y+2]:0;let or=(15&Gt)<<2|$n>>6,zr=63&$n;Wt||(zr=64,at||(or=64)),le.push(V[He>>2],V[(3&He)<<4|Gt>>4],V[or],V[zr])}return le.join("")},encodeString(k,R){return this.HAS_NATIVE_SUPPORT&&!R?btoa(k):this.encodeByteArray(K(k),R)},decodeString(k,R){return this.HAS_NATIVE_SUPPORT&&!R?atob(k):function(k){const R=[];let V=0,le=0;for(;V<k.length;){const Y=k[V++];if(Y<128)R[le++]=String.fromCharCode(Y);else if(Y>191&&Y<224){const He=k[V++];R[le++]=String.fromCharCode((31&Y)<<6|63&He)}else if(Y>239&&Y<365){const Wt=((7&Y)<<18|(63&k[V++])<<12|(63&k[V++])<<6|63&k[V++])-65536;R[le++]=String.fromCharCode(55296+(Wt>>10)),R[le++]=String.fromCharCode(56320+(1023&Wt))}else{const He=k[V++],at=k[V++];R[le++]=String.fromCharCode((15&Y)<<12|(63&He)<<6|63&at)}}return R.join("")}(this.decodeStringToByteArray(k,R))},decodeStringToByteArray(k,R){this.init_();const V=R?this.charToByteMapWebSafe_:this.charToByteMap_,le=[];for(let Y=0;Y<k.length;){const He=V[k.charAt(Y++)],Gt=Y<k.length?V[k.charAt(Y)]:0;++Y;const $n=Y<k.length?V[k.charAt(Y)]:64;++Y;const Nt=Y<k.length?V[k.charAt(Y)]:64;if(++Y,null==He||null==Gt||null==$n||null==Nt)throw new Ne;le.push(He<<2|Gt>>4),64!==$n&&(le.push(Gt<<4&240|$n>>2),64!==Nt&&le.push($n<<6&192|Nt))}return le},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let k=0;k<this.ENCODED_VALS.length;k++)this.byteToCharMap_[k]=this.ENCODED_VALS.charAt(k),this.charToByteMap_[this.byteToCharMap_[k]]=k,this.byteToCharMapWebSafe_[k]=this.ENCODED_VALS_WEBSAFE.charAt(k),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[k]]=k,k>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(k)]=k,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(k)]=k)}}};class Ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ge=function(k){const R=K(k);return ye.encodeByteArray(R,!0)},ve=function(k){return Ge(k).replace(/\./g,"")},B=function(k){try{return ye.decodeString(k,!0)}catch(R){console.error("base64Decode failed: ",R)}return null};function F(k){return X(void 0,k)}function X(k,R){if(!(R instanceof Object))return R;switch(R.constructor){case Date:return new Date(R.getTime());case Object:void 0===k&&(k={});break;case Array:k=[];break;default:return R}for(const V in R)!R.hasOwnProperty(V)||!Ae(V)||(k[V]=X(k[V],R[V]));return k}function Ae(k){return"__proto__"!==k}const gt=()=>{try{return function _e(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__||(()=>{if(typeof process>"u"||typeof process.env>"u")return;const k=process.env.__FIREBASE_DEFAULTS__;return k?JSON.parse(k):void 0})()||(()=>{if(typeof document>"u")return;let k;try{k=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const R=k&&B(k[1]);return R&&JSON.parse(R)})()}catch(k){return void console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${k}`)}},vn=k=>{const R=(k=>{var R,V;return null===(V=null===(R=gt())||void 0===R?void 0:R.emulatorHosts)||void 0===V?void 0:V[k]})(k);if(!R)return;const V=R.lastIndexOf(":");if(V<=0||V+1===R.length)throw new Error(`Invalid host ${R} with no separate hostname and port!`);const le=parseInt(R.substring(V+1),10);return"["===R[0]?[R.substring(1,V-1),le]:[R.substring(0,V),le]},ge=()=>{var k;return null===(k=gt())||void 0===k?void 0:k.config},Ce=k=>{var R;return null===(R=gt())||void 0===R?void 0:R[`_${k}`]};class ue{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((R,V)=>{this.resolve=R,this.reject=V})}wrapCallback(R){return(V,le)=>{V?this.reject(V):this.resolve(le),"function"==typeof R&&(this.promise.catch(()=>{}),1===R.length?R(V):R(V,le))}}}function Te(k,R){if(k.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const le=R||"demo-project",Y=k.iat||0,He=k.sub||k.user_id;if(!He)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const at=Object.assign({iss:`https://securetoken.google.com/${le}`,aud:le,iat:Y,exp:Y+3600,auth_time:Y,sub:He,user_id:He,firebase:{sign_in_provider:"custom",identities:{}}},k);return[ve(JSON.stringify({alg:"none",type:"JWT"})),ve(JSON.stringify(at)),""].join(".")}function Ye(){return typeof navigator<"u"&&"string"==typeof navigator.userAgent?navigator.userAgent:""}function Pe(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Ye())}function We(){return"object"==typeof self&&self.self===self}function Ii(){const k="object"==typeof chrome?chrome.runtime:"object"==typeof browser?browser.runtime:void 0;return"object"==typeof k&&void 0!==k.id}function Ds(){return"object"==typeof navigator&&"ReactNative"===navigator.product}function we(){return!0===y.NODE_CLIENT||!0===y.NODE_ADMIN}function j(){try{return"object"==typeof indexedDB}catch{return!1}}function q(){return new Promise((k,R)=>{try{let V=!0;const le="validate-browser-context-for-indexeddb-analytics-module",Y=self.indexedDB.open(le);Y.onsuccess=()=>{Y.result.close(),V||self.indexedDB.deleteDatabase(le),k(!0)},Y.onupgradeneeded=()=>{V=!1},Y.onerror=()=>{var He;R((null===(He=Y.error)||void 0===He?void 0:He.message)||"")}}catch(V){R(V)}})}function ee(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}class oe extends Error{constructor(R,V,le){super(V),this.code=R,this.customData=le,this.name="FirebaseError",Object.setPrototypeOf(this,oe.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,de.prototype.create)}}class de{constructor(R,V,le){this.service=R,this.serviceName=V,this.errors=le}create(R,...V){const le=V[0]||{},Y=`${this.service}/${R}`,He=this.errors[R],at=He?function qe(k,R){return k.replace(Ke,(V,le)=>{const Y=R[le];return null!=Y?String(Y):`<${le}?>`})}(He,le):"Error";return new oe(Y,`${this.serviceName}: ${at} (${Y}).`,le)}}const Ke=/\{\$([^}]+)}/g;function Ct(k){return JSON.parse(k)}function Qe(k){return JSON.stringify(k)}const Tt=function(k){let R={},V={},le={},Y="";try{const He=k.split(".");R=Ct(B(He[0])||""),V=Ct(B(He[1])||""),Y=He[2],le=V.d||{},delete V.d}catch{}return{header:R,claims:V,data:le,signature:Y}},sr=function(k){const V=Tt(k).claims;return!!V&&"object"==typeof V&&V.hasOwnProperty("iat")},$r=function(k){const R=Tt(k).claims;return"object"==typeof R&&!0===R.admin};function sn(k,R){return Object.prototype.hasOwnProperty.call(k,R)}function jr(k,R){if(Object.prototype.hasOwnProperty.call(k,R))return k[R]}function En(k){for(const R in k)if(Object.prototype.hasOwnProperty.call(k,R))return!1;return!0}function Vt(k,R,V){const le={};for(const Y in k)Object.prototype.hasOwnProperty.call(k,Y)&&(le[Y]=R.call(V,k[Y],Y,k));return le}function vo(k,R){if(k===R)return!0;const V=Object.keys(k),le=Object.keys(R);for(const Y of V){if(!le.includes(Y))return!1;const He=k[Y],at=R[Y];if(ia(He)&&ia(at)){if(!vo(He,at))return!1}else if(He!==at)return!1}for(const Y of le)if(!V.includes(Y))return!1;return!0}function ia(k){return null!==k&&"object"==typeof k}function wn(k){const R=[];for(const[V,le]of Object.entries(k))Array.isArray(le)?le.forEach(Y=>{R.push(encodeURIComponent(V)+"="+encodeURIComponent(Y))}):R.push(encodeURIComponent(V)+"="+encodeURIComponent(le));return R.length?"&"+R.join("&"):""}class rt{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=64,this.pad_[0]=128;for(let R=1;R<this.blockSize;++R)this.pad_[R]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(R,V){V||(V=0);const le=this.W_;if("string"==typeof R)for(let Nt=0;Nt<16;Nt++)le[Nt]=R.charCodeAt(V)<<24|R.charCodeAt(V+1)<<16|R.charCodeAt(V+2)<<8|R.charCodeAt(V+3),V+=4;else for(let Nt=0;Nt<16;Nt++)le[Nt]=R[V]<<24|R[V+1]<<16|R[V+2]<<8|R[V+3],V+=4;for(let Nt=16;Nt<80;Nt++){const or=le[Nt-3]^le[Nt-8]^le[Nt-14]^le[Nt-16];le[Nt]=4294967295&(or<<1|or>>>31)}let $n,Mt,Y=this.chain_[0],He=this.chain_[1],at=this.chain_[2],Gt=this.chain_[3],Wt=this.chain_[4];for(let Nt=0;Nt<80;Nt++){Nt<40?Nt<20?($n=Gt^He&(at^Gt),Mt=1518500249):($n=He^at^Gt,Mt=1859775393):Nt<60?($n=He&at|Gt&(He|at),Mt=2400959708):($n=He^at^Gt,Mt=3395469782);const or=(Y<<5|Y>>>27)+$n+Wt+Mt+le[Nt]&4294967295;Wt=Gt,Gt=at,at=4294967295&(He<<30|He>>>2),He=Y,Y=or}this.chain_[0]=this.chain_[0]+Y&4294967295,this.chain_[1]=this.chain_[1]+He&4294967295,this.chain_[2]=this.chain_[2]+at&4294967295,this.chain_[3]=this.chain_[3]+Gt&4294967295,this.chain_[4]=this.chain_[4]+Wt&4294967295}update(R,V){if(null==R)return;void 0===V&&(V=R.length);const le=V-this.blockSize;let Y=0;const He=this.buf_;let at=this.inbuf_;for(;Y<V;){if(0===at)for(;Y<=le;)this.compress_(R,Y),Y+=this.blockSize;if("string"==typeof R){for(;Y<V;)if(He[at]=R.charCodeAt(Y),++at,++Y,at===this.blockSize){this.compress_(He),at=0;break}}else for(;Y<V;)if(He[at]=R[Y],++at,++Y,at===this.blockSize){this.compress_(He),at=0;break}}this.inbuf_=at,this.total_+=V}digest(){const R=[];let V=8*this.total_;this.update(this.pad_,this.inbuf_<56?56-this.inbuf_:this.blockSize-(this.inbuf_-56));for(let Y=this.blockSize-1;Y>=56;Y--)this.buf_[Y]=255&V,V/=256;this.compress_(this.buf_);let le=0;for(let Y=0;Y<5;Y++)for(let He=24;He>=0;He-=8)R[le]=this.chain_[Y]>>He&255,++le;return R}}function Gr(k,R){const V=new Sr(k,R);return V.subscribe.bind(V)}class Sr{constructor(R,V){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=V,this.task.then(()=>{R(this)}).catch(le=>{this.error(le)})}next(R){this.forEachObserver(V=>{V.next(R)})}error(R){this.forEachObserver(V=>{V.error(R)}),this.close(R)}complete(){this.forEachObserver(R=>{R.complete()}),this.close()}subscribe(R,V,le){let Y;if(void 0===R&&void 0===V&&void 0===le)throw new Error("Missing Observer.");Y=function Di(k,R){if("object"!=typeof k||null===k)return!1;for(const V of R)if(V in k&&"function"==typeof k[V])return!0;return!1}(R,["next","error","complete"])?R:{next:R,error:V,complete:le},void 0===Y.next&&(Y.next=Dn),void 0===Y.error&&(Y.error=Dn),void 0===Y.complete&&(Y.complete=Dn);const He=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?Y.error(this.finalError):Y.complete()}catch{}}),this.observers.push(Y),He}unsubscribeOne(R){void 0===this.observers||void 0===this.observers[R]||(delete this.observers[R],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(R){if(!this.finalized)for(let V=0;V<this.observers.length;V++)this.sendOne(V,R)}sendOne(R,V){this.task.then(()=>{if(void 0!==this.observers&&void 0!==this.observers[R])try{V(this.observers[R])}catch(le){typeof console<"u"&&console.error&&console.error(le)}})}close(R){this.finalized||(this.finalized=!0,void 0!==R&&(this.finalError=R),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Dn(){}function Jt(k,R){return`${k} failed: ${R} argument `}const Ts=function(k){const R=[];let V=0;for(let le=0;le<k.length;le++){let Y=k.charCodeAt(le);if(Y>=55296&&Y<=56319){const He=Y-55296;le++,W(le<k.length,"Surrogate pair missing trail surrogate."),Y=65536+(He<<10)+(k.charCodeAt(le)-56320)}Y<128?R[V++]=Y:Y<2048?(R[V++]=Y>>6|192,R[V++]=63&Y|128):Y<65536?(R[V++]=Y>>12|224,R[V++]=Y>>6&63|128,R[V++]=63&Y|128):(R[V++]=Y>>18|240,R[V++]=Y>>12&63|128,R[V++]=Y>>6&63|128,R[V++]=63&Y|128)}return R},Bn=function(k){let R=0;for(let V=0;V<k.length;V++){const le=k.charCodeAt(V);le<128?R++:le<2048?R+=2:le>=55296&&le<=56319?(R+=4,V++):R+=3}return R},sa=1e3,en=2,ji=144e5,Ti=.5;function Ws(k,R=sa,V=en){const le=R*Math.pow(V,k),Y=Math.round(Ti*le*(Math.random()-.5)*2);return Math.min(ji,le+Y)}function ns(k){return k&&k._delegate?k._delegate:k}},6311:(lt,Ee,x)=>{var y=x(4946);let W=null;function H(){return W}class ne{}const ye=new y.OlP("DocumentToken");let Ne=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return(0,y.f3M)(ve)},providedIn:"platform"}),n})();const Ge=new y.OlP("Location Initialized");let ve=(()=>{class n extends Ne{constructor(){super(),this._doc=(0,y.f3M)(ye),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return H().getBaseHref(this._doc)}onPopState(t){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){const r=H().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return new n},providedIn:"platform"}),n})();function B(n,e){if(0==n.length)return e;if(0==e.length)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,2==t?n+e.substring(1):1==t?n+e:n+"/"+e}function F(n){const e=n.match(/#|\?|$/),t=e&&e.index||n.length;return n.slice(0,t-("/"===n[t-1]?1:0))+n.slice(t)}function X(n){return n&&"?"!==n[0]?"?"+n:n}let Ae=(()=>{class n{historyGo(t){throw new Error("Not implemented")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return(0,y.f3M)(je)},providedIn:"root"}),n})();const _e=new y.OlP("appBaseHref");let je=(()=>{class n extends Ae{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??(0,y.f3M)(ye).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return B(this._baseHref,t)}path(t=!1){const r=this._platformLocation.pathname+X(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,a){const l=this.prepareExternalUrl(i+X(a));this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){const l=this.prepareExternalUrl(i+X(a));this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(Ne),y.LFG(_e,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),Et=(()=>{class n extends Ae{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],null!=r&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash;return null==r&&(r="#"),r.length>0?r.substring(1):r}prepareExternalUrl(t){const r=B(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,a){let l=this.prepareExternalUrl(i+X(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.pushState(t,r,l)}replaceState(t,r,i,a){let l=this.prepareExternalUrl(i+X(a));0==l.length&&(l=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,l)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(Ne),y.LFG(_e,8))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})(),_t=(()=>{class n{constructor(t){this._subject=new y.vpe,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;const r=this._locationStrategy.getBaseHref();this._basePath=function ge(n){if(new RegExp("^(https?:)?//").test(n)){const[,t]=n.split(/\/\/[^\/]+/);return t}return n}(F(vn(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+X(r))}normalize(t){return n.stripTrailingSlash(function rn(n,e){if(!n||!e.startsWith(n))return e;const t=e.substring(n.length);return""===t||["/",";","?","#"].includes(t[0])?t:e}(this._basePath,vn(t)))}prepareExternalUrl(t){return t&&"/"!==t[0]&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+X(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+X(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription||(this._urlChangeSubscription=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)})),()=>{const r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),0===this._urlChangeListeners.length&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}}return n.normalizeQueryParams=X,n.joinWithSlash=B,n.stripTrailingSlash=F,n.\u0275fac=function(t){return new(t||n)(y.LFG(Ae))},n.\u0275prov=y.Yz7({token:n,factory:function(){return function gt(){return new _t((0,y.LFG)(Ae))}()},providedIn:"root"}),n})();function vn(n){return n.replace(/\/index.html$/,"")}let oa=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({}),n})();function ud(n){return"server"===n}let ua=(()=>{class n{}return n.\u0275prov=(0,y.Yz7)({token:n,providedIn:"root",factory:()=>new Ss((0,y.LFG)(ye),window)}),n})();class Ss{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){this.offset=Array.isArray(e)?()=>e:e}getScrollPosition(){return this.supportsScrolling()?[this.window.pageXOffset,this.window.pageYOffset]:[0,0]}scrollToPosition(e){this.supportsScrolling()&&this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){if(!this.supportsScrolling())return;const t=function Af(n,e){const t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if("function"==typeof n.createTreeWalker&&n.body&&"function"==typeof n.body.attachShadow){const r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT);let i=r.currentNode;for(;i;){const a=i.shadowRoot;if(a){const l=a.getElementById(e)||a.querySelector(`[name="${e}"]`);if(l)return l}i=r.nextNode()}}return null}(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){if(this.supportScrollRestoration()){const t=this.window.history;t&&t.scrollRestoration&&(t.scrollRestoration=e)}}scrollToElement(e){const t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,a=this.offset();this.window.scrollTo(r-a[0],i-a[1])}supportScrollRestoration(){try{if(!this.supportsScrolling())return!1;const e=Qs(this.window.history)||Qs(Object.getPrototypeOf(this.window.history));return!(!e||!e.writable&&!e.set)}catch{return!1}}supportsScrolling(){try{return!!this.window&&!!this.window.scrollTo&&"pageXOffset"in this.window}catch{return!1}}}function Qs(n){return Object.getOwnPropertyDescriptor(n,"scrollRestoration")}class _d extends ne{constructor(){super(...arguments),this.supportsDOMEvents=!0}}class Ol extends _d{static makeCurrent(){!function K(n){W||(W=n)}(new Ol)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.parentNode&&e.parentNode.removeChild(e)}createElement(e,t){return(t=t||this.getDefaultDocument()).createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return"window"===t?window:"document"===t?e:"body"===t?e.body:null}getBaseHref(e){const t=function Dy(){return Ao=Ao||document.querySelector("base"),Ao?Ao.getAttribute("href"):null}();return null==t?null:function Ty(n){da=da||document.createElement("a"),da.setAttribute("href",n);const e=da.pathname;return"/"===e.charAt(0)?e:`/${e}`}(t)}resetBaseElement(){Ao=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return function oi(n,e){e=encodeURIComponent(e);for(const t of n.split(";")){const r=t.indexOf("="),[i,a]=-1==r?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(a)}return null}(document.cookie,e)}}let da,Ao=null,vd=(()=>{class n{build(){return new XMLHttpRequest}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const Fl=new y.OlP("EventManagerPlugins");let tn=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(a=>a.supports(t)),!r)throw new y.vHH(5101,!1);return this._eventNameToPlugin.set(t,r),r}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(Fl),y.LFG(y.R0b))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();class Of{constructor(e){this._doc=e}}const Mo="ng-app-id";let lr=(()=>{class n{constructor(t,r,i,a={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=a,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=ud(a),this.resetHostNodes()}addStyles(t){for(const r of t)1===this.changeUsageCount(r,1)&&this.onStyleAdded(r)}removeStyles(t){for(const r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){const t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(const r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(const r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(const r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){const r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){const t=this.doc.head?.querySelectorAll(`style[${Mo}="${this.appId}"]`);if(t?.length){const r=new Map;return t.forEach(i=>{null!=i.textContent&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){const i=this.styleRef;if(i.has(t)){const a=i.get(t);return a.usage+=r,a.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){const i=this.styleNodesInDOM,a=i?.get(r);if(a?.parentNode===t)return i.delete(r),a.removeAttribute(Mo),a;{const l=this.doc.createElement("style");return this.nonce&&l.setAttribute("nonce",this.nonce),l.textContent=r,this.platformIsServer&&l.setAttribute(Mo,this.appId),l}}addStyleToHost(t,r){const i=this.getStyleElement(t,r);t.appendChild(i);const a=this.styleRef,l=a.get(r)?.elements;l?l.push(i):a.set(r,{elements:[i],usage:1})}resetHostNodes(){const t=this.hostNodes;t.clear(),t.add(this.doc.head)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(ye),y.LFG(y.AFp),y.LFG(y.Ojb,8),y.LFG(y.Lbi))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const wd={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/MathML/"},ha=/%COMP%/g,by=new y.OlP("RemoveStylesOnCompDestroy",{providedIn:"root",factory:()=>!1});function Vf(n,e){return e.map(t=>t.replace(ha,n))}let lu=(()=>{class n{constructor(t,r,i,a,l,h,p,m=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=a,this.doc=l,this.platformId=h,this.ngZone=p,this.nonce=m,this.rendererByCompId=new Map,this.platformIsServer=ud(h),this.defaultRenderer=new cu(t,l,p,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===y.ifc.ShadowDom&&(r={...r,encapsulation:y.ifc.Emulated});const i=this.getOrCreateRenderer(t,r);return i instanceof Ll?i.applyToHost(t):i instanceof Cd&&i.applyStyles(),i}getOrCreateRenderer(t,r){const i=this.rendererByCompId;let a=i.get(r.id);if(!a){const l=this.doc,h=this.ngZone,p=this.eventManager,m=this.sharedStylesHost,I=this.removeStylesOnCompDestroy,C=this.platformIsServer;switch(r.encapsulation){case y.ifc.Emulated:a=new Ll(p,m,r,this.appId,I,l,h,C);break;case y.ifc.ShadowDom:return new Uf(p,m,t,r,l,h,this.nonce,C);default:a=new Cd(p,m,r,I,l,h,C)}a.onDestroy=()=>i.delete(r.id),i.set(r.id,a)}return a}ngOnDestroy(){this.rendererByCompId.clear()}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(tn),y.LFG(lr),y.LFG(y.AFp),y.LFG(by),y.LFG(ye),y.LFG(y.Lbi),y.LFG(y.R0b),y.LFG(y.Ojb))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();class cu{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(wd[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(ft(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(ft(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){e&&e.removeChild(t)}selectRootElement(e,t){let r="string"==typeof e?this.doc.querySelector(e):e;if(!r)throw new y.vHH(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;const a=wd[i];a?e.setAttributeNS(a,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){const i=wd[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(y.JOm.DashCase|y.JOm.Important)?e.style.setProperty(t,r,i&y.JOm.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&y.JOm.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e[t]=r}setValue(e,t){e.nodeValue=t}listen(e,t,r){if("string"==typeof e&&!(e=H().getGlobalEventTarget(this.doc,e)))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if("__ngUnwrap__"===t)return e;!1===(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))&&t.preventDefault()}}}function ft(n){return"TEMPLATE"===n.tagName&&void 0!==n.content}class Uf extends cu{constructor(e,t,r,i,a,l,h,p){super(e,a,l,p),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);const m=Vf(i.id,i.styles);for(const I of m){const C=document.createElement("style");h&&C.setAttribute("nonce",h),C.textContent=I,this.shadowRoot.appendChild(C)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(this.nodeOrShadowRoot(e),t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}}class Cd extends cu{constructor(e,t,r,i,a,l,h,p){super(e,a,l,h),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.rendererUsageCount=0,this.styles=p?Vf(p,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles),this.rendererUsageCount++}destroy(){this.removeStylesOnCompDestroy&&(this.sharedStylesHost.removeStyles(this.styles),this.rendererUsageCount--,0===this.rendererUsageCount&&this.onDestroy?.())}}class Ll extends Cd{constructor(e,t,r,i,a,l,h,p){const m=i+"-"+r.id;super(e,t,r,a,l,h,p,m),this.contentAttr=function os(n){return"_ngcontent-%COMP%".replace(ha,n)}(m),this.hostAttr=function Lf(n){return"_nghost-%COMP%".replace(ha,n)}(m)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){const r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}}let Sy=(()=>{class n extends Of{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(ye))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const Vl=["alt","control","meta","shift"],Bf={"\b":"Backspace","\t":"Tab","\x7f":"Delete","\x1b":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},du={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey};let mI=(()=>{class n extends Of{constructor(t){super(t)}supports(t){return null!=n.parseEventName(t)}addEventListener(t,r,i){const a=n.parseEventName(r),l=n.eventCallback(a.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>H().onAndCancel(t,a.domEventName,l))}static parseEventName(t){const r=t.toLowerCase().split("."),i=r.shift();if(0===r.length||"keydown"!==i&&"keyup"!==i)return null;const a=n._normalizeKey(r.pop());let l="",h=r.indexOf("code");if(h>-1&&(r.splice(h,1),l="code."),Vl.forEach(m=>{const I=r.indexOf(m);I>-1&&(r.splice(I,1),l+=m+".")}),l+=a,0!=r.length||0===a.length)return null;const p={};return p.domEventName=i,p.fullKey=l,p}static matchEventFullKeyCode(t,r){let i=Bf[t.key]||t.key,a="";return r.indexOf("code.")>-1&&(i=t.code,a="code."),!(null==i||!i)&&(i=i.toLowerCase()," "===i?i="space":"."===i&&(i="dot"),Vl.forEach(l=>{l!==i&&(0,du[l])(t)&&(a+=l+".")}),a+=i,a===r)}static eventCallback(t,r,i){return a=>{n.matchEventFullKeyCode(a,t)&&i.runGuarded(()=>r(a))}}static _normalizeKey(t){return"esc"===t?"escape":t}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(ye))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();const zn=(0,y.eFA)(y._c5,"browser",[{provide:y.Lbi,useValue:"browser"},{provide:y.g9A,useValue:function ce(){Ol.makeCurrent()},multi:!0},{provide:ye,useFactory:function My(){return(0,y.RDi)(document),document},deps:[]}]),Wn=new y.OlP(""),fa=[{provide:y.rWj,useClass:class ss{addToWindow(e){y.dqk.getAngularTestability=(r,i=!0)=>{const a=e.findTestabilityInTree(r,i);if(null==a)throw new y.vHH(5103,!1);return a},y.dqk.getAllAngularTestabilities=()=>e.getAllTestabilities(),y.dqk.getAllAngularRootElements=()=>e.getAllRootElements(),y.dqk.frameworkStabilizers||(y.dqk.frameworkStabilizers=[]),y.dqk.frameworkStabilizers.push(r=>{const i=y.dqk.getAllAngularTestabilities();let a=i.length,l=!1;const h=function(p){l=l||p,a--,0==a&&r(l)};i.forEach(p=>{p.whenStable(h)})})}findTestabilityInTree(e,t,r){return null==t?null:e.getTestability(t)??(r?H().isShadowRoot(t)?this.findTestabilityInTree(e,t.host,!0):this.findTestabilityInTree(e,t.parentElement,!0):null)}},deps:[]},{provide:y.lri,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]},{provide:y.dDg,useClass:y.dDg,deps:[y.R0b,y.eoX,y.rWj]}],hn=[{provide:y.zSh,useValue:"root"},{provide:y.qLn,useFactory:function Ut(){return new y.qLn},deps:[]},{provide:Fl,useClass:Sy,multi:!0,deps:[ye,y.R0b,y.Lbi]},{provide:Fl,useClass:mI,multi:!0,deps:[ye]},lu,lr,tn,{provide:y.FYo,useExisting:lu},{provide:class Ms{},useClass:vd,deps:[]},[]];let Td=(()=>{class n{constructor(t){}static withServerTransition(t){return{ngModule:n,providers:[{provide:y.AFp,useValue:t.appId}]}}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(Wn,12))},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[...hn,...fa],imports:[oa,y.hGG]}),n})(),vr=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(ye))},n.\u0275prov=y.Yz7({token:n,factory:function(t){let r=null;return r=t?new t:function Gf(){return new vr((0,y.LFG)(ye))}(),r},providedIn:"root"}),n})();typeof window<"u"&&window;var ga=x(5592),ma=x(4674),qn=x(2459),pt=x(2096),On=x(5619);const{isArray:xd}=Array,{getPrototypeOf:hu,prototype:fu,keys:jl}=Object;function ya(n){if(1===n.length){const e=n[0];if(xd(e))return{args:e,keys:null};if(function Xf(n){return n&&"object"==typeof n&&hu(n)===fu}(e)){const t=jl(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}var No=x(2737),un=x(7398);const{isArray:Pr}=Array;function Nd(n){return(0,un.U)(e=>function _a(n,e){return Pr(e)?n(...e):n(e)}(n,e))}var Ro=x(4564);function pu(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}var Hi=x(8251),as=x(7103);function gu(...n){const e=(0,Ro.yG)(n),t=(0,Ro.jO)(n),{args:r,keys:i}=ya(n);if(0===r.length)return(0,qn.D)([],e);const a=new ga.y(function KS(n,e,t=No.y){return r=>{ky(e,()=>{const{length:i}=n,a=new Array(i);let l=i,h=i;for(let p=0;p<i;p++)ky(e,()=>{const m=(0,qn.D)(n[p],e);let I=!1;m.subscribe((0,Hi.x)(r,C=>{a[p]=C,I||(I=!0,h--),h||r.next(t(a.slice()))},()=>{--l||r.complete()}))},r)},r)}}(r,e,i?l=>pu(i,l):No.y));return t?a.pipe(Nd(t)):a}function ky(n,e,t){n?(0,as.f)(t,n,e):e()}const va=(0,x(2306).d)(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});var mu=x(7537);function Po(...n){return function Gl(){return(0,mu.J)(1)}()((0,qn.D)(n,(0,Ro.yG)(n)))}var yu=x(4829);function EI(n){return new ga.y(e=>{(0,yu.Xf)(n()).subscribe(e)})}var Hl=x(8407);function _u(n,e){const t=(0,ma.m)(n)?n:()=>n,r=i=>i.error(t());return new ga.y(e?i=>e.schedule(r,0,i):r)}var ko=x(6232),us=x(7394),ls=x(9360);function wa(){return(0,ls.e)((n,e)=>{let t=null;n._refCount++;const r=(0,Hi.x)(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount)return void(t=null);const i=n._connection,a=t;t=null,i&&(!a||i===a)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}class Rd extends ga.y{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,(0,ls.A)(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){const e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;const{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new us.w0;const t=this.getSubject();e.add(this.source.subscribe((0,Hi.x)(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=us.w0.EMPTY)}return e}refCount(){return wa()(this)}}var Oo=x(8645),Ni=x(4664);function Xs(n){return n<=0?()=>ko.E:(0,ls.e)((e,t)=>{let r=0;e.subscribe((0,Hi.x)(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Rs(n,e){return(0,ls.e)((t,r)=>{let i=0;t.subscribe((0,Hi.x)(r,a=>n.call(e,a,i++)&&r.next(a)))})}var Kn=x(1631);function vu(n){return(0,ls.e)((e,t)=>{let r=!1;e.subscribe((0,Hi.x)(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function zl(n=Fy){return(0,ls.e)((e,t)=>{let r=!1;e.subscribe((0,Hi.x)(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function Fy(){return new va}function zi(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Rs((i,a)=>n(i,a,r)):No.y,Xs(1),t?vu(e):zl(()=>new va))}function kr(n,e){return(0,ma.m)(e)?(0,Kn.z)(n,e,1):(0,Kn.z)(n,1)}var Er=x(9397);function Js(n){return(0,ls.e)((e,t)=>{let a,r=null,i=!1;r=e.subscribe((0,Hi.x)(t,void 0,void 0,l=>{a=(0,yu.Xf)(n(l,Js(n)(e))),r?(r.unsubscribe(),r=null,a.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,a.subscribe(t))})}function Pd(n){return n<=0?()=>ko.E:(0,ls.e)((e,t)=>{let r=[];e.subscribe((0,Hi.x)(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(const i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function kd(n){return(0,ls.e)((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}const wt="primary",eo=Symbol("RouteTitle");class Ea{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){const t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}}function li(n){return new Ea(n)}function to(n,e,t){const r=t.path.split("/");if(r.length>n.length||"full"===t.pathMatch&&(e.hasChildren()||r.length<n.length))return null;const i={};for(let a=0;a<r.length;a++){const l=r[a],h=n[a];if(l.startsWith(":"))i[l.substring(1)]=h;else if(l!==h.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function Yr(n,e){const t=n?Object.keys(n):void 0,r=e?Object.keys(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let a=0;a<t.length;a++)if(i=t[a],!Ps(n[i],e[i]))return!1;return!0}function Ps(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;const t=[...n].sort(),r=[...e].sort();return t.every((i,a)=>r[a]===i)}return n===e}function Od(n){return n.length>0?n[n.length-1]:null}function cs(n){return function Zf(n){return!!n&&(n instanceof ga.y||(0,ma.m)(n.lift)&&(0,ma.m)(n.subscribe))}(n)?n:(0,y.QGY)(n)?(0,qn.D)(Promise.resolve(n)):(0,pt.of)(n)}const YS={exact:function Vy(n,e,t){if(!cr(n.segments,e.segments)||!Fd(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(const r in e.children)if(!n.children[r]||!Vy(n.children[r],e.children[r],t))return!1;return!0},subset:Fo},II={exact:function DI(n,e){return Yr(n,e)},subset:function Eu(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>Ps(n[t],e[t]))},ignored:()=>!0};function CI(n,e,t){return YS[t.paths](n.root,e.root,t.matrixParams)&&II[t.queryParams](n.queryParams,e.queryParams)&&!("exact"===t.fragment&&n.fragment!==e.fragment)}function Fo(n,e,t){return Uy(n,e,e.segments,t)}function Uy(n,e,t,r){if(n.segments.length>t.length){const i=n.segments.slice(0,t.length);return!(!cr(i,t)||e.hasChildren()||!Fd(i,t,r))}if(n.segments.length===t.length){if(!cr(n.segments,t)||!Fd(n.segments,t,r))return!1;for(const i in e.children)if(!n.children[i]||!Fo(n.children[i],e.children[i],r))return!1;return!0}{const i=t.slice(0,n.segments.length),a=t.slice(n.segments.length);return!!(cr(n.segments,i)&&Fd(n.segments,i,r)&&n.children[wt])&&Uy(n.children[wt],e,a,r)}}function Fd(n,e,t){return e.every((r,i)=>II[t](n[i].parameters,r.parameters))}class Kt{constructor(e=new Zt([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=li(this.queryParams)),this._queryParamMap}toString(){return Cu.serialize(this)}}class Zt{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return v(this)}}class Or{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap||(this._parameterMap=li(this.parameters)),this._parameterMap}toString(){return Se(this)}}function cr(n,e){return n.length===e.length&&n.every((t,r)=>t.path===e[r].path)}let Ia=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return new Ca},providedIn:"root"}),n})();class Ca{parse(e){const t=new tp(e);return new Kt(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){const t=`/${E(e.root,!0)}`,r=function mt(n){const e=Object.keys(n).map(t=>{const r=n[t];return Array.isArray(r)?r.map(i=>`${A(t)}=${A(i)}`).join("&"):`${A(t)}=${A(r)}`}).filter(t=>!!t);return e.length?`?${e.join("&")}`:""}(e.queryParams);return`${t}${r}${"string"==typeof e.fragment?`#${function P(n){return encodeURI(n)}(e.fragment)}`:""}`}}const Cu=new Ca;function v(n){return n.segments.map(e=>Se(e)).join("/")}function E(n,e){if(!n.hasChildren())return v(n);if(e){const t=n.children[wt]?E(n.children[wt],!1):"",r=[];return Object.entries(n.children).forEach(([i,a])=>{i!==wt&&r.push(`${i}:${E(a,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}{const t=function Iu(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===wt&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==wt&&(t=t.concat(e(i,r)))}),t}(n,(r,i)=>i===wt?[E(n.children[wt],!1)]:[`${i}:${E(r,!1)}`]);return 1===Object.keys(n.children).length&&null!=n.children[wt]?`${v(n)}/${t[0]}`:`${v(n)}/(${t.join("//")})`}}function T(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function A(n){return T(n).replace(/%3B/gi,";")}function L(n){return T(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Z(n){return decodeURIComponent(n)}function ke(n){return Z(n.replace(/\+/g,"%20"))}function Se(n){return`${L(n.path)}${function Je(n){return Object.keys(n).map(e=>`;${L(e)}=${L(n[e])}`).join("")}(n.parameters)}`}const yt=/^[^\/()?;#]+/;function Qr(n){const e=n.match(yt);return e?e[0]:""}const dr=/^[^\/()?;=#]+/,Du=/^[^=?&#]+/,Wi=/^[^&#]+/;class tp{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),""===this.remaining||this.peekStartsWith("?")||this.peekStartsWith("#")?new Zt([],{}):new Zt([],this.parseChildren())}parseQueryParams(){const e={};if(this.consumeOptional("?"))do{this.parseQueryParam(e)}while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(""===this.remaining)return{};this.consumeOptional("/");const e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[wt]=new Zt(e,t)),r}parseSegment(){const e=Qr(this.remaining);if(""===e&&this.peekStartsWith(";"))throw new y.vHH(4009,!1);return this.capture(e),new Or(Z(e),this.parseMatrixParams())}parseMatrixParams(){const e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){const t=function Kl(n){const e=n.match(dr);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const i=Qr(this.remaining);i&&(r=i,this.capture(r))}e[Z(t)]=Z(r)}parseQueryParam(e){const t=function no(n){const e=n.match(Du);return e?e[0]:""}(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){const l=function qi(n){const e=n.match(Wi);return e?e[0]:""}(this.remaining);l&&(r=l,this.capture(r))}const i=ke(t),a=ke(r);if(e.hasOwnProperty(i)){let l=e[i];Array.isArray(l)||(l=[l],e[i]=l),l.push(a)}else e[i]=a}parseParens(e){const t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){const r=Qr(this.remaining),i=this.remaining[r.length];if("/"!==i&&")"!==i&&";"!==i)throw new y.vHH(4010,!1);let a;r.indexOf(":")>-1?(a=r.slice(0,r.indexOf(":")),this.capture(a),this.capture(":")):e&&(a=wt);const l=this.parseChildren();t[a]=1===Object.keys(l).length?l[wt]:new Zt([],l),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return!!this.peekStartsWith(e)&&(this.remaining=this.remaining.substring(e.length),!0)}capture(e){if(!this.consumeOptional(e))throw new y.vHH(4011,!1)}}function Ld(n){return n.segments.length>0?new Zt([],{[wt]:n}):n}function bI(n){const e={};for(const r of Object.keys(n.children)){const a=bI(n.children[r]);if(r===wt&&0===a.segments.length&&a.hasChildren())for(const[l,h]of Object.entries(a.children))e[l]=h;else(a.segments.length>0||a.hasChildren())&&(e[r]=a)}return function SI(n){if(1===n.numberOfChildren&&n.children[wt]){const e=n.children[wt];return new Zt(n.segments.concat(e.segments),e.children)}return n}(new Zt(n.segments,e))}function Lo(n){return n instanceof Kt}function By(n){let e;const i=Ld(function t(a){const l={};for(const p of a.children){const m=t(p);l[p.outlet]=m}const h=new Zt(a.url,l);return a===n&&(e=h),h}(n.root));return e??i}function AI(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(0===e.length)return Tu(i,i,i,t,r);const a=function xI(n){if("string"==typeof n[0]&&1===n.length&&"/"===n[0])return new QS(!0,0,n);let e=0,t=!1;const r=n.reduce((i,a,l)=>{if("object"==typeof a&&null!=a){if(a.outlets){const h={};return Object.entries(a.outlets).forEach(([p,m])=>{h[p]="string"==typeof m?m.split("/"):m}),[...i,{outlets:h}]}if(a.segmentPath)return[...i,a.segmentPath]}return"string"!=typeof a?[...i,a]:0===l?(a.split("/").forEach((h,p)=>{0==p&&"."===h||(0==p&&""===h?t=!0:".."===h?e++:""!=h&&i.push(h))}),i):[...i,a]},[]);return new QS(t,e,r)}(e);if(a.toRoot())return Tu(i,i,new Zt([],{}),t,r);const l=function c1(n,e,t){if(n.isAbsolute)return new ip(e,!0,0);if(!t)return new ip(e,!1,NaN);if(null===t.parent)return new ip(t,!0,0);const r=rp(n.commands[0])?0:1;return function ZS(n,e,t){let r=n,i=e,a=t;for(;a>i;){if(a-=i,r=r.parent,!r)throw new y.vHH(4005,!1);i=r.segments.length}return new ip(r,!1,i-a)}(t,t.segments.length-1+r,n.numberOfDoubleDots)}(a,i,n),h=l.processChildren?Da(l.segmentGroup,l.index,a.commands):NI(l.segmentGroup,l.index,a.commands);return Tu(i,l.segmentGroup,h,t,r)}function rp(n){return"object"==typeof n&&null!=n&&!n.outlets&&!n.segmentPath}function ro(n){return"object"==typeof n&&null!=n&&n.outlets}function Tu(n,e,t,r,i){let l,a={};r&&Object.entries(r).forEach(([p,m])=>{a[p]=Array.isArray(m)?m.map(I=>`${I}`):`${m}`}),l=n===e?t:MI(n,e,t);const h=Ld(bI(l));return new Kt(h,a,i)}function MI(n,e,t){const r={};return Object.entries(n.children).forEach(([i,a])=>{r[i]=a===e?t:MI(a,e,t)}),new Zt(n.segments,r)}class QS{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&rp(r[0]))throw new y.vHH(4003,!1);const i=r.find(ro);if(i&&i!==Od(r))throw new y.vHH(4004,!1)}toRoot(){return this.isAbsolute&&1===this.commands.length&&"/"==this.commands[0]}}class ip{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}}function NI(n,e,t){if(n||(n=new Zt([],{})),0===n.segments.length&&n.hasChildren())return Da(n,e,t);const r=function RI(n,e,t){let r=0,i=e;const a={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return a;const l=n.segments[i],h=t[r];if(ro(h))break;const p=`${h}`,m=r<t.length-1?t[r+1]:null;if(i>0&&void 0===p)break;if(p&&m&&"object"==typeof m&&void 0===m.outlets){if(!jy(p,m,l))return a;r+=2}else{if(!jy(p,{},l))return a;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){const a=new Zt(n.segments.slice(0,r.pathIndex),{});return a.children[wt]=new Zt(n.segments.slice(r.pathIndex),n.children),Da(a,0,i)}return r.match&&0===i.length?new Zt(n.segments,{}):r.match&&!n.hasChildren()?$y(n,e,t):r.match?Da(n,0,i):$y(n,e,t)}function Da(n,e,t){if(0===t.length)return new Zt(n.segments,{});{const r=function XS(n){return ro(n[0])?n[0].outlets:{[wt]:n}}(t),i={};if(!r[wt]&&n.children[wt]&&1===n.numberOfChildren&&0===n.children[wt].segments.length){const a=Da(n.children[wt],e,t);return new Zt(n.segments,a.children)}return Object.entries(r).forEach(([a,l])=>{"string"==typeof l&&(l=[l]),null!==l&&(i[a]=NI(n.children[a],e,l))}),Object.entries(n.children).forEach(([a,l])=>{void 0===r[a]&&(i[a]=l)}),new Zt(n.segments,i)}}function $y(n,e,t){const r=n.segments.slice(0,e);let i=0;for(;i<t.length;){const a=t[i];if(ro(a)){const p=PI(a.outlets);return new Zt(r,p)}if(0===i&&rp(t[0])){r.push(new Or(n.segments[e].path,JS(t[0]))),i++;continue}const l=ro(a)?a.outlets[wt]:`${a}`,h=i<t.length-1?t[i+1]:null;l&&h&&rp(h)?(r.push(new Or(l,JS(h))),i+=2):(r.push(new Or(l,{})),i++)}return new Zt(r,{})}function PI(n){const e={};return Object.entries(n).forEach(([t,r])=>{"string"==typeof r&&(r=[r]),null!==r&&(e[t]=$y(new Zt([],{}),0,r))}),e}function JS(n){const e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function jy(n,e,t){return n==t.path&&Yr(e,t.parameters)}const sp="imperative";class io{constructor(e,t){this.id=e,this.url=t}}class Gy extends io{constructor(e,t,r="imperative",i=null){super(e,t),this.type=0,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}}class Vo extends io{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=1}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}}class Hy extends io{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=2}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}}class op extends io{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=16}}class Vd extends io{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=3}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}}class d1 extends io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=4}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class h1 extends io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=7}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class f1 extends io{constructor(e,t,r,i,a){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=a,this.type=8}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}}class p1 extends io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=5}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class g1 extends io{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=6}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}}class eA{constructor(e){this.route=e,this.type=9}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}}class ap{constructor(e){this.route=e,this.type=10}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}}class zy{constructor(e){this.snapshot=e,this.type=11}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class kI{constructor(e){this.snapshot=e,this.type=12}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class OI{constructor(e){this.snapshot=e,this.type=13}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class FI{constructor(e){this.snapshot=e,this.type=14}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}}class bu{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=15}toString(){return`Scroll(anchor: '${this.anchor}', position: '${this.position?`${this.position[0]}, ${this.position[1]}`:null}')`}}class LI{constructor(){this.outlet=null,this.route=null,this.injector=null,this.children=new Ta,this.attachRef=null}}let Ta=(()=>{class n{constructor(){this.contexts=new Map}onChildOutletCreated(t,r){const i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){const r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){const t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new LI,this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class Ud{constructor(e){this._root=e}get root(){return this._root.value}parent(e){const t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){const t=ds(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){const t=ds(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){const t=Wy(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Wy(e,this._root).map(t=>t.value)}}function ds(n,e){if(n===e.value)return e;for(const t of e.children){const r=ds(n,t);if(r)return r}return null}function Wy(n,e){if(n===e.value)return[e];for(const t of e.children){const r=Wy(n,t);if(r.length)return r.unshift(e),r}return[]}class Uo{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}}function Yl(n){const e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}class qy extends Ud{constructor(e,t){super(e),this.snapshot=t,Zr(this,e)}toString(){return this.snapshot.toString()}}function up(n,e){const t=function nA(n,e){const l=new lp([],{},{},"",{},wt,e,null,{});return new BI("",new Uo(l,[]))}(0,e),r=new On.X([new Or("",{})]),i=new On.X({}),a=new On.X({}),l=new On.X({}),h=new On.X(""),p=new Ql(r,i,l,h,a,wt,e,t.root);return p.snapshot=t.root,new qy(new Uo(p,[]),t)}class Ql{constructor(e,t,r,i,a,l,h,p){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=a,this.outlet=l,this.component=h,this._futureSnapshot=p,this.title=this.dataSubject?.pipe((0,un.U)(m=>m[eo]))??(0,pt.of)(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=this.params.pipe((0,un.U)(e=>li(e)))),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=this.queryParams.pipe((0,un.U)(e=>li(e)))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}}function VI(n,e="emptyOnly"){const t=n.pathFromRoot;let r=0;if("always"!==e)for(r=t.length-1;r>=1;){const i=t[r],a=t[r-1];if(i.routeConfig&&""===i.routeConfig.path)r--;else{if(a.component)break;r--}}return function UI(n){return n.reduce((e,t)=>({params:{...e.params,...t.params},data:{...e.data,...t.data},resolve:{...t.data,...e.resolve,...t.routeConfig?.data,...t._resolvedData}}),{params:{},data:{},resolve:{}})}(t.slice(r))}class lp{get title(){return this.data?.[eo]}constructor(e,t,r,i,a,l,h,p,m){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=a,this.outlet=l,this.component=h,this.routeConfig=p,this._resolve=m}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap||(this._paramMap=li(this.params)),this._paramMap}get queryParamMap(){return this._queryParamMap||(this._queryParamMap=li(this.queryParams)),this._queryParamMap}toString(){return`Route(url:'${this.url.map(r=>r.toString()).join("/")}', path:'${this.routeConfig?this.routeConfig.path:""}')`}}class BI extends Ud{constructor(e,t){super(t),this.url=e,Zr(this,t)}toString(){return cp(this._root)}}function Zr(n,e){e.value._routerState=n,e.children.forEach(t=>Zr(n,t))}function cp(n){const e=n.children.length>0?` { ${n.children.map(cp).join(", ")} } `:"";return`${n.value}${e}`}function dp(n){if(n.snapshot){const e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,Yr(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),Yr(e.params,t.params)||n.paramsSubject.next(t.params),function ql(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!Yr(n[t],e[t]))return!1;return!0}(e.url,t.url)||n.urlSubject.next(t.url),Yr(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function Bd(n,e){const t=Yr(n.params,e.params)&&function TI(n,e){return cr(n,e)&&n.every((t,r)=>Yr(t.parameters,e[r].parameters))}(n.url,e.url);return t&&!(!n.parent!=!e.parent)&&(!n.parent||Bd(n.parent,e.parent))}let Ir=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=wt,this.activateEvents=new y.vpe,this.deactivateEvents=new y.vpe,this.attachEvents=new y.vpe,this.detachEvents=new y.vpe,this.parentContexts=(0,y.f3M)(Ta),this.location=(0,y.f3M)(y.s_b),this.changeDetector=(0,y.f3M)(y.sBO),this.environmentInjector=(0,y.f3M)(y.lqb),this.inputBinder=(0,y.f3M)(jd,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){const{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;const t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new y.vHH(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new y.vHH(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new y.vHH(4012,!1);this.location.detach();const t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){const t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new y.vHH(4013,!1);this._activatedRoute=t;const i=this.location,l=t.snapshot.component,h=this.parentContexts.getOrCreateContext(this.name).children,p=new $d(t,h,i.injector);this.activated=i.createComponent(l,{index:i.length,injector:p,environmentInjector:r??this.environmentInjector}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=y.lG2({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[y.TTD]}),n})();class $d{constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Ql?this.route:e===Ta?this.childContexts:this.parent.get(e,t)}}const jd=new y.OlP("");let Ky=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){const{activatedRoute:r}=t,i=gu([r.queryParams,r.params,r.data]).pipe((0,Ni.w)(([a,l,h],p)=>(h={...a,...l,...h},0===p?(0,pt.of)(h):Promise.resolve(h)))).subscribe(a=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||null===r.component)return void this.unsubscribeFromRouteData(t);const l=(0,y.qFp)(r.component);if(l)for(const{templateName:h}of l.inputs)t.activatedComponentRef.setInput(h,a[h]);else this.unsubscribeFromRouteData(t)});this.outletDataSubscriptions.set(t,i)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();function Zl(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){const r=t.value;r._futureSnapshot=e.value;const i=function iA(n,e,t){return e.children.map(r=>{for(const i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return Zl(n,r,i);return Zl(n,r)})}(n,e,t);return new Uo(r,i)}{if(n.shouldAttach(e.value)){const a=n.retrieve(e.value);if(null!==a){const l=a.route;return l.value._futureSnapshot=e.value,l.children=e.children.map(h=>Zl(n,h)),l}}const r=function $I(n){return new Ql(new On.X(n.url),new On.X(n.params),new On.X(n.queryParams),new On.X(n.fragment),new On.X(n.data),n.outlet,n.component,n)}(e.value),i=e.children.map(a=>Zl(n,a));return new Uo(r,i)}}const Yy="ngNavigationCancelingError";function Qy(n,e){const{redirectTo:t,navigationBehaviorOptions:r}=Lo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=jI(!1,0,e);return i.url=t,i.navigationBehaviorOptions=r,i}function jI(n,e,t){const r=new Error("NavigationCancelingError: "+(n||""));return r[Yy]=!0,r.cancellationCode=e,t&&(r.url=t),r}function GI(n){return hp(n)&&Lo(n.url)}function hp(n){return n&&n[Yy]}let fp=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=y.Xpm({type:n,selectors:[["ng-component"]],standalone:!0,features:[y.jDz],decls:1,vars:0,template:function(t,r){1&t&&y._UZ(0,"router-outlet")},dependencies:[Ir],encapsulation:2}),n})();function mp(n){const e=n.children&&n.children.map(mp),t=e?{...n,children:e}:{...n};return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==wt&&(t.component=fp),t}function Ki(n){return n.outlet||wt}function Gd(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){const t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}class lA{constructor(e,t,r,i,a){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=a}activate(e){const t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),dp(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){const i=Yl(t);e.children.forEach(a=>{const l=a.value.outlet;this.deactivateRoutes(a,i[l],r),delete i[l]}),Object.values(i).forEach(a=>{this.deactivateRouteAndItsChildren(a,r)})}deactivateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(i===a)if(i.component){const l=r.getContext(i.outlet);l&&this.deactivateChildRoutes(e,t,l.children)}else this.deactivateChildRoutes(e,t,r);else a&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Yl(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);if(r&&r.outlet){const l=r.outlet.detach(),h=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:l,route:e,contexts:h})}}deactivateRouteAndOutlet(e,t){const r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,a=Yl(e);for(const l of Object.keys(a))this.deactivateRouteAndItsChildren(a[l],i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){const i=Yl(t);e.children.forEach(a=>{this.activateRoutes(a,i[a.value.outlet],r),this.forwardEvent(new FI(a.value.snapshot))}),e.children.length&&this.forwardEvent(new kI(e.value.snapshot))}activateRoutes(e,t,r){const i=e.value,a=t?t.value:null;if(dp(i),i===a)if(i.component){const l=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,l.children)}else this.activateChildRoutes(e,t,r);else if(i.component){const l=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){const h=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),l.children.onOutletReAttached(h.contexts),l.attachRef=h.componentRef,l.route=h.route.value,l.outlet&&l.outlet.attach(h.componentRef,h.route.value),dp(h.route.value),this.activateChildRoutes(e,null,l.children)}else{const h=Gd(i.snapshot);l.attachRef=null,l.route=i,l.injector=h,l.outlet&&l.outlet.activateWith(i,l.injector),this.activateChildRoutes(e,null,l.children)}}else this.activateChildRoutes(e,null,r)}}class zI{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}}class _p{constructor(e,t){this.component=e,this.route=t}}function WI(n,e,t){const r=n._root;return Au(r,e?e._root:null,t,[r.value])}function Su(n,e){const t=Symbol(),r=e.get(n,t);return r===t?"function"!=typeof n||(0,y.Z0I)(n)?e.get(n):n:r}function Au(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=Yl(e);return n.children.forEach(l=>{(function cA(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){const a=n.value,l=e?e.value:null,h=t?t.getContext(n.value.outlet):null;if(l&&a.routeConfig===l.routeConfig){const p=function dA(n,e,t){if("function"==typeof t)return t(n,e);switch(t){case"pathParamsChange":return!cr(n.url,e.url);case"pathParamsOrQueryParamsChange":return!cr(n.url,e.url)||!Yr(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Bd(n,e)||!Yr(n.queryParams,e.queryParams);default:return!Bd(n,e)}}(l,a,a.routeConfig.runGuardsAndResolvers);p?i.canActivateChecks.push(new zI(r)):(a.data=l.data,a._resolvedData=l._resolvedData),Au(n,e,a.component?h?h.children:null:t,r,i),p&&h&&h.outlet&&h.outlet.isActivated&&i.canDeactivateChecks.push(new _p(h.outlet.component,l))}else l&&Mu(e,h,i),i.canActivateChecks.push(new zI(r)),Au(n,null,a.component?h?h.children:null:t,r,i)})(l,a[l.value.outlet],t,r.concat([l.value]),i),delete a[l.value.outlet]}),Object.entries(a).forEach(([l,h])=>Mu(h,t.getContext(l),i)),i}function Mu(n,e,t){const r=Yl(n),i=n.value;Object.entries(r).forEach(([a,l])=>{Mu(l,i.component?e?e.children.getContext(a):null:e,t)}),t.canDeactivateChecks.push(new _p(i.component&&e&&e.outlet&&e.outlet.isActivated?e.outlet.component:null,i))}function Jl(n){return"function"==typeof n}function Xy(n){return n instanceof va||"EmptyError"===n?.name}const Hd=Symbol("INITIAL_VALUE");function ba(){return(0,Ni.w)(n=>gu(n.map(e=>e.pipe(Xs(1),function Oy(...n){const e=(0,Ro.yG)(n);return(0,ls.e)((t,r)=>{(e?Po(n,t,e):Po(n,t)).subscribe(r)})}(Hd)))).pipe((0,un.U)(e=>{for(const t of e)if(!0!==t){if(t===Hd)return Hd;if(!1===t||t instanceof Kt)return t}return!0}),Rs(e=>e!==Hd),Xs(1)))}function JI(n){return(0,Hl.z)((0,Er.b)(e=>{if(Lo(e))throw Qy(0,e)}),(0,un.U)(e=>!0===e))}class Ip{constructor(e){this.segmentGroup=e||null}}class tC{constructor(e){this.urlTree=e}}function ec(n){return _u(new Ip(n))}function t_(n){return _u(new tC(n))}class n_{constructor(e,t){this.urlSerializer=e,this.urlTree=t}noMatchError(e){return new y.vHH(4002,!1)}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),0===i.numberOfChildren)return(0,pt.of)(r);if(i.numberOfChildren>1||!i.children[wt])return _u(new y.vHH(4e3,!1));i=i.children[wt]}}applyRedirectCommands(e,t,r){return this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r)}applyRedirectCreateUrlTree(e,t,r,i){const a=this.createSegmentGroup(e,t.root,r,i);return new Kt(a,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){const r={};return Object.entries(e).forEach(([i,a])=>{if("string"==typeof a&&a.startsWith(":")){const h=a.substring(1);r[i]=t[h]}else r[i]=a}),r}createSegmentGroup(e,t,r,i){const a=this.createSegments(e,t.segments,r,i);let l={};return Object.entries(t.children).forEach(([h,p])=>{l[h]=this.createSegmentGroup(e,p,r,i)}),new Zt(a,l)}createSegments(e,t,r,i){return t.map(a=>a.path.startsWith(":")?this.findPosParam(e,a,i):this.findOrReturn(a,r))}findPosParam(e,t,r){const i=r[t.path.substring(1)];if(!i)throw new y.vHH(4001,!1);return i}findOrReturn(e,t){let r=0;for(const i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}}const Sa={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function fA(n,e,t,r,i){const a=r_(n,e,t);return a.matched?(r=function sA(n,e){return n.providers&&!n._injector&&(n._injector=(0,y.MMx)(n.providers,e,`Route: ${n.path}`)),n._injector??e}(e,r),function eC(n,e,t,r){const i=e.canMatch;if(!i||0===i.length)return(0,pt.of)(!0);const a=i.map(l=>{const h=Su(l,n);return cs(function vp(n){return n&&Jl(n.canMatch)}(h)?h.canMatch(e,t):n.runInContext(()=>h(e,t)))});return(0,pt.of)(a).pipe(ba(),JI())}(r,e,t).pipe((0,un.U)(l=>!0===l?a:{...Sa}))):(0,pt.of)(a)}function r_(n,e,t){if(""===e.path)return"full"===e.pathMatch&&(n.hasChildren()||t.length>0)?{...Sa}:{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};const i=(e.matcher||to)(t,n,e);if(!i)return{...Sa};const a={};Object.entries(i.posParams??{}).forEach(([h,p])=>{a[h]=p.path});const l=i.consumed.length>0?{...a,...i.consumed[i.consumed.length-1].parameters}:a;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:l,positionalParamSegments:i.posParams??{}}}function pA(n,e,t,r){return t.length>0&&function mA(n,e,t){return t.some(r=>Nu(n,e,r)&&Ki(r)!==wt)}(n,t,r)?{segmentGroup:new Zt(e,i_(r,new Zt(t,n.children))),slicedSegments:[]}:0===t.length&&function qd(n,e,t){return t.some(r=>Nu(n,e,r))}(n,t,r)?{segmentGroup:new Zt(n.segments,gA(n,0,t,r,n.children)),slicedSegments:t}:{segmentGroup:new Zt(n.segments,n.children),slicedSegments:t}}function gA(n,e,t,r,i){const a={};for(const l of r)if(Nu(n,t,l)&&!i[Ki(l)]){const h=new Zt([],{});a[Ki(l)]=h}return{...i,...a}}function i_(n,e){const t={};t[wt]=e;for(const r of n)if(""===r.path&&Ki(r)!==wt){const i=new Zt([],{});t[Ki(r)]=i}return t}function Nu(n,e,t){return(!(n.hasChildren()||e.length>0)||"full"!==t.pathMatch)&&""===t.path}class sC{constructor(e,t,r,i,a,l,h){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=a,this.paramsInheritanceStrategy=l,this.urlSerializer=h,this.allowRedirects=!0,this.applyRedirects=new n_(this.urlSerializer,this.urlTree)}noMatchError(e){return new y.vHH(4002,!1)}recognize(){const e=pA(this.urlTree.root,[],[],this.config).segmentGroup;return this.processSegmentGroup(this.injector,this.config,e,wt).pipe(Js(t=>{if(t instanceof tC)return this.allowRedirects=!1,this.urlTree=t.urlTree,this.match(t.urlTree);throw t instanceof Ip?this.noMatchError(t):t}),(0,un.U)(t=>{const r=new lp([],Object.freeze({}),Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,{},wt,this.rootComponentType,null,{}),i=new Uo(r,t),a=new BI("",i),l=function np(n,e,t=null,r=null){return AI(By(n),e,t,r)}(r,[],this.urlTree.queryParams,this.urlTree.fragment);return l.queryParams=this.urlTree.queryParams,a.url=this.urlSerializer.serialize(l),this.inheritParamsAndData(a._root),{state:a,tree:l}}))}match(e){return this.processSegmentGroup(this.injector,this.config,e.root,wt).pipe(Js(r=>{throw r instanceof Ip?this.noMatchError(r):r}))}inheritParamsAndData(e){const t=e.value,r=VI(t,this.paramsInheritanceStrategy);t.params=Object.freeze(r.params),t.data=Object.freeze(r.data),e.children.forEach(i=>this.inheritParamsAndData(i))}processSegmentGroup(e,t,r,i){return 0===r.segments.length&&r.hasChildren()?this.processChildren(e,t,r):this.processSegment(e,t,r,r.segments,i,!0)}processChildren(e,t,r){const i=[];for(const a of Object.keys(r.children))"primary"===a?i.unshift(a):i.push(a);return(0,qn.D)(i).pipe(kr(a=>{const l=r.children[a],h=function yp(n,e){const t=n.filter(r=>Ki(r)===e);return t.push(...n.filter(r=>Ki(r)!==e)),t}(t,a);return this.processSegmentGroup(e,h,l,a)}),function wu(n,e){return(0,ls.e)(function ep(n,e,t,r,i){return(a,l)=>{let h=t,p=e,m=0;a.subscribe((0,Hi.x)(l,I=>{const C=m++;p=h?n(p,I,C):(h=!0,I),r&&l.next(p)},i&&(()=>{h&&l.next(p),l.complete()})))}}(n,e,arguments.length>=2,!0))}((a,l)=>(a.push(...l),a)),vu(null),function Ly(n,e){const t=arguments.length>=2;return r=>r.pipe(n?Rs((i,a)=>n(i,a,r)):No.y,Pd(1),t?vu(e):zl(()=>new va))}(),(0,Kn.z)(a=>{if(null===a)return ec(r);const l=aC(a);return function oC(n){n.sort((e,t)=>e.value.outlet===wt?-1:t.value.outlet===wt?1:e.value.outlet.localeCompare(t.value.outlet))}(l),(0,pt.of)(l)}))}processSegment(e,t,r,i,a,l){return(0,qn.D)(t).pipe(kr(h=>this.processSegmentAgainstRoute(h._injector??e,t,h,r,i,a,l).pipe(Js(p=>{if(p instanceof Ip)return(0,pt.of)(null);throw p}))),zi(h=>!!h),Js(h=>{if(Xy(h))return function rC(n,e,t){return 0===e.length&&!n.children[t]}(r,i,a)?(0,pt.of)([]):ec(r);throw h}))}processSegmentAgainstRoute(e,t,r,i,a,l,h){return function s_(n,e,t,r){return!!(Ki(n)===r||r!==wt&&Nu(e,t,n))&&("**"===n.path||r_(e,n,t).matched)}(r,i,a,l)?void 0===r.redirectTo?this.matchSegmentAgainstRoute(e,i,r,a,l,h):h&&this.allowRedirects?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,a,l):ec(i):ec(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){return"**"===i.path?this.expandWildCardWithParamsAgainstRouteUsingRedirect(e,r,i,l):this.expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l)}expandWildCardWithParamsAgainstRouteUsingRedirect(e,t,r,i){const a=this.applyRedirects.applyRedirectCommands([],r.redirectTo,{});return r.redirectTo.startsWith("/")?t_(a):this.applyRedirects.lineralizeSegments(r,a).pipe((0,Kn.z)(l=>{const h=new Zt(l,{});return this.processSegment(e,t,h,l,i,!1)}))}expandRegularSegmentAgainstRouteUsingRedirect(e,t,r,i,a,l){const{matched:h,consumedSegments:p,remainingSegments:m,positionalParamSegments:I}=r_(t,i,a);if(!h)return ec(t);const C=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,I);return i.redirectTo.startsWith("/")?t_(C):this.applyRedirects.lineralizeSegments(i,C).pipe((0,Kn.z)(S=>this.processSegment(e,r,t,S.concat(m),l,!1)))}matchSegmentAgainstRoute(e,t,r,i,a,l){let h;if("**"===r.path){const p=i.length>0?Od(i).parameters:{},m=new lp(i,p,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uC(r),Ki(r),r.component??r._loadedComponent??null,r,lC(r));h=(0,pt.of)({snapshot:m,consumedSegments:[],remainingSegments:[]}),t.children={}}else h=fA(t,r,i,e).pipe((0,un.U)(({matched:p,consumedSegments:m,remainingSegments:I,parameters:C})=>p?{snapshot:new lp(m,C,Object.freeze({...this.urlTree.queryParams}),this.urlTree.fragment,uC(r),Ki(r),r.component??r._loadedComponent??null,r,lC(r)),consumedSegments:m,remainingSegments:I}:null));return h.pipe((0,Ni.w)(p=>null===p?ec(t):this.getChildConfig(e=r._injector??e,r,i).pipe((0,Ni.w)(({routes:m})=>{const I=r._loadedInjector??e,{snapshot:C,consumedSegments:S,remainingSegments:N}=p,{segmentGroup:G,slicedSegments:se}=pA(t,S,N,m);if(0===se.length&&G.hasChildren())return this.processChildren(I,m,G).pipe((0,un.U)(et=>null===et?null:[new Uo(C,et)]));if(0===m.length&&0===se.length)return(0,pt.of)([new Uo(C,[])]);const pe=Ki(r)===a;return this.processSegment(I,m,G,se,pe?wt:a,!0).pipe((0,un.U)(et=>[new Uo(C,et)]))}))))}getChildConfig(e,t,r){return t.children?(0,pt.of)({routes:t.children,injector:e}):t.loadChildren?void 0!==t._loadedRoutes?(0,pt.of)({routes:t._loadedRoutes,injector:t._loadedInjector}):function Wd(n,e,t,r){const i=e.canLoad;if(void 0===i||0===i.length)return(0,pt.of)(!0);const a=i.map(l=>{const h=Su(l,n);return cs(function qI(n){return n&&Jl(n.canLoad)}(h)?h.canLoad(e,t):n.runInContext(()=>h(e,t)))});return(0,pt.of)(a).pipe(ba(),JI())}(e,t,r).pipe((0,Kn.z)(i=>i?this.configLoader.loadChildren(e,t).pipe((0,Er.b)(a=>{t._loadedRoutes=a.routes,t._loadedInjector=a.injector})):function Cp(n){return _u(jI(!1,3))}())):(0,pt.of)({routes:[],injector:e})}}function yA(n){const e=n.value.routeConfig;return e&&""===e.path}function aC(n){const e=[],t=new Set;for(const r of n){if(!yA(r)){e.push(r);continue}const i=e.find(a=>r.value.routeConfig===a.value.routeConfig);void 0!==i?(i.children.push(...r.children),t.add(i)):e.push(r)}for(const r of t){const i=aC(r.children);e.push(new Uo(r.value,i))}return e.filter(r=>!t.has(r))}function uC(n){return n.data||{}}function lC(n){return n.resolve||{}}function vA(n){return"string"==typeof n.title||null===n.title}function cC(n){return(0,Ni.w)(e=>{const t=n(e);return t?(0,qn.D)(t).pipe((0,un.U)(()=>e)):(0,pt.of)(e)})}const Ru=new y.OlP("ROUTES");let o_=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=(0,y.f3M)(y.Sil)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return(0,pt.of)(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);const r=cs(t.loadComponent()).pipe((0,un.U)(dC),(0,Er.b)(a=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=a}),kd(()=>{this.componentLoaders.delete(t)})),i=new Rd(r,()=>new Oo.x).pipe(wa());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return(0,pt.of)({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);const a=this.loadModuleFactoryOrRoutes(r.loadChildren).pipe((0,un.U)(h=>{this.onLoadEndListener&&this.onLoadEndListener(r);let p,m;return Array.isArray(h)?m=h:(p=h.create(t).injector,m=p.get(Ru,[],y.XFs.Self|y.XFs.Optional).flat()),{routes:m.map(mp),injector:p}}),kd(()=>{this.childrenLoaders.delete(r)})),l=new Rd(a,()=>new Oo.x).pipe(wa());return this.childrenLoaders.set(r,l),l}loadModuleFactoryOrRoutes(t){return cs(t()).pipe((0,un.U)(dC),(0,Kn.z)(r=>r instanceof y.YKP||Array.isArray(r)?(0,pt.of)(r):(0,qn.D)(this.compiler.compileModuleAsync(r))))}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function dC(n){return function wA(n){return n&&"object"==typeof n&&"default"in n}(n)?n.default:n}let Dp=(()=>{class n{get hasRequestedNavigation(){return 0!==this.navigationId}constructor(){this.currentNavigation=null,this.lastSuccessfulNavigation=null,this.events=new Oo.x,this.configLoader=(0,y.f3M)(o_),this.environmentInjector=(0,y.f3M)(y.lqb),this.urlSerializer=(0,y.f3M)(Ia),this.rootContexts=(0,y.f3M)(Ta),this.inputBindingEnabled=null!==(0,y.f3M)(jd,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>(0,pt.of)(void 0),this.rootComponentType=null,this.configLoader.onLoadEndListener=i=>this.events.next(new ap(i)),this.configLoader.onLoadStartListener=i=>this.events.next(new eA(i))}complete(){this.transitions?.complete()}handleNavigationRequest(t){const r=++this.navigationId;this.transitions?.next({...this.transitions.value,...t,id:r})}setupNavigations(t){return this.transitions=new On.X({id:0,currentUrlTree:t.currentUrlTree,currentRawUrl:t.currentUrlTree,extractedUrl:t.urlHandlingStrategy.extract(t.currentUrlTree),urlAfterRedirects:t.urlHandlingStrategy.extract(t.currentUrlTree),rawUrl:t.currentUrlTree,extras:{},resolve:null,reject:null,promise:Promise.resolve(!0),source:sp,restoredState:null,currentSnapshot:t.routerState.snapshot,targetSnapshot:null,currentRouterState:t.routerState,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Rs(r=>0!==r.id),(0,un.U)(r=>({...r,extractedUrl:t.urlHandlingStrategy.extract(r.rawUrl)})),(0,Ni.w)(r=>{let i=!1,a=!1;return(0,pt.of)(r).pipe((0,Er.b)(l=>{this.currentNavigation={id:l.id,initialUrl:l.rawUrl,extractedUrl:l.extractedUrl,trigger:l.source,extras:l.extras,previousNavigation:this.lastSuccessfulNavigation?{...this.lastSuccessfulNavigation,previousNavigation:null}:null}}),(0,Ni.w)(l=>{const h=t.browserUrlTree.toString(),p=!t.navigated||l.extractedUrl.toString()!==h||h!==t.currentUrlTree.toString();if(!p&&"reload"!==(l.extras.onSameUrlNavigation??t.onSameUrlNavigation)){const I="";return this.events.next(new op(l.id,t.serializeUrl(r.rawUrl),I,0)),t.rawUrlTree=l.rawUrl,l.resolve(null),ko.E}if(t.urlHandlingStrategy.shouldProcessUrl(l.rawUrl))return Tp(l.source)&&(t.browserUrlTree=l.extractedUrl),(0,pt.of)(l).pipe((0,Ni.w)(I=>{const C=this.transitions?.getValue();return this.events.next(new Gy(I.id,this.urlSerializer.serialize(I.extractedUrl),I.source,I.restoredState)),C!==this.transitions?.getValue()?ko.E:Promise.resolve(I)}),function Aa(n,e,t,r,i,a){return(0,Kn.z)(l=>function iC(n,e,t,r,i,a,l="emptyOnly"){return new sC(n,e,t,r,i,l,a).recognize()}(n,e,t,r,l.extractedUrl,i,a).pipe((0,un.U)(({state:h,tree:p})=>({...l,targetSnapshot:h,urlAfterRedirects:p}))))}(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,t.paramsInheritanceStrategy),(0,Er.b)(I=>{if(r.targetSnapshot=I.targetSnapshot,r.urlAfterRedirects=I.urlAfterRedirects,this.currentNavigation={...this.currentNavigation,finalUrl:I.urlAfterRedirects},"eager"===t.urlUpdateStrategy){if(!I.extras.skipLocationChange){const S=t.urlHandlingStrategy.merge(I.urlAfterRedirects,I.rawUrl);t.setBrowserUrl(S,I)}t.browserUrlTree=I.urlAfterRedirects}const C=new d1(I.id,this.urlSerializer.serialize(I.extractedUrl),this.urlSerializer.serialize(I.urlAfterRedirects),I.targetSnapshot);this.events.next(C)}));if(p&&t.urlHandlingStrategy.shouldProcessUrl(t.rawUrlTree)){const{id:I,extractedUrl:C,source:S,restoredState:N,extras:G}=l,se=new Gy(I,this.urlSerializer.serialize(C),S,N);this.events.next(se);const pe=up(0,this.rootComponentType).snapshot;return r={...l,targetSnapshot:pe,urlAfterRedirects:C,extras:{...G,skipLocationChange:!1,replaceUrl:!1}},(0,pt.of)(r)}{const I="";return this.events.next(new op(l.id,t.serializeUrl(r.extractedUrl),I,1)),t.rawUrlTree=l.rawUrl,l.resolve(null),ko.E}}),(0,Er.b)(l=>{const h=new h1(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot);this.events.next(h)}),(0,un.U)(l=>r={...l,guards:WI(l.targetSnapshot,l.currentSnapshot,this.rootContexts)}),function QI(n,e){return(0,Kn.z)(t=>{const{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:a,canDeactivateChecks:l}}=t;return 0===l.length&&0===a.length?(0,pt.of)({...t,guardsResult:!0}):function wp(n,e,t,r){return(0,qn.D)(n).pipe((0,Kn.z)(i=>function e_(n,e,t,r,i){const a=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!a||0===a.length)return(0,pt.of)(!0);const l=a.map(h=>{const p=Gd(e)??i,m=Su(h,p);return cs(function v1(n){return n&&Jl(n.canDeactivate)}(m)?m.canDeactivate(n,e,t,r):p.runInContext(()=>m(n,e,t,r))).pipe(zi())});return(0,pt.of)(l).pipe(ba())}(i.component,i.route,t,e,r)),zi(i=>!0!==i,!0))}(l,r,i,n).pipe((0,Kn.z)(h=>h&&function xu(n){return"boolean"==typeof n}(h)?function zd(n,e,t,r){return(0,qn.D)(e).pipe(kr(i=>Po(function Jy(n,e){return null!==n&&e&&e(new zy(n)),(0,pt.of)(!0)}(i.route.parent,r),function ZI(n,e){return null!==n&&e&&e(new OI(n)),(0,pt.of)(!0)}(i.route,r),function XI(n,e,t){const r=e[e.length-1],a=e.slice(0,e.length-1).reverse().map(l=>function Zy(n){const e=n.routeConfig?n.routeConfig.canActivateChild:null;return e&&0!==e.length?{node:n,guards:e}:null}(l)).filter(l=>null!==l).map(l=>EI(()=>{const h=l.guards.map(p=>{const m=Gd(l.node)??t,I=Su(p,m);return cs(function hA(n){return n&&Jl(n.canActivateChild)}(I)?I.canActivateChild(r,n):m.runInContext(()=>I(r,n))).pipe(zi())});return(0,pt.of)(h).pipe(ba())}));return(0,pt.of)(a).pipe(ba())}(n,i.path,t),function Ep(n,e,t){const r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||0===r.length)return(0,pt.of)(!0);const i=r.map(a=>EI(()=>{const l=Gd(e)??t,h=Su(a,l);return cs(function KI(n){return n&&Jl(n.canActivate)}(h)?h.canActivate(e,n):l.runInContext(()=>h(e,n))).pipe(zi())}));return(0,pt.of)(i).pipe(ba())}(n,i.route,t))),zi(i=>!0!==i,!0))}(r,a,n,e):(0,pt.of)(h)),(0,un.U)(h=>({...t,guardsResult:h})))})}(this.environmentInjector,l=>this.events.next(l)),(0,Er.b)(l=>{if(r.guardsResult=l.guardsResult,Lo(l.guardsResult))throw Qy(0,l.guardsResult);const h=new f1(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(l.urlAfterRedirects),l.targetSnapshot,!!l.guardsResult);this.events.next(h)}),Rs(l=>!!l.guardsResult||(t.restoreHistory(l),this.cancelNavigationTransition(l,"",3),!1)),cC(l=>{if(l.guards.canActivateChecks.length)return(0,pt.of)(l).pipe((0,Er.b)(h=>{const p=new p1(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}),(0,Ni.w)(h=>{let p=!1;return(0,pt.of)(h).pipe(function Kd(n,e){return(0,Kn.z)(t=>{const{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return(0,pt.of)(t);let a=0;return(0,qn.D)(i).pipe(kr(l=>function _A(n,e,t,r){const i=n.routeConfig,a=n._resolve;return void 0!==i?.title&&!vA(i)&&(a[eo]=i.title),function I1(n,e,t,r){const i=function C1(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}(n);if(0===i.length)return(0,pt.of)({});const a={};return(0,qn.D)(i).pipe((0,Kn.z)(l=>function D1(n,e,t,r){const i=Gd(e)??r,a=Su(n,i);return cs(a.resolve?a.resolve(e,t):i.runInContext(()=>a(e,t)))}(n[l],e,t,r).pipe(zi(),(0,Er.b)(h=>{a[l]=h}))),Pd(1),function Wl(n){return(0,un.U)(()=>n)}(a),Js(l=>Xy(l)?ko.E:_u(l)))}(a,n,e,r).pipe((0,un.U)(l=>(n._resolvedData=l,n.data=VI(n,t).resolve,i&&vA(i)&&(n.data[eo]=i.title),null)))}(l.route,r,n,e)),(0,Er.b)(()=>a++),Pd(1),(0,Kn.z)(l=>a===i.length?(0,pt.of)(t):ko.E))})}(t.paramsInheritanceStrategy,this.environmentInjector),(0,Er.b)({next:()=>p=!0,complete:()=>{p||(t.restoreHistory(h),this.cancelNavigationTransition(h,"",2))}}))}),(0,Er.b)(h=>{const p=new g1(h.id,this.urlSerializer.serialize(h.extractedUrl),this.urlSerializer.serialize(h.urlAfterRedirects),h.targetSnapshot);this.events.next(p)}))}),cC(l=>{const h=p=>{const m=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&m.push(this.configLoader.loadComponent(p.routeConfig).pipe((0,Er.b)(I=>{p.component=I}),(0,un.U)(()=>{})));for(const I of p.children)m.push(...h(I));return m};return gu(h(l.targetSnapshot.root)).pipe(vu(),Xs(1))}),cC(()=>this.afterPreactivation()),(0,un.U)(l=>{const h=function rA(n,e,t){const r=Zl(n,e._root,t?t._root:void 0);return new qy(r,e)}(t.routeReuseStrategy,l.targetSnapshot,l.currentRouterState);return r={...l,targetRouterState:h}}),(0,Er.b)(l=>{t.currentUrlTree=l.urlAfterRedirects,t.rawUrlTree=t.urlHandlingStrategy.merge(l.urlAfterRedirects,l.rawUrl),t.routerState=l.targetRouterState,"deferred"===t.urlUpdateStrategy&&(l.extras.skipLocationChange||t.setBrowserUrl(t.rawUrlTree,l),t.browserUrlTree=l.urlAfterRedirects)}),((n,e,t,r)=>(0,un.U)(i=>(new lA(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)))(this.rootContexts,t.routeReuseStrategy,l=>this.events.next(l),this.inputBindingEnabled),Xs(1),(0,Er.b)({next:l=>{i=!0,this.lastSuccessfulNavigation=this.currentNavigation,t.navigated=!0,this.events.next(new Vo(l.id,this.urlSerializer.serialize(l.extractedUrl),this.urlSerializer.serialize(t.currentUrlTree))),t.titleStrategy?.updateTitle(l.targetRouterState.snapshot),l.resolve(!0)},complete:()=>{i=!0}}),kd(()=>{i||a||this.cancelNavigationTransition(r,"",1),this.currentNavigation?.id===r.id&&(this.currentNavigation=null)}),Js(l=>{if(a=!0,hp(l)){GI(l)||(t.navigated=!0,t.restoreHistory(r,!0));const h=new Hy(r.id,this.urlSerializer.serialize(r.extractedUrl),l.message,l.cancellationCode);if(this.events.next(h),GI(l)){const p=t.urlHandlingStrategy.merge(l.url,t.rawUrlTree),m={skipLocationChange:r.extras.skipLocationChange,replaceUrl:"eager"===t.urlUpdateStrategy||Tp(r.source)};t.scheduleNavigation(p,sp,null,m,{resolve:r.resolve,reject:r.reject,promise:r.promise})}else r.resolve(!1)}else{t.restoreHistory(r,!0);const h=new Vd(r.id,this.urlSerializer.serialize(r.extractedUrl),l,r.targetSnapshot??void 0);this.events.next(h);try{r.resolve(t.errorHandler(l))}catch(p){r.reject(p)}}return ko.E}))}))}cancelNavigationTransition(t,r,i){const a=new Hy(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(a),t.resolve(!1)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();function Tp(n){return n!==sp}let so=(()=>{class n{buildTitle(t){let r,i=t.root;for(;void 0!==i;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(a=>a.outlet===wt);return r}getResolvedTitleForRoute(t){return t.data[eo]}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return(0,y.f3M)(Yd)},providedIn:"root"}),n})(),Yd=(()=>{class n extends so{constructor(t){super(),this.title=t}updateTitle(t){const r=this.buildTitle(t);void 0!==r&&this.title.setTitle(r)}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(vr))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})(),hC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return(0,y.f3M)(pC)},providedIn:"root"}),n})();class fC{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}}let pC=(()=>{class n extends fC{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=y.n5z(n)))(r||n)}}(),n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const a_=new y.OlP("",{providedIn:"root",factory:()=>({})});let T1=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:function(){return(0,y.f3M)(b1)},providedIn:"root"}),n})(),b1=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();var ci=(()=>((ci=ci||{})[ci.COMPLETE=0]="COMPLETE",ci[ci.FAILED=1]="FAILED",ci[ci.REDIRECTING=2]="REDIRECTING",ci))();function bp(n,e){n.events.pipe(Rs(t=>t instanceof Vo||t instanceof Hy||t instanceof Vd||t instanceof op),(0,un.U)(t=>t instanceof Vo||t instanceof op?ci.COMPLETE:t instanceof Hy&&(0===t.code||1===t.code)?ci.REDIRECTING:ci.FAILED),Rs(t=>t!==ci.REDIRECTING),Xs(1)).subscribe(()=>{e()})}function S1(n){throw n}function A1(n,e,t){return e.parse("/")}const gC={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},EA={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"};let hs=(()=>{class n{get navigationId(){return this.navigationTransitions.navigationId}get browserPageId(){if("computed"===this.canceledNavigationResolution)return this.location.getState()?.\u0275routerPageId}get events(){return this.navigationTransitions.events}constructor(){this.disposed=!1,this.currentPageId=0,this.console=(0,y.f3M)(y.c2e),this.isNgZoneEnabled=!1,this.options=(0,y.f3M)(a_,{optional:!0})||{},this.pendingTasks=(0,y.f3M)(y.HDt),this.errorHandler=this.options.errorHandler||S1,this.malformedUriErrorHandler=this.options.malformedUriErrorHandler||A1,this.navigated=!1,this.lastSuccessfulId=-1,this.urlHandlingStrategy=(0,y.f3M)(T1),this.routeReuseStrategy=(0,y.f3M)(hC),this.titleStrategy=(0,y.f3M)(so),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.config=(0,y.f3M)(Ru,{optional:!0})?.flat()??[],this.navigationTransitions=(0,y.f3M)(Dp),this.urlSerializer=(0,y.f3M)(Ia),this.location=(0,y.f3M)(_t),this.componentInputBindingEnabled=!!(0,y.f3M)(jd,{optional:!0}),this.isNgZoneEnabled=(0,y.f3M)(y.R0b)instanceof y.R0b&&y.R0b.isInAngularZone(),this.resetConfig(this.config),this.currentUrlTree=new Kt,this.rawUrlTree=this.currentUrlTree,this.browserUrlTree=this.currentUrlTree,this.routerState=up(0,null),this.navigationTransitions.setupNavigations(this).subscribe(t=>{this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId??0},t=>{this.console.warn(`Unhandled Navigation Error: ${t}`)})}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){if(this.setUpLocationChangeListener(),!this.navigationTransitions.hasRequestedNavigation){const t=this.location.getState();this.navigateToSyncWithBrowser(this.location.path(!0),sp,t)}}setUpLocationChangeListener(){this.locationSubscription||(this.locationSubscription=this.location.subscribe(t=>{const r="popstate"===t.type?"popstate":"hashchange";"popstate"===r&&setTimeout(()=>{this.navigateToSyncWithBrowser(t.url,r,t.state)},0)}))}navigateToSyncWithBrowser(t,r,i){const a={replaceUrl:!0},l=i?.navigationId?i:null;if(i){const p={...i};delete p.navigationId,delete p.\u0275routerPageId,0!==Object.keys(p).length&&(a.state=p)}const h=this.parseUrl(t);this.scheduleNavigation(h,r,l,a)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(mp),this.navigated=!1,this.lastSuccessfulId=-1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.locationSubscription&&(this.locationSubscription.unsubscribe(),this.locationSubscription=void 0),this.disposed=!0}createUrlTree(t,r={}){const{relativeTo:i,queryParams:a,fragment:l,queryParamsHandling:h,preserveFragment:p}=r,m=p?this.currentUrlTree.fragment:l;let C,I=null;switch(h){case"merge":I={...this.currentUrlTree.queryParams,...a};break;case"preserve":I=this.currentUrlTree.queryParams;break;default:I=a||null}null!==I&&(I=this.removeEmptyProps(I));try{C=By(i?i.snapshot:this.routerState.snapshot.root)}catch{("string"!=typeof t[0]||!t[0].startsWith("/"))&&(t=[]),C=this.currentUrlTree.root}return AI(C,t,I,m??null)}navigateByUrl(t,r={skipLocationChange:!1}){const i=Lo(t)?t:this.parseUrl(t),a=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(a,sp,null,r)}navigate(t,r={skipLocationChange:!1}){return function IA(n){for(let e=0;e<n.length;e++)if(null==n[e])throw new y.vHH(4008,!1)}(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){let r;try{r=this.urlSerializer.parse(t)}catch(i){r=this.malformedUriErrorHandler(i,this.urlSerializer,t)}return r}isActive(t,r){let i;if(i=!0===r?{...gC}:!1===r?{...EA}:r,Lo(t))return CI(this.currentUrlTree,t,i);const a=this.parseUrl(t);return CI(this.currentUrlTree,a,i)}removeEmptyProps(t){return Object.keys(t).reduce((r,i)=>{const a=t[i];return null!=a&&(r[i]=a),r},{})}scheduleNavigation(t,r,i,a,l){if(this.disposed)return Promise.resolve(!1);let h,p,m;l?(h=l.resolve,p=l.reject,m=l.promise):m=new Promise((C,S)=>{h=C,p=S});const I=this.pendingTasks.add();return bp(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(I))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:a,resolve:h,reject:p,promise:m,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),m.catch(C=>Promise.reject(C))}setBrowserUrl(t,r){const i=this.urlSerializer.serialize(t);if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){const l={...r.extras.state,...this.generateNgRouterState(r.id,this.browserPageId)};this.location.replaceState(i,"",l)}else{const a={...r.extras.state,...this.generateNgRouterState(r.id,(this.browserPageId??0)+1)};this.location.go(i,"",a)}}restoreHistory(t,r=!1){if("computed"===this.canceledNavigationResolution){const a=this.currentPageId-(this.browserPageId??this.currentPageId);0!==a?this.location.historyGo(a):this.currentUrlTree===this.getCurrentNavigation()?.finalUrl&&0===a&&(this.resetState(t),this.browserUrlTree=t.currentUrlTree,this.resetUrlToCurrentUrlTree())}else"replace"===this.canceledNavigationResolution&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=t.currentRouterState,this.currentUrlTree=t.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.rawUrl)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return"computed"===this.canceledNavigationResolution?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();class yC{}let Zn=(()=>{class n{constructor(t,r,i,a,l){this.router=t,this.injector=i,this.preloadingStrategy=a,this.loader=l}setUpPreloading(){this.subscription=this.router.events.pipe(Rs(t=>t instanceof Vo),kr(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){const i=[];for(const a of r){a.providers&&!a._injector&&(a._injector=(0,y.MMx)(a.providers,t,`Route: ${a.path}`));const l=a._injector??t,h=a._loadedInjector??l;(a.loadChildren&&!a._loadedRoutes&&void 0===a.canLoad||a.loadComponent&&!a._loadedComponent)&&i.push(this.preloadConfig(l,a)),(a.children||a._loadedRoutes)&&i.push(this.processRoutes(h,a.children??a._loadedRoutes))}return(0,qn.D)(i).pipe((0,mu.J)())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;i=r.loadChildren&&void 0===r.canLoad?this.loader.loadChildren(t,r):(0,pt.of)(null);const a=i.pipe((0,Kn.z)(l=>null===l?(0,pt.of)(void 0):(r._loadedRoutes=l.routes,r._loadedInjector=l.injector,this.processRoutes(l.injector??t,l.routes))));if(r.loadComponent&&!r._loadedComponent){const l=this.loader.loadComponent(r);return(0,qn.D)([a,l]).pipe((0,mu.J)())}return a})}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(hs),y.LFG(y.Sil),y.LFG(y.lqb),y.LFG(yC),y.LFG(o_))},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac,providedIn:"root"}),n})();const l_=new y.OlP("");let vC=(()=>{class n{constructor(t,r,i,a,l={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=a,this.options=l,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},l.scrollPositionRestoration=l.scrollPositionRestoration||"disabled",l.anchorScrolling=l.anchorScrolling||"disabled"}init(){"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof Gy?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof Vo?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof op&&0===t.code&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof bu&&(t.position?"top"===this.options.scrollPositionRestoration?this.viewportScroller.scrollToPosition([0,0]):"enabled"===this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&"enabled"===this.options.anchorScrolling?this.viewportScroller.scrollToAnchor(t.anchor):"disabled"!==this.options.scrollPositionRestoration&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new bu(t,"popstate"===this.lastSource?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}}return n.\u0275fac=function(t){y.$Z()},n.\u0275prov=y.Yz7({token:n,factory:n.\u0275fac}),n})();function Bo(n,e){return{\u0275kind:n,\u0275providers:e}}function bA(){const n=(0,y.f3M)(y.zs3);return e=>{const t=n.get(y.z2F);if(e!==t.components[0])return;const r=n.get(hs),i=n.get(SA);1===n.get(Pu)&&r.initialNavigation(),n.get(d_,null,y.XFs.Optional)?.setUpPreloading(),n.get(l_,null,y.XFs.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}const SA=new y.OlP("",{factory:()=>new Oo.x}),Pu=new y.OlP("",{providedIn:"root",factory:()=>1}),d_=new y.OlP("");function wC(n){return Bo(0,[{provide:d_,useExisting:Zn},{provide:yC,useExisting:n}])}const NA=new y.OlP("ROUTER_FORROOT_GUARD"),h_=[_t,{provide:Ia,useClass:Ca},hs,Ta,{provide:Ql,useFactory:function c_(n){return n.routerState.root},deps:[hs]},o_,[]];function RA(){return new y.PXZ("Router",hs)}let Ap=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[h_,[],{provide:Ru,multi:!0,useValue:t},{provide:NA,useFactory:PA,deps:[[hs,new y.FiY,new y.tp0]]},{provide:a_,useValue:r||{}},r?.useHash?{provide:Ae,useClass:Et}:{provide:Ae,useClass:je},{provide:l_,useFactory:()=>{const n=(0,y.f3M)(ua),e=(0,y.f3M)(y.R0b),t=(0,y.f3M)(a_),r=(0,y.f3M)(Dp),i=(0,y.f3M)(Ia);return t.scrollOffset&&n.setOffset(t.scrollOffset),new vC(i,r,n,e,t)}},r?.preloadingStrategy?wC(r.preloadingStrategy).\u0275providers:[],{provide:y.PXZ,multi:!0,useFactory:RA},r?.initialNavigation?f_(r):[],r?.bindToComponentInputs?Bo(8,[Ky,{provide:jd,useExisting:Ky}]).\u0275providers:[],[{provide:Zd,useFactory:bA},{provide:y.tb,multi:!0,useExisting:Zd}]]}}static forChild(t){return{ngModule:n,providers:[{provide:Ru,multi:!0,useValue:t}]}}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(NA,8))},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({}),n})();function PA(n){return"guarded"}function f_(n){return["disabled"===n.initialNavigation?Bo(3,[{provide:y.ip1,multi:!0,useFactory:()=>{const e=(0,y.f3M)(hs);return()=>{e.setUpLocationChangeListener()}}},{provide:Pu,useValue:2}]).\u0275providers:[],"enabledBlocking"===n.initialNavigation?Bo(2,[{provide:Pu,useValue:0},{provide:y.ip1,multi:!0,deps:[y.zs3],useFactory:e=>{const t=e.get(Ge,Promise.resolve());return()=>t.then(()=>new Promise(r=>{const i=e.get(hs),a=e.get(SA);bp(i,()=>{r(!0)}),e.get(Dp).afterPreactivation=()=>(r(!0),a.closed?(0,pt.of)(void 0):a),i.initialNavigation()}))}}]).\u0275providers:[]]}const Zd=new y.OlP(""),OA=[];let AC=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({imports:[Ap.forRoot(OA),Ap]}),n})();var Le=x(5861),Fn=x(534),nc=x(4537),U=x(9058),fs=x(7879);const g_="@firebase/database";let Mp="";class k1{constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,t){null==t?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),(0,U.Wl)(t))}get(e){const t=this.domStorage_.getItem(this.prefixedName_(e));return null==t?null:(0,U.cI)(t)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}class O1{constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,t){null==t?delete this.cache_[e]:this.cache_[e]=t}get(e){return(0,U.r3)(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}const xC=function(n){try{if(typeof window<"u"&&typeof window[n]<"u"){const e=window[n];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new k1(e)}}catch{}return new O1},Ou=xC("localStorage"),NC=xC("sessionStorage"),Xd=new fs.Yd("@firebase/database"),Jd=function(){let n=1;return function(){return n++}}(),RC=function(n){const e=(0,U.dS)(n),t=new U.gQ;t.update(e);const r=t.digest();return U.US.encodeByteArray(r)},Fu=function(...n){let e="";for(let t=0;t<n.length;t++){const r=n[t];Array.isArray(r)||r&&"object"==typeof r&&"number"==typeof r.length?e+=Fu.apply(null,r):e+="object"==typeof r?(0,U.Wl)(r):r,e+=" "}return e};let $o=null,rc=!0;const Xn=function(...n){if(!0===rc&&(rc=!1,null===$o&&!0===NC.get("logging_enabled")&&function(n,e){(0,U.hu)(!e||!0===n||!1===n,"Can't turn on custom loggers persistently."),!0===n?(Xd.logLevel=fs.in.VERBOSE,$o=Xd.log.bind(Xd),e&&NC.set("logging_enabled",!0)):"function"==typeof n?$o=n:($o=null,NC.remove("logging_enabled"))}(!0)),$o){const e=Fu.apply(null,n);$o(e)}},jo=function(n){return function(...e){Xn(n,...e)}},ic=function(...n){const e="FIREBASE INTERNAL ERROR: "+Fu(...n);Xd.error(e)},Ri=function(...n){const e=`FIREBASE FATAL ERROR: ${Fu(...n)}`;throw Xd.error(e),new Error(e)},Fr=function(...n){const e="FIREBASE WARNING: "+Fu(...n);Xd.warn(e)},Lu=function(n){return"number"==typeof n&&(n!=n||n===Number.POSITIVE_INFINITY||n===Number.NEGATIVE_INFINITY)},oo="[MIN_NAME]",ks="[MAX_NAME]",Ma=function(n,e){if(n===e)return 0;if(n===oo||e===ks)return-1;if(e===oo||n===ks)return 1;{const t=Rp(n),r=Rp(e);return null!==t?null!==r?t-r==0?n.length-e.length:t-r:-1:null!==r?1:n<e?-1:1}},FA=function(n,e){return n===e?0:n<e?-1:1},eh=function(n,e){if(e&&n in e)return e[n];throw new Error("Missing required key ("+n+") in object: "+(0,U.Wl)(e))},Np=function(n){if("object"!=typeof n||null===n)return(0,U.Wl)(n);const e=[];for(const r in n)e.push(r);e.sort();let t="{";for(let r=0;r<e.length;r++)0!==r&&(t+=","),t+=(0,U.Wl)(e[r]),t+=":",t+=Np(n[e[r]]);return t+="}",t},__=function(n,e){const t=n.length;if(t<=e)return[n];const r=[];for(let i=0;i<t;i+=e)r.push(n.substring(i,i+e>t?t:i+e));return r};function Cr(n,e){for(const t in n)n.hasOwnProperty(t)&&e(t,n[t])}const PC=function(n){(0,U.hu)(!Lu(n),"Invalid JSON number");const r=1023;let i,a,l,h,p;0===n?(a=0,l=0,i=1/n==-1/0?1:0):(i=n<0,(n=Math.abs(n))>=Math.pow(2,1-r)?(h=Math.min(Math.floor(Math.log(n)/Math.LN2),r),a=h+r,l=Math.round(n*Math.pow(2,52-h)-Math.pow(2,52))):(a=0,l=Math.round(n/Math.pow(2,-1074))));const m=[];for(p=52;p;p-=1)m.push(l%2?1:0),l=Math.floor(l/2);for(p=11;p;p-=1)m.push(a%2?1:0),a=Math.floor(a/2);m.push(i?1:0),m.reverse();const I=m.join("");let C="";for(p=0;p<64;p+=8){let S=parseInt(I.substr(p,8),2).toString(16);1===S.length&&(S="0"+S),C+=S}return C.toLowerCase()},w_=new RegExp("^-?(0*)\\d{1,10}$"),Rp=function(n){if(w_.test(n)){const e=Number(n);if(e>=-2147483648&&e<=2147483647)return e}return null},Go=function(n){try{n()}catch(e){setTimeout(()=>{throw Fr("Exception was thrown by user callback.",e.stack||""),e},Math.floor(0))}},sc=function(n,e){const t=setTimeout(n,e);return"number"==typeof t&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(t):"object"==typeof t&&t.unref&&t.unref(),t};class BA{constructor(e,t){this.appName_=e,this.appCheckProvider=t,this.appCheck=t?.getImmediate({optional:!0}),this.appCheck||t?.get().then(r=>this.appCheck=r)}getToken(e){return this.appCheck?this.appCheck.getToken(e):new Promise((t,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){var t;null===(t=this.appCheckProvider)||void 0===t||t.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Fr(`Provided AppCheck credentials for the app named "${this.appName_}" are invalid. This usually indicates your app was not initialized correctly.`)}}class OC{constructor(e,t,r){this.appName_=e,this.firebaseOptions_=t,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(t=>t&&"auth/token-not-initialized"===t.code?(Xn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)):new Promise((t,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(t,r):t(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(t=>t.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(t=>t.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';e+="credential"in this.firebaseOptions_?'Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?'Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':'Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Fr(e)}}let Pp=(()=>{class n{constructor(t){this.accessToken=t}getToken(t){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(t){t(this.accessToken)}removeTokenChangeListener(t){}notifyForInvalidToken(){}}return n.OWNER="owner",n})();const LC=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,UC="websocket",C_="long_polling";class Op{constructor(e,t,r,i,a=!1,l="",h=!1,p=!1){this.secure=t,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=a,this.persistenceKey=l,this.includeNamespaceInQueryParams=h,this.isUsingEmulator=p,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ou.get("host:"+e)||this._host}isCacheableHost(){return"s-"===this.internalHost.substr(0,2)}isCustomHost(){return"firebaseio.com"!==this._domain&&"firebaseio-demo.com"!==this._domain}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ou.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){return`${this.secure?"https://":"http://"}${this.host}/${this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:""}`}}function ac(n,e,t){let r;if((0,U.hu)("string"==typeof e,"typeof type must == string"),(0,U.hu)("object"==typeof t,"typeof params must == object"),e===UC)r=(n.secure?"wss://":"ws://")+n.internalHost+"/.ws?";else{if(e!==C_)throw new Error("Unknown connection type: "+e);r=(n.secure?"https://":"http://")+n.internalHost+"/.lp?"}(function D_(n){return n.host!==n.internalHost||n.isCustomHost()||n.includeNamespaceInQueryParams})(n)&&(t.ns=n.namespace);const i=[];return Cr(t,(a,l)=>{i.push(a+"="+l)}),r+i.join("&")}class BC{constructor(){this.counters_={}}incrementCounter(e,t=1){(0,U.r3)(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=t}get(){return(0,U.p$)(this.counters_)}}const $C={},nh={};function xa(n){const e=n.toString();return $C[e]||($C[e]=new BC),$C[e]}class jC{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,t){this.closeAfterResponse=e,this.onClose=t,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,t){for(this.pendingResponses[e]=t;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&Go(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}class Uu{constructor(e,t,r,i,a,l,h){this.connId=e,this.repoInfo=t,this.applicationId=r,this.appCheckToken=i,this.authToken=a,this.transportSessionId=l,this.lastSessionId=h,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=jo(e),this.stats_=xa(t),this.urlFn=p=>(this.appCheckToken&&(p.ac=this.appCheckToken),ac(t,C_,p))}open(e,t){this.curSegmentNum=0,this.onDisconnect_=t,this.myPacketOrderer=new jC(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(3e4)),function(n){if((0,U.Yr)()||"complete"===document.readyState)n();else{let e=!1;const t=function(){document.body?e||(e=!0,n()):setTimeout(t,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",t,!1),window.addEventListener("load",t,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{"complete"===document.readyState&&t()}),window.attachEvent("onload",t))}}(()=>{if(this.isClosed_)return;this.scriptTagHolder=new Lp((...a)=>{const[l,h,p,m,I]=a;if(this.incrementIncomingBytes_(a),this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,"start"===l)this.id=h,this.password=p;else{if("close"!==l)throw new Error("Unrecognized command received: "+l);h?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(h,()=>{this.onClosed_()})):this.onClosed_()}},(...a)=>{const[l,h]=a;this.incrementIncomingBytes_(a),this.myPacketOrderer.handleResponse(l,h)},()=>{this.onClosed_()},this.urlFn);const r={start:"t"};r.ser=Math.floor(1e8*Math.random()),this.scriptTagHolder.uniqueCallbackIdentifier&&(r.cb=this.scriptTagHolder.uniqueCallbackIdentifier),r.v="5",this.transportSessionId&&(r.s=this.transportSessionId),this.lastSessionId&&(r.ls=this.lastSessionId),this.applicationId&&(r.p=this.applicationId),this.appCheckToken&&(r.ac=this.appCheckToken),typeof location<"u"&&location.hostname&&LC.test(location.hostname)&&(r.r="f");const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){Uu.forceAllow_=!0}static forceDisallow(){Uu.forceDisallow_=!0}static isAvailable(){return!((0,U.Yr)()||!Uu.forceAllow_&&(Uu.forceDisallow_||!(typeof document<"u")||null==document.createElement||"object"==typeof window&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href)||"object"==typeof Windows&&"object"==typeof Windows.UI))}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const t=(0,U.Wl)(e);this.bytesSent+=t.length,this.stats_.incrementCounter("bytes_sent",t.length);const r=(0,U.h$)(t),i=__(r,1840);for(let a=0;a<i.length;a++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[a]),this.curSegmentNum++}addDisconnectPingFrame(e,t){if((0,U.Yr)())return;this.myDisconnFrame=document.createElement("iframe");const r={dframe:"t"};r.id=e,r.pw=t,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const t=(0,U.Wl)(e).length;this.bytesReceived+=t,this.stats_.incrementCounter("bytes_received",t)}}class Lp{constructor(e,t,r,i){if(this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,(0,U.Yr)())this.commandCB=e,this.onMessageCB=t;else{this.uniqueCallbackIdentifier=Jd(),window["pLPCommand"+this.uniqueCallbackIdentifier]=e,window["pRTLPCB"+this.uniqueCallbackIdentifier]=t,this.myIFrame=Lp.createIFrame_();let a="";this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,11)&&(a='<script>document.domain="'+document.domain+'";<\/script>');const l="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(l),this.myIFrame.doc.close()}catch(h){Xn("frame writing exception"),h.stack&&Xn(h.stack),Xn(h)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(e);try{e.contentWindow.document||Xn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{null!==this.myIFrame&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,t){for(this.myID=e,this.myPW=t,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e.id=this.myID,e.pw=this.myPW,e.ser=this.currentSerial;let t=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+30+r.length<=1870;){const l=this.pendingSegs.shift();r=r+"&seg"+i+"="+l.seg+"&ts"+i+"="+l.ts+"&d"+i+"="+l.d,i++}return t+=r,this.addLongPollTag_(t,this.currentSerial),!0}return!1}enqueueSegment(e,t,r){this.pendingSegs.push({seg:e,ts:t,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,t){this.outstandingRequests.add(t);const r=()=>{this.outstandingRequests.delete(t),this.newRequest_()},i=setTimeout(r,Math.floor(25e3));this.addTag(e,()=>{clearTimeout(i),r()})}addTag(e,t){(0,U.Yr)()?this.doNodeLongPoll(e,t):setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||"loaded"===i||"complete"===i)&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),t())},r.onerror=()=>{Xn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}let rh=null;typeof MozWebSocket<"u"?rh=MozWebSocket:typeof WebSocket<"u"&&(rh=WebSocket);let Bu=(()=>{class n{constructor(t,r,i,a,l,h,p){this.connId=t,this.applicationId=i,this.appCheckToken=a,this.authToken=l,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=jo(this.connId),this.stats_=xa(r),this.connURL=n.connectionURL_(r,h,p,a,i),this.nodeAdmin=r.nodeAdmin}static connectionURL_(t,r,i,a,l){const h={v:"5"};return!(0,U.Yr)()&&typeof location<"u"&&location.hostname&&LC.test(location.hostname)&&(h.r="f"),r&&(h.s=r),i&&(h.ls=i),a&&(h.ac=a),l&&(h.p=l),ac(t,UC,h)}open(t,r){this.onDisconnect=r,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ou.set("previous_websocket_failure",!0);try{let i;if((0,U.Yr)()){i={headers:{"User-Agent":`Firebase/5/${Mp}/${process.platform}/${this.nodeAdmin?"AdminNode":"Node"}`,"X-Firebase-GMPID":this.applicationId||""}},this.authToken&&(i.headers.Authorization=`Bearer ${this.authToken}`),this.appCheckToken&&(i.headers["X-Firebase-AppCheck"]=this.appCheckToken);const l=process.env,h=0===this.connURL.indexOf("wss://")?l.HTTPS_PROXY||l.https_proxy:l.HTTP_PROXY||l.http_proxy;h&&(i.proxy={origin:h})}this.mySock=new rh(this.connURL,[],i)}catch(i){this.log_("Error instantiating WebSocket.");const a=i.message||i.data;return a&&this.log_(a),void this.onClosed_()}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=i=>{this.handleIncomingFrame(i)},this.mySock.onerror=i=>{this.log_("WebSocket error.  Closing connection.");const a=i.message||i.data;a&&this.log_(a),this.onClosed_()}}start(){}static forceDisallow(){n.forceDisallow_=!0}static isAvailable(){let t=!1;if(typeof navigator<"u"&&navigator.userAgent){const i=navigator.userAgent.match(/Android ([0-9]{0,}\.[0-9]{0,})/);i&&i.length>1&&parseFloat(i[1])<4.4&&(t=!0)}return!t&&null!==rh&&!n.forceDisallow_}static previouslyFailed(){return Ou.isInMemoryStorage||!0===Ou.get("previous_websocket_failure")}markConnectionHealthy(){Ou.remove("previous_websocket_failure")}appendFrame_(t){if(this.frames.push(t),this.frames.length===this.totalFrames){const r=this.frames.join("");this.frames=null;const i=(0,U.cI)(r);this.onMessage(i)}}handleNewFrameCount_(t){this.totalFrames=t,this.frames=[]}extractFrameCount_(t){if((0,U.hu)(null===this.frames,"We already have a frame buffer"),t.length<=6){const r=Number(t);if(!isNaN(r))return this.handleNewFrameCount_(r),null}return this.handleNewFrameCount_(1),t}handleIncomingFrame(t){if(null===this.mySock)return;const r=t.data;if(this.bytesReceived+=r.length,this.stats_.incrementCounter("bytes_received",r.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(r);else{const i=this.extractFrameCount_(r);null!==i&&this.appendFrame_(i)}}send(t){this.resetKeepAlive();const r=(0,U.Wl)(t);this.bytesSent+=r.length,this.stats_.incrementCounter("bytes_sent",r.length);const i=__(r,16384);i.length>1&&this.sendString_(String(i.length));for(let a=0;a<i.length;a++)this.sendString_(i[a])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(45e3))}sendString_(t){try{this.mySock.send(t)}catch(r){this.log_("Exception thrown from WebSocket.send():",r.message||r.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}return n.responsesRequiredToBeHealthy=2,n.healthyTimeout=3e4,n})(),It=(()=>{class n{constructor(t){this.initTransports_(t)}static get ALL_TRANSPORTS(){return[Uu,Bu]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}initTransports_(t){const r=Bu&&Bu.isAvailable();let i=r&&!Bu.previouslyFailed();if(t.webSocketOnly&&(r||Fr("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Bu];else{const a=this.transports_=[];for(const l of n.ALL_TRANSPORTS)l&&l.isAvailable()&&a.push(l);n.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}return n.globalTransportInitialized_=!1,n})();class A_{constructor(e,t,r,i,a,l,h,p,m,I){this.id=e,this.repoInfo_=t,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=a,this.onMessage_=l,this.onReady_=h,this.onDisconnect_=p,this.onKill_=m,this.lastSessionId=I,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=jo("c:"+this.id+":"),this.transportManager_=new It(t),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(t,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=sc(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>102400?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>10240?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return t=>{e===this.conn_?this.onConnectionLost_(t):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return t=>{2!==this.state_&&(e===this.rx_?this.onPrimaryMessageReceived_(t):e===this.secondaryConn_?this.onSecondaryMessageReceived_(t):this.log_("message on old connection"))}}sendRequest(e){this.sendData_({t:"d",d:e})}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if("t"in e){const t=e.t;"a"===t?this.upgradeIfSecondaryHealthy_():"r"===t?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):"o"===t&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const t=eh("t",e),r=eh("d",e);if("c"===t)this.onSecondaryControl_(r);else{if("d"!==t)throw new Error("Unknown protocol layer: "+t);this.pendingDataMessages.push(r)}}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:"p",d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:"a",d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:"n",d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const t=eh("t",e),r=eh("d",e);"c"===t?this.onControl_(r):"d"===t&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const t=eh("t",e);if("d"in e){const r=e.d;if("h"===t){const i=Object.assign({},r);this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if("n"===t){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else"s"===t?this.onConnectionShutdown_(r):"r"===t?this.onReset_(r):"e"===t?ic("Server Error: "+r):"o"===t?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):ic("Unknown control packet command: "+t)}}onHandshake_(e){const t=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,0===this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,t),"5"!==r&&Fr("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const t=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(t,r),sc(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(6e4))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,1===this.state_?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,t){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(t,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):sc(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(5e3))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&1===this.state_&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:"p",d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,e||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ou.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(e)}close(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}class zo{put(e,t,r,i){}merge(e,t,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,t,r){}onDisconnectMerge(e,t,r){}onDisconnectCancel(e,t){}reportStats(e){}}class $u{constructor(e){this.allowedEvents_=e,this.listeners_={},(0,U.hu)(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...t){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,t)}}on(e,t,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:t,context:r});const i=this.getInitialEvent(e);i&&t.apply(r,i)}off(e,t,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let a=0;a<i.length;a++)if(i[a].callback===t&&(!r||r===i[a].context))return void i.splice(a,1)}validateEventType_(e){(0,U.hu)(this.allowedEvents_.find(t=>t===e),"Unknown event: "+e)}}class ih extends $u{constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!(0,U.uI)()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}static getInstance(){return new ih}getInitialEvent(e){return(0,U.hu)("online"===e,"Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}class jt{constructor(e,t){if(void 0===t){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=t}toString(){let e="";for(let t=this.pieceNum_;t<this.pieces_.length;t++)""!==this.pieces_[t]&&(e+="/"+this.pieces_[t]);return e||"/"}}function Ht(){return new jt("")}function bt(n){return n.pieceNum_>=n.pieces_.length?null:n.pieces_[n.pieceNum_]}function Wo(n){return n.pieces_.length-n.pieceNum_}function an(n){let e=n.pieceNum_;return e<n.pieces_.length&&e++,new jt(n.pieces_,e)}function oh(n){return n.pieceNum_<n.pieces_.length?n.pieces_[n.pieces_.length-1]:null}function lc(n,e=0){return n.pieces_.slice(n.pieceNum_+e)}function Bp(n){if(n.pieceNum_>=n.pieces_.length)return null;const e=[];for(let t=n.pieceNum_;t<n.pieces_.length-1;t++)e.push(n.pieces_[t]);return new jt(e,0)}function In(n,e){const t=[];for(let r=n.pieceNum_;r<n.pieces_.length;r++)t.push(n.pieces_[r]);if(e instanceof jt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)t.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&t.push(r[i])}return new jt(t,0)}function Rt(n){return n.pieceNum_>=n.pieces_.length}function di(n,e){const t=bt(n),r=bt(e);if(null===t)return e;if(t===r)return di(an(n),an(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+n+")")}function x_(n,e){if(Wo(n)!==Wo(e))return!1;for(let t=n.pieceNum_,r=e.pieceNum_;t<=n.pieces_.length;t++,r++)if(n.pieces_[t]!==e.pieces_[r])return!1;return!0}function ps(n,e){let t=n.pieceNum_,r=e.pieceNum_;if(Wo(n)>Wo(e))return!1;for(;t<n.pieces_.length;){if(n.pieces_[t]!==e.pieces_[r])return!1;++t,++r}return!0}class YA{constructor(e,t){this.errorPrefix_=t,this.parts_=lc(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=(0,U.ug)(this.parts_[r]);N_(this)}}function N_(n){if(n.byteLength_>768)throw new Error(n.errorPrefix_+"has a key path longer than 768 bytes ("+n.byteLength_+").");if(n.parts_.length>32)throw new Error(n.errorPrefix_+"path specified exceeds the maximum depth that can be written (32) or object contains a cycle "+ju(n))}function ju(n){return 0===n.parts_.length?"":"in property '"+n.parts_.join(".")+"'"}class R_ extends $u{constructor(){let e,t;super(["visible"]),typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(t="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(t="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(t="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(t="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,t&&document.addEventListener(t,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}static getInstance(){return new R_}getInitialEvent(e){return(0,U.hu)("visible"===e,"Unknown event type: "+e),[this.visible_]}}const Lr=1e3;let $p,Gu=(()=>{class n extends zo{constructor(t,r,i,a,l,h,p,m){if(super(),this.repoInfo_=t,this.applicationId_=r,this.onDataUpdate_=i,this.onConnectStatus_=a,this.onServerInfoUpdate_=l,this.authTokenProvider_=h,this.appCheckTokenProvider_=p,this.authOverride_=m,this.id=n.nextPersistentConnectionId_++,this.log_=jo("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Lr,this.maxReconnectDelay_=3e5,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,m&&!(0,U.Yr)())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");R_.getInstance().on("visible",this.onVisible_,this),-1===t.host.indexOf("fblocal")&&ih.getInstance().on("online",this.onOnline_,this)}sendRequest(t,r,i){const a=++this.requestNumber_,l={r:a,a:t,b:r};this.log_((0,U.Wl)(l)),(0,U.hu)(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(l),i&&(this.requestCBHash_[a]=i)}get(t){this.initConnection_();const r=new U.BH,a={action:"g",request:{p:t._path.toString(),q:t._queryObject},onComplete:h=>{const p=h.d;"ok"===h.s?r.resolve(p):r.reject(p)}};return this.outstandingGets_.push(a),this.outstandingGetCount_++,this.connected_&&this.sendGet_(this.outstandingGets_.length-1),r.promise}listen(t,r,i,a){this.initConnection_();const l=t._queryIdentifier,h=t._path.toString();this.log_("Listen called for "+h+" "+l),this.listens.has(h)||this.listens.set(h,new Map),(0,U.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"listen() called for non-default but complete query"),(0,U.hu)(!this.listens.get(h).has(l),"listen() called twice for same path/queryId.");const p={onComplete:a,hashFn:r,query:t,tag:i};this.listens.get(h).set(l,p),this.connected_&&this.sendListen_(p)}sendGet_(t){const r=this.outstandingGets_[t];this.sendRequest("g",r.request,i=>{delete this.outstandingGets_[t],this.outstandingGetCount_--,0===this.outstandingGetCount_&&(this.outstandingGets_=[]),r.onComplete&&r.onComplete(i)})}sendListen_(t){const r=t.query,i=r._path.toString(),a=r._queryIdentifier;this.log_("Listen on "+i+" for "+a);const l={p:i};t.tag&&(l.q=r._queryObject,l.t=t.tag),l.h=t.hashFn(),this.sendRequest("q",l,p=>{const m=p.d,I=p.s;n.warnOnListenWarnings_(m,r),(this.listens.get(i)&&this.listens.get(i).get(a))===t&&(this.log_("listen response",p),"ok"!==I&&this.removeListen_(i,a),t.onComplete&&t.onComplete(I,m))})}static warnOnListenWarnings_(t,r){if(t&&"object"==typeof t&&(0,U.r3)(t,"w")){const i=(0,U.DV)(t,"w");if(Array.isArray(i)&&~i.indexOf("no_index")){const a='".indexOn": "'+r._queryParams.getIndex().toString()+'"',l=r._path.toString();Fr(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${a} at ${l} to your security rules for better performance.`)}}}refreshAuthToken(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(t)}reduceReconnectDelayIfAdminCredential_(t){(t&&40===t.length||(0,U.GJ)(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=3e4)}refreshAppCheckToken(t){this.appCheckToken_=t,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const t=this.authToken_,r=(0,U.w9)(t)?"auth":"gauth",i={cred:t};null===this.authOverride_?i.noauth=!0:"object"==typeof this.authOverride_&&(i.authvar=this.authOverride_),this.sendRequest(r,i,a=>{const l=a.s,h=a.d||"error";this.authToken_===t&&("ok"===l?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(l,h))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},t=>{const r=t.s,i=t.d||"error";"ok"===r?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(r,i)})}unlisten(t,r){const i=t._path.toString(),a=t._queryIdentifier;this.log_("Unlisten called for "+i+" "+a),(0,U.hu)(t._queryParams.isDefault()||!t._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(i,a)&&this.connected_&&this.sendUnlisten_(i,a,t._queryObject,r)}sendUnlisten_(t,r,i,a){this.log_("Unlisten on "+t+" for "+r);const l={p:t};a&&(l.q=i,l.t=a),this.sendRequest("n",l)}onDisconnectPut(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:r,onComplete:i})}onDisconnectMerge(t,r,i){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",t,r,i):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:r,onComplete:i})}onDisconnectCancel(t,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",t,null,r):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:r})}sendOnDisconnect_(t,r,i,a){const l={p:r,d:i};this.log_("onDisconnect "+t,l),this.sendRequest(t,l,h=>{a&&setTimeout(()=>{a(h.s,h.d)},Math.floor(0))})}put(t,r,i,a){this.putInternal("p",t,r,i,a)}merge(t,r,i,a){this.putInternal("m",t,r,i,a)}putInternal(t,r,i,a,l){this.initConnection_();const h={p:r,d:i};void 0!==l&&(h.h=l),this.outstandingPuts_.push({action:t,request:h,onComplete:a}),this.outstandingPutCount_++,this.connected_?this.sendPut_(this.outstandingPuts_.length-1):this.log_("Buffering put: "+r)}sendPut_(t){const r=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,a=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(r,i,l=>{this.log_(r+" response",l),delete this.outstandingPuts_[t],this.outstandingPutCount_--,0===this.outstandingPutCount_&&(this.outstandingPuts_=[]),a&&a(l.s,l.d)})}reportStats(t){if(this.connected_){const r={c:t};this.log_("reportStats",r),this.sendRequest("s",r,i=>{"ok"!==i.s&&this.log_("reportStats","Error sending stats: "+i.d)})}}onDataMessage_(t){if("r"in t){this.log_("from server: "+(0,U.Wl)(t));const r=t.r,i=this.requestCBHash_[r];i&&(delete this.requestCBHash_[r],i(t.b))}else{if("error"in t)throw"A server-side error has occurred: "+t.error;"a"in t&&this.onDataPush_(t.a,t.b)}}onDataPush_(t,r){this.log_("handleServerMessage",t,r),"d"===t?this.onDataUpdate_(r.p,r.d,!1,r.t):"m"===t?this.onDataUpdate_(r.p,r.d,!0,r.t):"c"===t?this.onListenRevoked_(r.p,r.q):"ac"===t?this.onAuthRevoked_(r.s,r.d):"apc"===t?this.onAppCheckRevoked_(r.s,r.d):"sd"===t?this.onSecurityDebugPacket_(r):ic("Unrecognized action received from server: "+(0,U.Wl)(t)+"\nAre you using the latest client?")}onReady_(t,r){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=r,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(t){(0,U.hu)(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(t))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Lr,this.realtime_||this.scheduleConnect_(0)),this.visible_=t}onOnline_(t){t?(this.log_("Browser went online."),this.reconnectDelay_=Lr,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&((new Date).getTime()-this.lastConnectionEstablishedTime_>3e4&&(this.reconnectDelay_=Lr),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime());const t=(new Date).getTime()-this.lastConnectionAttemptTime_;let r=Math.max(0,this.reconnectDelay_-t);r=Math.random()*r,this.log_("Trying to reconnect in "+r+"ms"),this.scheduleConnect_(r),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,1.3*this.reconnectDelay_)}this.onConnectStatus_(!1)}establishConnection_(){var t=this;return(0,Le.Z)(function*(){if(t.shouldReconnect_()){t.log_("Making a connection attempt"),t.lastConnectionAttemptTime_=(new Date).getTime(),t.lastConnectionEstablishedTime_=null;const r=t.onDataMessage_.bind(t),i=t.onReady_.bind(t),a=t.onRealtimeDisconnect_.bind(t),l=t.id+":"+n.nextConnectionId_++,h=t.lastSessionId;let p=!1,m=null;const I=function(){m?m.close():(p=!0,a())};t.realtime_={close:I,sendRequest:function(N){(0,U.hu)(m,"sendRequest call when we're not connected not allowed."),m.sendRequest(N)}};const S=t.forceTokenRefresh_;t.forceTokenRefresh_=!1;try{const[N,G]=yield Promise.all([t.authTokenProvider_.getToken(S),t.appCheckTokenProvider_.getToken(S)]);p?Xn("getToken() completed but was canceled"):(Xn("getToken() completed. Creating connection."),t.authToken_=N&&N.accessToken,t.appCheckToken_=G&&G.token,m=new A_(l,t.repoInfo_,t.applicationId_,t.appCheckToken_,t.authToken_,r,i,a,se=>{Fr(se+" ("+t.repoInfo_.toString()+")"),t.interrupt("server_kill")},h))}catch(N){t.log_("Failed to get token: "+N),p||(t.repoInfo_.nodeAdmin&&Fr(N),I())}}})()}interrupt(t){Xn("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(t){Xn("Resuming connection for reason: "+t),delete this.interruptReasons_[t],(0,U.xb)(this.interruptReasons_)&&(this.reconnectDelay_=Lr,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(t){const r=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:r})}cancelSentTransactions_(){for(let t=0;t<this.outstandingPuts_.length;t++){const r=this.outstandingPuts_[t];r&&"h"in r.request&&r.queued&&(r.onComplete&&r.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])}onListenRevoked_(t,r){let i;i=r?r.map(l=>Np(l)).join("$"):"default";const a=this.removeListen_(t,i);a&&a.onComplete&&a.onComplete("permission_denied")}removeListen_(t,r){const i=new jt(t).toString();let a;if(this.listens.has(i)){const l=this.listens.get(i);a=l.get(r),l.delete(r),0===l.size&&this.listens.delete(i)}else a=void 0;return a}onAuthRevoked_(t,r){Xn("Auth token revoked: "+t+"/"+r),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),("invalid_token"===t||"permission_denied"===t)&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=3&&(this.reconnectDelay_=3e4,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(t,r){Xn("App check token revoked: "+t+"/"+r),this.appCheckToken_=null,this.forceTokenRefresh_=!0,("invalid_token"===t||"permission_denied"===t)&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=3&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t.msg.replace("\n","\nFIREBASE: "))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const t of this.listens.values())for(const r of t.values())this.sendListen_(r);for(let t=0;t<this.outstandingPuts_.length;t++)this.outstandingPuts_[t]&&this.sendPut_(t);for(;this.onDisconnectRequestQueue_.length;){const t=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(t.action,t.pathString,t.data,t.onComplete)}for(let t=0;t<this.outstandingGets_.length;t++)this.outstandingGets_[t]&&this.sendGet_(t)}sendConnectStats_(){const t={};let r="js";(0,U.Yr)()&&(r=this.repoInfo_.nodeAdmin?"admin_node":"node"),t["sdk."+r+"."+Mp.replace(/\./g,"-")]=1,(0,U.uI)()?t["framework.cordova"]=1:(0,U.b$)()&&(t["framework.reactnative"]=1),this.reportStats(t)}shouldReconnect_(){const t=ih.getInstance().currentlyOnline();return(0,U.xb)(this.interruptReasons_)&&t}}return n.nextPersistentConnectionId_=0,n.nextConnectionId_=0,n})();class Pt{constructor(e,t){this.name=e,this.node=t}static Wrap(e,t){return new Pt(e,t)}}class ah{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,t){const r=new Pt(oo,e),i=new Pt(oo,t);return 0!==this.compare(r,i)}minPost(){return Pt.MIN}}class d0 extends ah{static get __EMPTY_NODE(){return $p}static set __EMPTY_NODE(e){$p=e}compare(e,t){return Ma(e.name,t.name)}isDefinedOn(e){throw(0,U.g5)("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,t){return!1}minPost(){return Pt.MIN}maxPost(){return new Pt(ks,$p)}makePost(e,t){return(0,U.hu)("string"==typeof e,"KeyIndex indexValue must always be a string."),new Pt(e,$p)}toString(){return".key"}}const gs=new d0;class jp{constructor(e,t,r,i,a=null){this.isReverse_=i,this.resultGenerator_=a,this.nodeStack_=[];let l=1;for(;!e.isEmpty();)if(l=t?r(e.key,t):1,i&&(l*=-1),l<0)e=this.isReverse_?e.left:e.right;else{if(0===l){this.nodeStack_.push(e);break}this.nodeStack_.push(e),e=this.isReverse_?e.right:e.left}}getNext(){if(0===this.nodeStack_.length)return null;let t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return t}hasNext(){return this.nodeStack_.length>0}peek(){if(0===this.nodeStack_.length)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}let uh,Os=(()=>{class n{constructor(t,r,i,a,l){this.key=t,this.value=r,this.color=i??n.RED,this.left=a??Pi.EMPTY_NODE,this.right=l??Pi.EMPTY_NODE}copy(t,r,i,a,l){return new n(t??this.key,r??this.value,i??this.color,a??this.left,l??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(t){return this.left.inorderTraversal(t)||!!t(this.key,this.value)||this.right.inorderTraversal(t)}reverseTraversal(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(t,r,i){let a=this;const l=i(t,a.key);return a=l<0?a.copy(null,null,null,a.left.insert(t,r,i),null):0===l?a.copy(null,r,null,null,null):a.copy(null,null,null,null,a.right.insert(t,r,i)),a.fixUp_()}removeMin_(){if(this.left.isEmpty())return Pi.EMPTY_NODE;let t=this;return!t.left.isRed_()&&!t.left.left.isRed_()&&(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()}remove(t,r){let i,a;if(i=this,r(t,i.key)<0)!i.left.isEmpty()&&!i.left.isRed_()&&!i.left.left.isRed_()&&(i=i.moveRedLeft_()),i=i.copy(null,null,null,i.left.remove(t,r),null);else{if(i.left.isRed_()&&(i=i.rotateRight_()),!i.right.isEmpty()&&!i.right.isRed_()&&!i.right.left.isRed_()&&(i=i.moveRedRight_()),0===r(t,i.key)){if(i.right.isEmpty())return Pi.EMPTY_NODE;a=i.right.min_(),i=i.copy(a.key,a.value,null,null,i.right.removeMin_())}i=i.copy(null,null,null,null,i.right.remove(t,r))}return i.fixUp_()}isRed_(){return this.color}fixUp_(){let t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t}moveRedLeft_(){let t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t}moveRedRight_(){let t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t}rotateLeft_(){const t=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,t,null)}rotateRight_(){const t=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,t)}colorFlip_(){const t=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,r)}checkMaxDepth_(){const t=this.check_();return Math.pow(2,t)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const t=this.left.check_();if(t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)}}return n.RED=!0,n.BLACK=!1,n})();class Pi{constructor(e,t=Pi.EMPTY_NODE){this.comparator_=e,this.root_=t}insert(e,t){return new Pi(this.comparator_,this.root_.insert(e,t,this.comparator_).copy(null,null,Os.BLACK,null,null))}remove(e){return new Pi(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Os.BLACK,null,null))}get(e){let t,r=this.root_;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t)return r.value;t<0?r=r.left:t>0&&(r=r.right)}return null}getPredecessorKey(e){let t,r=this.root_,i=null;for(;!r.isEmpty();){if(t=this.comparator_(e,r.key),0===t){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}t<0?r=r.left:t>0&&(i=r,r=r.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new jp(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,t){return new jp(this.root_,e,this.comparator_,!1,t)}getReverseIteratorFrom(e,t){return new jp(this.root_,e,this.comparator_,!0,t)}getReverseIterator(e){return new jp(this.root_,null,this.comparator_,!0,e)}}function JA(n,e){return Ma(n.name,e.name)}function ms(n,e){return Ma(n,e)}Pi.EMPTY_NODE=new class XA{copy(e,t,r,i,a){return this}insert(e,t,r){return new Os(e,t,null)}remove(e,t){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}};const k_=function(n){return"number"==typeof n?"number:"+PC(n):"string:"+n},h0=function(n){if(n.isLeafNode()){const e=n.val();(0,U.hu)("string"==typeof e||"number"==typeof e||"object"==typeof e&&(0,U.r3)(e,".sv"),"Priority must be a string or number.")}else(0,U.hu)(n===uh||n.isEmpty(),"priority of unexpected type.");(0,U.hu)(n===uh||n.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};let O_,lh,Gp,Hu=(()=>{class n{constructor(t,r=n.__childrenNodeConstructor.EMPTY_NODE){this.value_=t,this.priorityNode_=r,this.lazyHash_=null,(0,U.hu)(null!=this.value_,"LeafNode shouldn't be created with null/undefined value."),h0(this.priorityNode_)}static set __childrenNodeConstructor(t){O_=t}static get __childrenNodeConstructor(){return O_}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(t){return new n(this.value_,t)}getImmediateChild(t){return".priority"===t?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}getChild(t){return Rt(t)?this:".priority"===bt(t)?this.priorityNode_:n.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(t,r){return null}updateImmediateChild(t,r){return".priority"===t?this.updatePriority(r):r.isEmpty()&&".priority"!==t?this:n.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(t,r).updatePriority(this.priorityNode_)}updateChild(t,r){const i=bt(t);return null===i?r:r.isEmpty()&&".priority"!==i?this:((0,U.hu)(".priority"!==i||1===Wo(t),".priority must be the last token in a path"),this.updateImmediateChild(i,n.__childrenNodeConstructor.EMPTY_NODE.updateChild(an(t),r)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(t,r){return!1}val(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(null===this.lazyHash_){let t="";this.priorityNode_.isEmpty()||(t+="priority:"+k_(this.priorityNode_.val())+":");const r=typeof this.value_;t+=r+":",t+="number"===r?PC(this.value_):this.value_,this.lazyHash_=RC(t)}return this.lazyHash_}getValue(){return this.value_}compareTo(t){return t===n.__childrenNodeConstructor.EMPTY_NODE?1:t instanceof n.__childrenNodeConstructor?-1:((0,U.hu)(t.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(t))}compareToLeafNode_(t){const r=typeof t.value_,i=typeof this.value_,a=n.VALUE_TYPE_ORDER.indexOf(r),l=n.VALUE_TYPE_ORDER.indexOf(i);return(0,U.hu)(a>=0,"Unknown leaf type: "+r),(0,U.hu)(l>=0,"Unknown leaf type: "+i),a===l?"object"===i?0:this.value_<t.value_?-1:this.value_===t.value_?0:1:l-a}withIndex(){return this}isIndexed(){return!0}equals(t){return t===this||!!t.isLeafNode()&&(this.value_===t.value_&&this.priorityNode_.equals(t.priorityNode_))}}return n.VALUE_TYPE_ORDER=["object","boolean","number","string"],n})();const fn=new class p0 extends ah{compare(e,t){const r=e.node.getPriority(),i=t.node.getPriority(),a=r.compareTo(i);return 0===a?Ma(e.name,t.name):a}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,t){return!e.getPriority().equals(t.getPriority())}minPost(){return Pt.MIN}maxPost(){return new Pt(ks,new Hu("[PRIORITY-POST]",Gp))}makePost(e,t){const r=lh(e);return new Pt(t,new Hu("[PRIORITY-POST]",r))}toString(){return".priority"}},g0=Math.log(2);class F_{constructor(e){this.count=parseInt(Math.log(e+1)/g0,10),this.current_=this.count-1;const i=(a=>parseInt(Array(this.count+1).join("1"),2))();this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const ys=function(n,e,t,r){n.sort(e);const i=function(p,m){const I=m-p;let C,S;if(0===I)return null;if(1===I)return C=n[p],S=t?t(C):C,new Os(S,C.node,Os.BLACK,null,null);{const N=parseInt(I/2,10)+p,G=i(p,N),se=i(N+1,m);return C=n[N],S=t?t(C):C,new Os(S,C.node,Os.BLACK,G,se)}},h=function(p){let m=null,I=null,C=n.length;const S=function(G,se){const pe=C-G,et=C;C-=G;const ht=i(pe+1,et),ut=n[pe],nn=t?t(ut):ut;N(new Os(nn,ut.node,se,null,ht))},N=function(G){m?(m.left=G,m=G):(I=G,m=G)};for(let G=0;G<p.count;++G){const se=p.nextBitIsOne(),pe=Math.pow(2,p.count-(G+1));se?S(pe,Os.BLACK):(S(pe,Os.BLACK),S(pe,Os.RED))}return I}(new F_(n.length));return new Pi(r||e,h)};let L_;const cc={};class Fs{constructor(e,t){this.indexes_=e,this.indexSet_=t}static get Default(){return(0,U.hu)(cc&&fn,"ChildrenNode.ts has not been loaded"),L_=L_||new Fs({".priority":cc},{".priority":fn}),L_}get(e){const t=(0,U.DV)(this.indexes_,e);if(!t)throw new Error("No index defined for "+e);return t instanceof Pi?t:null}hasIndex(e){return(0,U.r3)(this.indexSet_,e.toString())}addIndex(e,t){(0,U.hu)(e!==gs,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const a=t.getIterator(Pt.Wrap);let h,l=a.getNext();for(;l;)i=i||e.isDefinedOn(l.node),r.push(l),l=a.getNext();h=i?ys(r,e.getCompare()):cc;const p=e.toString(),m=Object.assign({},this.indexSet_);m[p]=e;const I=Object.assign({},this.indexes_);return I[p]=h,new Fs(I,m)}addToIndexes(e,t){const r=(0,U.UI)(this.indexes_,(i,a)=>{const l=(0,U.DV)(this.indexSet_,a);if((0,U.hu)(l,"Missing index implementation for "+a),i===cc){if(l.isDefinedOn(e.node)){const h=[],p=t.getIterator(Pt.Wrap);let m=p.getNext();for(;m;)m.name!==e.name&&h.push(m),m=p.getNext();return h.push(e),ys(h,l.getCompare())}return cc}{const h=t.get(e.name);let p=i;return h&&(p=p.remove(new Pt(e.name,h))),p.insert(e,e.node)}});return new Fs(r,this.indexSet_)}removeFromIndexes(e,t){const r=(0,U.UI)(this.indexes_,i=>{if(i===cc)return i;{const a=t.get(e.name);return a?i.remove(new Pt(e.name,a)):i}});return new Fs(r,this.indexSet_)}}let ch,St=(()=>{class n{constructor(t,r,i){this.children_=t,this.priorityNode_=r,this.indexMap_=i,this.lazyHash_=null,this.priorityNode_&&h0(this.priorityNode_),this.children_.isEmpty()&&(0,U.hu)(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}static get EMPTY_NODE(){return ch||(ch=new n(new Pi(ms),null,Fs.Default))}isLeafNode(){return!1}getPriority(){return this.priorityNode_||ch}updatePriority(t){return this.children_.isEmpty()?this:new n(this.children_,t,this.indexMap_)}getImmediateChild(t){if(".priority"===t)return this.getPriority();{const r=this.children_.get(t);return null===r?ch:r}}getChild(t){const r=bt(t);return null===r?this:this.getImmediateChild(r).getChild(an(t))}hasChild(t){return null!==this.children_.get(t)}updateImmediateChild(t,r){if((0,U.hu)(r,"We should always be passing snapshot nodes"),".priority"===t)return this.updatePriority(r);{const i=new Pt(t,r);let a,l;r.isEmpty()?(a=this.children_.remove(t),l=this.indexMap_.removeFromIndexes(i,this.children_)):(a=this.children_.insert(t,r),l=this.indexMap_.addToIndexes(i,this.children_));const h=a.isEmpty()?ch:this.priorityNode_;return new n(a,h,l)}}updateChild(t,r){const i=bt(t);if(null===i)return r;{(0,U.hu)(".priority"!==bt(t)||1===Wo(t),".priority must be the last token in a path");const a=this.getImmediateChild(i).updateChild(an(t),r);return this.updateImmediateChild(i,a)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(t){if(this.isEmpty())return null;const r={};let i=0,a=0,l=!0;if(this.forEachChild(fn,(h,p)=>{r[h]=p.val(t),i++,l&&n.INTEGER_REGEXP_.test(h)?a=Math.max(a,Number(h)):l=!1}),!t&&l&&a<2*i){const h=[];for(const p in r)h[p]=r[p];return h}return t&&!this.getPriority().isEmpty()&&(r[".priority"]=this.getPriority().val()),r}hash(){if(null===this.lazyHash_){let t="";this.getPriority().isEmpty()||(t+="priority:"+k_(this.getPriority().val())+":"),this.forEachChild(fn,(r,i)=>{const a=i.hash();""!==a&&(t+=":"+r+":"+a)}),this.lazyHash_=""===t?"":RC(t)}return this.lazyHash_}getPredecessorChildName(t,r,i){const a=this.resolveIndex_(i);if(a){const l=a.getPredecessorKey(new Pt(t,r));return l?l.name:null}return this.children_.getPredecessorKey(t)}getFirstChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.minKey();return i&&i.name}return this.children_.minKey()}getFirstChild(t){const r=this.getFirstChildName(t);return r?new Pt(r,this.children_.get(r)):null}getLastChildName(t){const r=this.resolveIndex_(t);if(r){const i=r.maxKey();return i&&i.name}return this.children_.maxKey()}getLastChild(t){const r=this.getLastChildName(t);return r?new Pt(r,this.children_.get(r)):null}forEachChild(t,r){const i=this.resolveIndex_(t);return i?i.inorderTraversal(a=>r(a.name,a.node)):this.children_.inorderTraversal(r)}getIterator(t){return this.getIteratorFrom(t.minPost(),t)}getIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getIteratorFrom(t,a=>a);{const a=this.children_.getIteratorFrom(t.name,Pt.Wrap);let l=a.peek();for(;null!=l&&r.compare(l,t)<0;)a.getNext(),l=a.peek();return a}}getReverseIterator(t){return this.getReverseIteratorFrom(t.maxPost(),t)}getReverseIteratorFrom(t,r){const i=this.resolveIndex_(r);if(i)return i.getReverseIteratorFrom(t,a=>a);{const a=this.children_.getReverseIteratorFrom(t.name,Pt.Wrap);let l=a.peek();for(;null!=l&&r.compare(l,t)>0;)a.getNext(),l=a.peek();return a}}compareTo(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===Hp?-1:0}withIndex(t){if(t===gs||this.indexMap_.hasIndex(t))return this;{const r=this.indexMap_.addIndex(t,this.children_);return new n(this.children_,this.priorityNode_,r)}}isIndexed(t){return t===gs||this.indexMap_.hasIndex(t)}equals(t){if(t===this)return!0;if(t.isLeafNode())return!1;{const r=t;if(this.getPriority().equals(r.getPriority())){if(this.children_.count()===r.children_.count()){const i=this.getIterator(fn),a=r.getIterator(fn);let l=i.getNext(),h=a.getNext();for(;l&&h;){if(l.name!==h.name||!l.node.equals(h.node))return!1;l=i.getNext(),h=a.getNext()}return null===l&&null===h}return!1}return!1}}resolveIndex_(t){return t===gs?null:this.indexMap_.get(t.toString())}}return n.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,n})();const Hp=new class tM extends St{constructor(){super(new Pi(ms),St.EMPTY_NODE,Fs.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return St.EMPTY_NODE}isEmpty(){return!1}};Object.defineProperties(Pt,{MIN:{value:new Pt(oo,St.EMPTY_NODE)},MAX:{value:new Pt(ks,Hp)}}),d0.__EMPTY_NODE=St.EMPTY_NODE,Hu.__childrenNodeConstructor=St,function eM(n){uh=n}(Hp),function f0(n){Gp=n}(Hp);const m0=!0;function Sn(n,e=null){if(null===n)return St.EMPTY_NODE;if("object"==typeof n&&".priority"in n&&(e=n[".priority"]),(0,U.hu)(null===e||"string"==typeof e||"number"==typeof e||"object"==typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"==typeof n&&".value"in n&&null!==n[".value"]&&(n=n[".value"]),"object"!=typeof n||".sv"in n)return new Hu(n,Sn(e));if(n instanceof Array||!m0){let t=St.EMPTY_NODE;return Cr(n,(r,i)=>{if((0,U.r3)(n,r)&&"."!==r.substring(0,1)){const a=Sn(i);(a.isLeafNode()||!a.isEmpty())&&(t=t.updateImmediateChild(r,a))}}),t.updatePriority(Sn(e))}{const t=[];let r=!1;if(Cr(n,(l,h)=>{if("."!==l.substring(0,1)){const p=Sn(h);p.isEmpty()||(r=r||!p.getPriority().isEmpty(),t.push(new Pt(l,p)))}}),0===t.length)return St.EMPTY_NODE;const a=ys(t,JA,l=>l.name,ms);if(r){const l=ys(t,fn.getCompare());return new St(a,Sn(e),new Fs({".priority":l},{".priority":fn}))}return new St(a,Sn(e),Fs.Default)}}!function j1(n){lh=n}(Sn);class dc extends ah{constructor(e){super(),this.indexPath_=e,(0,U.hu)(!Rt(e)&&".priority"!==bt(e),"Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,t){const r=this.extractChild(e.node),i=this.extractChild(t.node),a=r.compareTo(i);return 0===a?Ma(e.name,t.name):a}makePost(e,t){const r=Sn(e),i=St.EMPTY_NODE.updateChild(this.indexPath_,r);return new Pt(t,i)}maxPost(){const e=St.EMPTY_NODE.updateChild(this.indexPath_,Hp);return new Pt(ks,e)}toString(){return lc(this.indexPath_,0).join("/")}}const hc=new class dh extends ah{compare(e,t){const r=e.node.compareTo(t.node);return 0===r?Ma(e.name,t.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,t){return!e.equals(t)}minPost(){return Pt.MIN}maxPost(){return Pt.MAX}makePost(e,t){const r=Sn(e);return new Pt(t,r)}toString(){return".value"}};function gc(n,e,t){return{type:"child_changed",snapshotNode:e,childName:n,oldSnap:t}}class zu{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=fn}hasStart(){return this.startSet_}isViewFromLeft(){return""===this.viewFrom_?this.startSet_:"l"===this.viewFrom_}getIndexStartValue(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return(0,U.hu)(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:oo}hasEnd(){return this.endSet_}getIndexEndValue(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return(0,U.hu)(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ks}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&""!==this.viewFrom_}getLimit(){return(0,U.hu)(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===fn}copy(){const e=new zu;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function w0(n){const e={};if(n.isDefault())return e;let t;if(n.index_===fn?t="$priority":n.index_===hc?t="$value":n.index_===gs?t="$key":((0,U.hu)(n.index_ instanceof dc,"Unrecognized index type!"),t=n.index_.toString()),e.orderBy=(0,U.Wl)(t),n.startSet_){const r=n.startAfterSet_?"startAfter":"startAt";e[r]=(0,U.Wl)(n.indexStartValue_),n.startNameSet_&&(e[r]+=","+(0,U.Wl)(n.indexStartName_))}if(n.endSet_){const r=n.endBeforeSet_?"endBefore":"endAt";e[r]=(0,U.Wl)(n.indexEndValue_),n.endNameSet_&&(e[r]+=","+(0,U.Wl)(n.indexEndName_))}return n.limitSet_&&(n.isViewFromLeft()?e.limitToFirst=n.limit_:e.limitToLast=n.limit_),e}function E0(n){const e={};if(n.startSet_&&(e.sp=n.indexStartValue_,n.startNameSet_&&(e.sn=n.indexStartName_),e.sin=!n.startAfterSet_),n.endSet_&&(e.ep=n.indexEndValue_,n.endNameSet_&&(e.en=n.indexEndName_),e.ein=!n.endBeforeSet_),n.limitSet_){e.l=n.limit_;let t=n.viewFrom_;""===t&&(t=n.isViewFromLeft()?"l":"r"),e.vf=t}return n.index_!==fn&&(e.i=n.index_.toString()),e}class zp extends zo{constructor(e,t,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=t,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=jo("p:rest:"),this.listens_={}}reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,t){return void 0!==t?"tag$"+t:((0,U.hu)(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}listen(e,t,r,i){const a=e._path.toString();this.log_("Listen called for "+a+" "+e._queryIdentifier);const l=zp.getListenId_(e,r),h={};this.listens_[l]=h;const p=w0(e._queryParams);this.restRequest_(a+".json",p,(m,I)=>{let C=I;if(404===m&&(C=null,m=null),null===m&&this.onDataUpdate_(a,C,!1,r),(0,U.DV)(this.listens_,l)===h){let S;S=m?401===m?"permission_denied":"rest_error:"+m:"ok",i(S,null)}})}unlisten(e,t){const r=zp.getListenId_(e,t);delete this.listens_[r]}get(e){const t=w0(e._queryParams),r=e._path.toString(),i=new U.BH;return this.restRequest_(r+".json",t,(a,l)=>{let h=l;404===a&&(h=null,a=null),null===a?(this.onDataUpdate_(r,h,!1,null),i.resolve(h)):i.reject(new Error(h))}),i.promise}refreshAuthToken(e){}restRequest_(e,t={},r){return t.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,a])=>{i&&i.accessToken&&(t.auth=i.accessToken),a&&a.token&&(t.ac=a.token);const l=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+(0,U.xO)(t);this.log_("Sending REST request for "+l);const h=new XMLHttpRequest;h.onreadystatechange=()=>{if(r&&4===h.readyState){this.log_("REST Response for "+l+" received. status:",h.status,"response:",h.responseText);let p=null;if(h.status>=200&&h.status<300){try{p=(0,U.cI)(h.responseText)}catch{Fr("Failed to parse JSON response for "+l+": "+h.responseText)}r(null,p)}else 401!==h.status&&404!==h.status&&Fr("Got unsuccessful REST response for "+l+" Status: "+h.status),r(h.status);r=null}},h.open("GET",l,!0),h.send()})}}class aM{constructor(){this.rootNode_=St.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,t){this.rootNode_=this.rootNode_.updateChild(e,t)}}function Wp(){return{value:null,children:new Map}}function yc(n,e,t){if(Rt(e))n.value=t,n.children.clear();else if(null!==n.value)n.value=n.value.updateChild(e,t);else{const r=bt(e);n.children.has(r)||n.children.set(r,Wp()),yc(n.children.get(r),e=an(e),t)}}function qp(n,e,t){null!==n.value?t(e,n.value):function j_(n,e){n.children.forEach((t,r)=>{e(r,t)})}(n,(r,i)=>{qp(i,new jt(e.toString()+"/"+r),t)})}class uM{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),t=Object.assign({},e);return this.last_&&Cr(this.last_,(r,i)=>{t[r]=t[r]-i}),this.last_=e,t}}class dM{constructor(e,t){this.server_=t,this.statsToReport_={},this.statsListener_=new uM(e);const r=1e4+2e4*Math.random();sc(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),t={};let r=!1;Cr(e,(i,a)=>{a>0&&(0,U.r3)(this.statsToReport_,i)&&(t[i]=a,r=!0)}),r&&this.server_.reportStats(t),sc(this.reportStats_.bind(this),Math.floor(2*Math.random()*3e5))}}var Jn=(()=>((Jn=Jn||{})[Jn.OVERWRITE=0]="OVERWRITE",Jn[Jn.MERGE=1]="MERGE",Jn[Jn.ACK_USER_WRITE=2]="ACK_USER_WRITE",Jn[Jn.LISTEN_COMPLETE=3]="LISTEN_COMPLETE",Jn))();function z_(n){return{fromUser:!1,fromServer:!0,queryId:n,tagged:!0}}class fh{constructor(e,t,r){this.path=e,this.affectedTree=t,this.revert=r,this.type=Jn.ACK_USER_WRITE,this.source={fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}operationForChild(e){if(Rt(this.path)){if(null!=this.affectedTree.value)return(0,U.hu)(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const t=this.affectedTree.subtree(new jt(e));return new fh(Ht(),t,this.revert)}}return(0,U.hu)(bt(this.path)===e,"operationForChild called for unrelated child."),new fh(an(this.path),this.affectedTree,this.revert)}}class qu{constructor(e,t,r){this.source=e,this.path=t,this.snap=r,this.type=Jn.OVERWRITE}operationForChild(e){return Rt(this.path)?new qu(this.source,Ht(),this.snap.getImmediateChild(e)):new qu(this.source,an(this.path),this.snap)}}class ph{constructor(e,t,r){this.source=e,this.path=t,this.children=r,this.type=Jn.MERGE}operationForChild(e){if(Rt(this.path)){const t=this.children.subtree(new jt(e));return t.isEmpty()?null:t.value?new qu(this.source,Ht(),t.value):new ph(this.source,Ht(),t)}return(0,U.hu)(bt(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new ph(this.source,an(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}class qo{constructor(e,t,r){this.node_=e,this.fullyInitialized_=t,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Rt(e))return this.isFullyInitialized()&&!this.filtered_;const t=bt(e);return this.isCompleteForChild(t)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}function Na(n,e,t,r,i,a){const l=r.filter(h=>h.type===t);l.sort((h,p)=>function fM(n,e,t){if(null==e.childName||null==t.childName)throw(0,U.g5)("Should only compare child_ events.");const r=new Pt(e.childName,e.snapshotNode),i=new Pt(t.childName,t.snapshotNode);return n.index_.compare(r,i)}(n,h,p)),l.forEach(h=>{const p=function hM(n,e,t){return"value"===e.type||"child_removed"===e.type||(e.prevName=t.getPredecessorChildName(e.childName,e.snapshotNode,n.index_)),e}(n,h,a);i.forEach(m=>{m.respondsTo(h.type)&&e.push(m.createEvent(p,n.query_))})})}function vc(n,e){return{eventCache:n,serverCache:e}}function gh(n,e,t,r){return vc(new qo(e,t,r),n.serverCache)}function Ls(n,e,t,r){return vc(n.eventCache,new qo(e,t,r))}function Ra(n){return n.eventCache.isFullyInitialized()?n.eventCache.getNode():null}function Ln(n){return n.serverCache.isFullyInitialized()?n.serverCache.getNode():null}let Ko;class Ft{constructor(e,t=(()=>(Ko||(Ko=new Pi(FA)),Ko))()){this.value=e,this.children=t}static fromObject(e){let t=new Ft(null);return Cr(e,(r,i)=>{t=t.set(new jt(r),i)}),t}isEmpty(){return null===this.value&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,t){if(null!=this.value&&t(this.value))return{path:Ht(),value:this.value};if(Rt(e))return null;{const r=bt(e),i=this.children.get(r);if(null!==i){const a=i.findRootMostMatchingPathAndValue(an(e),t);return null!=a?{path:In(new jt(r),a.path),value:a.value}:null}return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Rt(e))return this;{const t=bt(e),r=this.children.get(t);return null!==r?r.subtree(an(e)):new Ft(null)}}set(e,t){if(Rt(e))return new Ft(t,this.children);{const r=bt(e),a=(this.children.get(r)||new Ft(null)).set(an(e),t),l=this.children.insert(r,a);return new Ft(this.value,l)}}remove(e){if(Rt(e))return this.children.isEmpty()?new Ft(null):new Ft(null,this.children);{const t=bt(e),r=this.children.get(t);if(r){const i=r.remove(an(e));let a;return a=i.isEmpty()?this.children.remove(t):this.children.insert(t,i),null===this.value&&a.isEmpty()?new Ft(null):new Ft(this.value,a)}return this}}get(e){if(Rt(e))return this.value;{const t=bt(e),r=this.children.get(t);return r?r.get(an(e)):null}}setTree(e,t){if(Rt(e))return t;{const r=bt(e),a=(this.children.get(r)||new Ft(null)).setTree(an(e),t);let l;return l=a.isEmpty()?this.children.remove(r):this.children.insert(r,a),new Ft(this.value,l)}}fold(e){return this.fold_(Ht(),e)}fold_(e,t){const r={};return this.children.inorderTraversal((i,a)=>{r[i]=a.fold_(In(e,i),t)}),t(e,this.value,r)}findOnPath(e,t){return this.findOnPath_(e,Ht(),t)}findOnPath_(e,t,r){const i=!!this.value&&r(t,this.value);if(i)return i;if(Rt(e))return null;{const a=bt(e),l=this.children.get(a);return l?l.findOnPath_(an(e),In(t,a),r):null}}foreachOnPath(e,t){return this.foreachOnPath_(e,Ht(),t)}foreachOnPath_(e,t,r){if(Rt(e))return this;{this.value&&r(t,this.value);const i=bt(e),a=this.children.get(i);return a?a.foreachOnPath_(an(e),In(t,i),r):new Ft(null)}}foreach(e){this.foreach_(Ht(),e)}foreach_(e,t){this.children.inorderTraversal((r,i)=>{i.foreach_(In(e,r),t)}),this.value&&t(e,this.value)}foreachChild(e){this.children.inorderTraversal((t,r)=>{r.value&&e(t,r.value)})}}class Yi{constructor(e){this.writeTree_=e}static empty(){return new Yi(new Ft(null))}}function ao(n,e,t){if(Rt(e))return new Yi(new Ft(t));{const r=n.writeTree_.findRootMostValueAndPath(e);if(null!=r){const i=r.path;let a=r.value;const l=di(i,e);return a=a.updateChild(l,t),new Yi(n.writeTree_.set(i,a))}{const i=new Ft(t),a=n.writeTree_.setTree(e,i);return new Yi(a)}}}function Pa(n,e,t){let r=n;return Cr(t,(i,a)=>{r=ao(r,In(e,i),a)}),r}function Ku(n,e){if(Rt(e))return Yi.empty();{const t=n.writeTree_.setTree(e,new Ft(null));return new Yi(t)}}function ka(n,e){return null!=_s(n,e)}function _s(n,e){const t=n.writeTree_.findRootMostValueAndPath(e);return null!=t?n.writeTree_.get(t.path).getChild(di(t.path,e)):null}function Yu(n){const e=[],t=n.writeTree_.value;return null!=t?t.isLeafNode()||t.forEachChild(fn,(r,i)=>{e.push(new Pt(r,i))}):n.writeTree_.children.inorderTraversal((r,i)=>{null!=i.value&&e.push(new Pt(r,i.value))}),e}function Qi(n,e){if(Rt(e))return n;{const t=_s(n,e);return new Yi(null!=t?new Ft(t):n.writeTree_.subtree(e))}}function Oa(n){return n.writeTree_.isEmpty()}function Vs(n,e){return W_(Ht(),n.writeTree_,e)}function W_(n,e,t){if(null!=e.value)return t.updateChild(n,e.value);{let r=null;return e.children.inorderTraversal((i,a)=>{".priority"===i?((0,U.hu)(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):t=W_(In(n,i),a,t)}),!t.getChild(n).isEmpty()&&null!==r&&(t=t.updateChild(In(n,".priority"),r)),t}}function mh(n,e){return yh(e,n)}function S0(n,e){if(n.snap)return ps(n.path,e);for(const t in n.children)if(n.children.hasOwnProperty(t)&&ps(In(n.path,t),e))return!0;return!1}function M0(n){return n.visible}function Yp(n,e,t){let r=Yi.empty();for(let i=0;i<n.length;++i){const a=n[i];if(e(a)){const l=a.path;let h;if(a.snap)ps(t,l)?(h=di(t,l),r=ao(r,h,a.snap)):ps(l,t)&&(h=di(l,t),r=ao(r,Ht(),a.snap.getChild(h)));else{if(!a.children)throw(0,U.g5)("WriteRecord should have .snap or .children");if(ps(t,l))h=di(t,l),r=Pa(r,h,a.children);else if(ps(l,t))if(h=di(l,t),Rt(h))r=Pa(r,Ht(),a.children);else{const p=(0,U.DV)(a.children,bt(h));if(p){const m=p.getChild(an(h));r=ao(r,Ht(),m)}}}}}return r}function x0(n,e,t,r,i){if(r||i){const a=Qi(n.visibleWrites,e);return!i&&Oa(a)?t:i||null!=t||ka(a,Ht())?Vs(Yp(n.allWrites,function(m){return(m.visible||i)&&(!r||!~r.indexOf(m.writeId))&&(ps(m.path,e)||ps(e,m.path))},e),t||St.EMPTY_NODE):null}{const a=_s(n.visibleWrites,e);if(null!=a)return a;{const l=Qi(n.visibleWrites,e);return Oa(l)?t:null!=t||ka(l,Ht())?Vs(l,t||St.EMPTY_NODE):null}}}function q_(n,e,t,r){return x0(n.writeTree,n.treePath,e,t,r)}function K_(n,e){return function H1(n,e,t){let r=St.EMPTY_NODE;const i=_s(n.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild(fn,(a,l)=>{r=r.updateImmediateChild(a,l)}),r;if(t){const a=Qi(n.visibleWrites,e);return t.forEachChild(fn,(l,h)=>{const p=Vs(Qi(a,new jt(l)),h);r=r.updateImmediateChild(l,p)}),Yu(a).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}return Yu(Qi(n.visibleWrites,e)).forEach(l=>{r=r.updateImmediateChild(l.name,l.node)}),r}(n.writeTree,n.treePath,e)}function N0(n,e,t,r){return function z1(n,e,t,r,i){(0,U.hu)(r||i,"Either existingEventSnap or existingServerSnap must exist");const a=In(e,t);if(ka(n.visibleWrites,a))return null;{const l=Qi(n.visibleWrites,a);return Oa(l)?i.getChild(t):Vs(l,i.getChild(t))}}(n.writeTree,n.treePath,e,t,r)}function Qp(n,e){return function gM(n,e){return _s(n.visibleWrites,e)}(n.writeTree,In(n.treePath,e))}function Qu(n,e,t){return function pM(n,e,t,r){const i=In(e,t),a=_s(n.visibleWrites,i);return null!=a?a:r.isCompleteForChild(t)?Vs(Qi(n.visibleWrites,i),r.getNode().getImmediateChild(t)):null}(n.writeTree,n.treePath,e,t)}function Zp(n,e){return yh(In(n.treePath,e),n.writeTree)}function yh(n,e){return{treePath:n,writeTree:e}}class R0{constructor(){this.changeMap=new Map}trackChildChange(e){const t=e.type,r=e.childName;(0,U.hu)("child_added"===t||"child_changed"===t||"child_removed"===t,"Only child changes supported for tracking"),(0,U.hu)(".priority"!==r,"Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const a=i.type;if("child_added"===t&&"child_removed"===a)this.changeMap.set(r,gc(r,e.snapshotNode,i.snapshotNode));else if("child_removed"===t&&"child_added"===a)this.changeMap.delete(r);else if("child_removed"===t&&"child_changed"===a)this.changeMap.set(r,function pc(n,e){return{type:"child_removed",snapshotNode:e,childName:n}}(r,i.oldSnap));else if("child_changed"===t&&"child_added"===a)this.changeMap.set(r,function fc(n,e){return{type:"child_added",snapshotNode:e,childName:n}}(r,e.snapshotNode));else{if("child_changed"!==t||"child_changed"!==a)throw(0,U.g5)("Illegal combination of changes: "+e+" occurred after "+i);this.changeMap.set(r,gc(r,e.snapshotNode,i.oldSnap))}}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}const Q_=new class _h{getCompleteChild(e){return null}getChildAfterChild(e,t,r){return null}};class Z_{constructor(e,t,r=null){this.writes_=e,this.viewCache_=t,this.optCompleteServerCache_=r}getCompleteChild(e){const t=this.viewCache_.eventCache;if(t.isCompleteForChild(e))return t.getNode().getImmediateChild(e);{const r=null!=this.optCompleteServerCache_?new qo(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Qu(this.writes_,e,r)}}getChildAfterChild(e,t,r){const i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:Ln(this.viewCache_),a=function Y_(n,e,t,r,i,a){return function W1(n,e,t,r,i,a,l){let h;const p=Qi(n.visibleWrites,e),m=_s(p,Ht());if(null!=m)h=m;else{if(null==t)return[];h=Vs(p,t)}if(h=h.withIndex(l),h.isEmpty()||h.isLeafNode())return[];{const I=[],C=l.getCompare(),S=a?h.getReverseIteratorFrom(r,l):h.getIteratorFrom(r,l);let N=S.getNext();for(;N&&I.length<i;)0!==C(N,r)&&I.push(N),N=S.getNext();return I}}(n.writeTree,n.treePath,e,t,r,i,a)}(this.writes_,i,t,1,r,e);return 0===a.length?null:a[0]}}function P0(n,e,t,r,i,a){const l=e.eventCache;if(null!=Qp(r,t))return e;{let h,p;if(Rt(t))if((0,U.hu)(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const m=Ln(e),C=K_(r,m instanceof St?m:St.EMPTY_NODE);h=n.filter.updateFullNode(e.eventCache.getNode(),C,a)}else{const m=q_(r,Ln(e));h=n.filter.updateFullNode(e.eventCache.getNode(),m,a)}else{const m=bt(t);if(".priority"===m){(0,U.hu)(1===Wo(t),"Can't have a priority with additional path components");const I=l.getNode();p=e.serverCache.getNode();const C=N0(r,t,I,p);h=null!=C?n.filter.updatePriority(I,C):l.getNode()}else{const I=an(t);let C;if(l.isCompleteForChild(m)){p=e.serverCache.getNode();const S=N0(r,t,l.getNode(),p);C=null!=S?l.getNode().getImmediateChild(m).updateChild(I,S):l.getNode().getImmediateChild(m)}else C=Qu(r,m,e.serverCache);h=null!=C?n.filter.updateChild(l.getNode(),m,C,I,i,a):l.getNode()}}return gh(e,h,l.isFullyInitialized()||Rt(t),n.filter.filtersNodes())}}function wc(n,e,t,r,i,a,l,h){const p=e.serverCache;let m;const I=l?n.filter:n.filter.getIndexedFilter();if(Rt(t))m=I.updateFullNode(p.getNode(),r,null);else if(I.filtersNodes()&&!p.isFiltered()){const N=p.getNode().updateChild(t,r);m=I.updateFullNode(p.getNode(),N,null)}else{const N=bt(t);if(!p.isCompleteForPath(t)&&Wo(t)>1)return e;const G=an(t),pe=p.getNode().getImmediateChild(N).updateChild(G,r);m=".priority"===N?I.updatePriority(p.getNode(),pe):I.updateChild(p.getNode(),N,pe,G,Q_,null)}const C=Ls(e,m,p.isFullyInitialized()||Rt(t),I.filtersNodes());return P0(n,C,t,i,new Z_(i,C,a),h)}function Ec(n,e,t,r,i,a,l){const h=e.eventCache;let p,m;const I=new Z_(i,e,a);if(Rt(t))m=n.filter.updateFullNode(e.eventCache.getNode(),r,l),p=gh(e,m,!0,n.filter.filtersNodes());else{const C=bt(t);if(".priority"===C)m=n.filter.updatePriority(e.eventCache.getNode(),r),p=gh(e,m,h.isFullyInitialized(),h.isFiltered());else{const S=an(t),N=h.getNode().getImmediateChild(C);let G;if(Rt(S))G=r;else{const se=I.getCompleteChild(C);G=null!=se?".priority"===oh(S)&&se.getChild(Bp(S)).isEmpty()?se:se.updateChild(S,r):St.EMPTY_NODE}p=N.equals(G)?e:gh(e,n.filter.updateChild(h.getNode(),C,G,S,I,l),h.isFullyInitialized(),n.filter.filtersNodes())}}return p}function wh(n,e){return n.eventCache.isCompleteForChild(e)}function k0(n,e,t){return t.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function X_(n,e,t,r,i,a,l,h){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let m,p=e;m=Rt(t)?r:new Ft(null).setTree(t,r);const I=e.serverCache.getNode();return m.children.inorderTraversal((C,S)=>{if(I.hasChild(C)){const G=k0(0,e.serverCache.getNode().getImmediateChild(C),S);p=wc(n,p,new jt(C),G,i,a,l,h)}}),m.children.inorderTraversal((C,S)=>{const N=!e.serverCache.isCompleteForChild(C)&&null===S.value;if(!I.hasChild(C)&&!N){const se=k0(0,e.serverCache.getNode().getImmediateChild(C),S);p=wc(n,p,new jt(C),se,i,a,l,h)}}),p}function F0(n,e){const t=Ln(n.viewCache_);return t&&(n.query._queryParams.loadsAllData()||!Rt(e)&&!t.getImmediateChild(bt(e)).isEmpty())?t.getChild(e):null}function V0(n,e,t,r){e.type===Jn.MERGE&&null!==e.source.queryId&&((0,U.hu)(Ln(n.viewCache_),"We should always have a full cache before handling merges"),(0,U.hu)(Ra(n.viewCache_),"Missing event cache, even though we have a server cache"));const i=n.viewCache_,a=function _M(n,e,t,r,i){const a=new R0;let l,h;if(t.type===Jn.OVERWRITE){const m=t;m.source.fromUser?l=Ec(n,e,m.path,m.snap,r,i,a):((0,U.hu)(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered()&&!Rt(m.path),l=wc(n,e,m.path,m.snap,r,i,h,a))}else if(t.type===Jn.MERGE){const m=t;m.source.fromUser?l=function q1(n,e,t,r,i,a,l){let h=e;return r.foreach((p,m)=>{const I=In(t,p);wh(e,bt(I))&&(h=Ec(n,h,I,m,i,a,l))}),r.foreach((p,m)=>{const I=In(t,p);wh(e,bt(I))||(h=Ec(n,h,I,m,i,a,l))}),h}(n,e,m.path,m.children,r,i,a):((0,U.hu)(m.source.fromServer,"Unknown source."),h=m.source.tagged||e.serverCache.isFiltered(),l=X_(n,e,m.path,m.children,r,i,h,a))}else if(t.type===Jn.ACK_USER_WRITE){const m=t;l=m.revert?function O0(n,e,t,r,i,a){let l;if(null!=Qp(r,t))return e;{const h=new Z_(r,e,i),p=e.eventCache.getNode();let m;if(Rt(t)||".priority"===bt(t)){let I;if(e.serverCache.isFullyInitialized())I=q_(r,Ln(e));else{const C=e.serverCache.getNode();(0,U.hu)(C instanceof St,"serverChildren would be complete if leaf node"),I=K_(r,C)}m=n.filter.updateFullNode(p,I,a)}else{const I=bt(t);let C=Qu(r,I,e.serverCache);null==C&&e.serverCache.isCompleteForChild(I)&&(C=p.getImmediateChild(I)),m=null!=C?n.filter.updateChild(p,I,C,an(t),h,a):e.eventCache.getNode().hasChild(I)?n.filter.updateChild(p,I,St.EMPTY_NODE,an(t),h,a):p,m.isEmpty()&&e.serverCache.isFullyInitialized()&&(l=q_(r,Ln(e)),l.isLeafNode()&&(m=n.filter.updateFullNode(m,l,a)))}return l=e.serverCache.isFullyInitialized()||null!=Qp(r,Ht()),gh(e,m,l,n.filter.filtersNodes())}}(n,e,m.path,r,i,a):function J_(n,e,t,r,i,a,l){if(null!=Qp(i,t))return e;const h=e.serverCache.isFiltered(),p=e.serverCache;if(null!=r.value){if(Rt(t)&&p.isFullyInitialized()||p.isCompleteForPath(t))return wc(n,e,t,p.getNode().getChild(t),i,a,h,l);if(Rt(t)){let m=new Ft(null);return p.getNode().forEachChild(gs,(I,C)=>{m=m.set(new jt(I),C)}),X_(n,e,t,m,i,a,h,l)}return e}{let m=new Ft(null);return r.foreach((I,C)=>{const S=In(t,I);p.isCompleteForPath(S)&&(m=m.set(I,p.getNode().getChild(S)))}),X_(n,e,t,m,i,a,h,l)}}(n,e,m.path,m.affectedTree,r,i,a)}else{if(t.type!==Jn.LISTEN_COMPLETE)throw(0,U.g5)("Unknown operation type: "+t.type);l=function wM(n,e,t,r,i){const a=e.serverCache;return P0(n,Ls(e,a.getNode(),a.isFullyInitialized()||Rt(t),a.isFiltered()),t,r,Q_,i)}(n,e,t.path,r,a)}const p=a.getChanges();return function vM(n,e,t){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),a=Ra(n);(t.length>0||!n.eventCache.isFullyInitialized()||i&&!r.getNode().equals(a)||!r.getNode().getPriority().equals(a.getPriority()))&&t.push(function nM(n){return{type:"value",snapshotNode:n}}(Ra(e)))}}(e,l,p),{viewCache:l,changes:p}}(n.processor_,i,e,t,r);return function yM(n,e){(0,U.hu)(e.eventCache.getNode().isIndexed(n.filter.getIndex()),"Event snap not indexed"),(0,U.hu)(e.serverCache.getNode().isIndexed(n.filter.getIndex()),"Server snap not indexed")}(n.processor_,a.viewCache),(0,U.hu)(a.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),n.viewCache_=a.viewCache,function Xp(n,e,t,r){return function G1(n,e,t,r){const i=[],a=[];return e.forEach(l=>{"child_changed"===l.type&&n.index_.indexedValueChanged(l.oldSnap,l.snapshotNode)&&a.push(function rM(n,e){return{type:"child_moved",snapshotNode:e,childName:n}}(l.childName,l.snapshotNode))}),Na(n,i,"child_removed",e,r,t),Na(n,i,"child_added",e,r,t),Na(n,i,"child_moved",a,r,t),Na(n,i,"child_changed",e,r,t),Na(n,i,"value",e,r,t),i}(n.eventGenerator_,e,t,r?[r]:n.eventRegistrations_)}(n,a.changes,a.viewCache.eventCache.getNode(),null)}let Ic,ig;function tg(n,e,t,r){const i=e.source.queryId;if(null!==i){const a=n.views.get(i);return(0,U.hu)(null!=a,"SyncTree gave us an op for an invalid query."),V0(a,e,t,r)}{let a=[];for(const l of n.views.values())a=a.concat(V0(l,e,t,r));return a}}function uo(n,e){let t=null;for(const r of n.views.values())t=t||F0(r,e);return t}class ov{constructor(e){this.listenProvider_=e,this.syncPointTree_=new Ft(null),this.pendingWriteTree_=function mM(){return{visibleWrites:Yi.empty(),allWrites:[],lastWriteId:-1}}(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function av(n,e,t,r,i){return function C0(n,e,t,r,i){(0,U.hu)(r>n.lastWriteId,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),n.allWrites.push({path:e,snap:t,writeId:r,visible:i}),i&&(n.visibleWrites=ao(n.visibleWrites,e,t)),n.lastWriteId=r}(n.pendingWriteTree_,e,t,r,i),i?Zu(n,new qu({fromUser:!0,fromServer:!1,queryId:null,tagged:!1},e,t)):[]}function Yo(n,e,t=!1){const r=function T0(n,e){for(let t=0;t<n.allWrites.length;t++){const r=n.allWrites[t];if(r.writeId===e)return r}return null}(n.pendingWriteTree_,e);if(function b0(n,e){const t=n.allWrites.findIndex(h=>h.writeId===e);(0,U.hu)(t>=0,"removeWrite called with nonexistent writeId.");const r=n.allWrites[t];n.allWrites.splice(t,1);let i=r.visible,a=!1,l=n.allWrites.length-1;for(;i&&l>=0;){const h=n.allWrites[l];h.visible&&(l>=t&&S0(h,r.path)?i=!1:ps(r.path,h.path)&&(a=!0)),l--}return!!i&&(a?(function A0(n){n.visibleWrites=Yp(n.allWrites,M0,Ht()),n.lastWriteId=n.allWrites.length>0?n.allWrites[n.allWrites.length-1].writeId:-1}(n),!0):(r.snap?n.visibleWrites=Ku(n.visibleWrites,r.path):Cr(r.children,p=>{n.visibleWrites=Ku(n.visibleWrites,In(r.path,p))}),!0))}(n.pendingWriteTree_,e)){let a=new Ft(null);return null!=r.snap?a=a.set(Ht(),!0):Cr(r.children,l=>{a=a.set(new jt(l),!0)}),Zu(n,new fh(r.path,a,t))}return[]}function Cc(n,e,t){return Zu(n,new qu({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,t))}function Eh(n,e,t){const i=n.pendingWriteTree_,a=n.syncPointTree_.findOnPath(e,(l,h)=>{const m=uo(h,di(l,e));if(m)return m});return x0(i,e,a,t,!0)}function Zu(n,e){return cv(e,n.syncPointTree_,null,mh(n.pendingWriteTree_,Ht()))}function cv(n,e,t,r){if(Rt(n.path))return dv(n,e,t,r);{const i=e.get(Ht());null==t&&null!=i&&(t=uo(i,Ht()));let a=[];const l=bt(n.path),h=n.operationForChild(l),p=e.children.get(l);if(p&&h){const m=t?t.getImmediateChild(l):null,I=Zp(r,l);a=a.concat(cv(h,p,m,I))}return i&&(a=a.concat(tg(i,n,r,t))),a}}function dv(n,e,t,r){const i=e.get(Ht());null==t&&null!=i&&(t=uo(i,Ht()));let a=[];return e.children.inorderTraversal((l,h)=>{const p=t?t.getImmediateChild(l):null,m=Zp(r,l),I=n.operationForChild(l);I&&(a=a.concat(dv(I,h,p,m)))}),i&&(a=a.concat(tg(i,n,r,t))),a}function lo(n,e){return n.tagToQueryMap.get(e)}function fv(n){const e=n.indexOf("$");return(0,U.hu)(-1!==e&&e<n.length-1,"Bad queryKey."),{queryId:n.substr(e+1),path:new jt(n.substr(0,e))}}function pv(n,e,t){const r=n.syncPointTree_.get(e);return(0,U.hu)(r,"Missing sync point for query tag that we're tracking"),tg(r,t,mh(n.pendingWriteTree_,e),null)}class H0{constructor(e){this.node_=e}getImmediateChild(e){const t=this.node_.getImmediateChild(e);return new H0(t)}node(){return this.node_}}class z0{constructor(e,t){this.syncTree_=e,this.path_=t}getImmediateChild(e){const t=In(this.path_,e);return new z0(this.syncTree_,t)}node(){return Eh(this.syncTree_,this.path_)}}const RM=function(n){return(n=n||{}).timestamp=n.timestamp||(new Date).getTime(),n},W0=function(n,e,t){return n&&"object"==typeof n?((0,U.hu)(".sv"in n,"Unexpected leaf node or priority contents"),"string"==typeof n[".sv"]?q0(n[".sv"],e,t):"object"==typeof n[".sv"]?PM(n[".sv"],e):void(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2))):n},q0=function(n,e,t){if("timestamp"===n)return t.timestamp;(0,U.hu)(!1,"Unexpected server value: "+n)},PM=function(n,e,t){n.hasOwnProperty("increment")||(0,U.hu)(!1,"Unexpected server value: "+JSON.stringify(n,null,2));const r=n.increment;"number"!=typeof r&&(0,U.hu)(!1,"Unexpected increment value: "+r);const i=e.node();if((0,U.hu)(null!==i&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const l=i.getValue();return"number"!=typeof l?r:l+r},er=function(n,e,t,r){return _v(e,new z0(t,n),r)},ag=function(n,e,t){return _v(n,new H0(e),t)};function _v(n,e,t){const r=n.getPriority().val(),i=W0(r,e.getImmediateChild(".priority"),t);let a;if(n.isLeafNode()){const l=n,h=W0(l.getValue(),e,t);return h!==l.getValue()||i!==l.getPriority().val()?new Hu(h,Sn(i)):n}{const l=n;return a=l,i!==l.getPriority().val()&&(a=a.updatePriority(new Hu(i))),l.forEachChild(fn,(h,p)=>{const m=_v(p,e.getImmediateChild(h),t);m!==p&&(a=a.updateImmediateChild(h,m))}),a}}class vv{constructor(e="",t=null,r={children:{},childCount:0}){this.name=e,this.parent=t,this.node=r}}function Ih(n,e){let t=e instanceof jt?e:new jt(e),r=n,i=bt(t);for(;null!==i;){const a=(0,U.DV)(r.node.children,i)||{children:{},childCount:0};r=new vv(i,r,a),t=an(t),i=bt(t)}return r}function Ju(n){return n.node.value}function ug(n,e){n.node.value=e,cg(n)}function wv(n){return n.node.childCount>0}function lg(n,e){Cr(n.node.children,(t,r)=>{e(new vv(t,n,r))})}function K0(n,e,t,r){t&&!r&&e(n),lg(n,i=>{K0(i,e,!0,r)}),t&&r&&e(n)}function Ch(n){return new jt(null===n.parent?n.name:Ch(n.parent)+"/"+n.name)}function cg(n){null!==n.parent&&function K1(n,e,t){const r=function Tc(n){return void 0===Ju(n)&&!wv(n)}(t),i=(0,U.r3)(n.node.children,e);r&&i?(delete n.node.children[e],n.node.childCount--,cg(n)):!r&&!i&&(n.node.children[e]=t.node,n.node.childCount++,cg(n))}(n.parent,n.name,n)}const Q0=/[\[\].#$\/\u0000-\u001F\u007F]/,Ev=/[\[\].#$\u0000-\u001F\u007F]/,vs=10485760,dg=function(n){return"string"==typeof n&&0!==n.length&&!Q0.test(n)},Z0=function(n){return"string"==typeof n&&0!==n.length&&!Ev.test(n)},bc=function(n,e,t){const r=t instanceof jt?new YA(t,n):t;if(void 0===e)throw new Error(n+"contains undefined "+ju(r));if("function"==typeof e)throw new Error(n+"contains a function "+ju(r)+" with contents = "+e.toString());if(Lu(e))throw new Error(n+"contains "+e.toString()+" "+ju(r));if("string"==typeof e&&e.length>vs/3&&(0,U.ug)(e)>vs)throw new Error(n+"contains a string greater than "+vs+" utf8 bytes "+ju(r)+" ('"+e.substring(0,50)+"...')");if(e&&"object"==typeof e){let i=!1,a=!1;if(Cr(e,(l,h)=>{if(".value"===l)i=!0;else if(".priority"!==l&&".sv"!==l&&(a=!0,!dg(l)))throw new Error(n+" contains an invalid key ("+l+") "+ju(r)+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');(function QA(n,e){n.parts_.length>0&&(n.byteLength_+=1),n.parts_.push(e),n.byteLength_+=(0,U.ug)(e),N_(n)})(r,l),bc(n,h,r),function a0(n){const e=n.parts_.pop();n.byteLength_-=(0,U.ug)(e),n.parts_.length>0&&(n.byteLength_-=1)}(r)}),i&&a)throw new Error(n+' contains ".value" child '+ju(r)+" in addition to actual children.")}},Cv=function(n,e,t,r){if(!(r&&void 0===t||Z0(t)))throw new Error((0,U.gK)(n,e)+'was an invalid path = "'+t+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},Dv=function(n,e,t,r){t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),Cv(n,e,t,r)};class tD{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Oi(n,e,t){(function hg(n,e){let t=null;for(let r=0;r<e.length;r++){const i=e[r],a=i.getPath();null!==t&&!x_(a,t.path)&&(n.eventLists_.push(t),t=null),null===t&&(t={events:[],path:a}),t.events.push(i)}t&&n.eventLists_.push(t)})(n,t),function Tv(n,e){n.recursionDepth_++;let t=!0;for(let r=0;r<n.eventLists_.length;r++){const i=n.eventLists_[r];i&&(e(i.path)?(fg(n.eventLists_[r]),n.eventLists_[r]=null):t=!1)}t&&(n.eventLists_=[]),n.recursionDepth_--}(n,r=>ps(r,e)||ps(e,r))}function fg(n){for(let e=0;e<n.events.length;e++){const t=n.events[e];if(null!==t){n.events[e]=null;const r=t.getEventRunner();$o&&Xn("event: "+t.toString()),Go(r)}}}const iD=25;class sD{constructor(e,t,r,i){this.repoInfo_=e,this.forceRestClient_=t,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new tD,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Wp(),this.transactionQueueTree_=new vv,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function aD(n){const t=n.infoData_.getNode(new jt(".info/serverTimeOffset")).val()||0;return(new Date).getTime()+t}function Th(n){return RM({timestamp:aD(n)})}function bv(n,e,t,r,i){n.dataUpdateCount++;const a=new jt(e);t=n.interceptServerDataCallback_?n.interceptServerDataCallback_(e,t):t;let l=[];if(i)if(r){const p=(0,U.UI)(t,m=>Sn(m));l=function lv(n,e,t,r){const i=lo(n,r);if(i){const a=fv(i),l=a.path,h=a.queryId,p=di(l,e),m=Ft.fromObject(t);return pv(n,l,new ph(z_(h),p,m))}return[]}(n.serverSyncTree_,a,p,i)}else{const p=Sn(t);l=function uv(n,e,t,r){const i=lo(n,r);if(null!=i){const a=fv(i),l=a.path,h=a.queryId,p=di(l,e);return pv(n,l,new qu(z_(h),p,t))}return[]}(n.serverSyncTree_,a,p,i)}else if(r){const p=(0,U.UI)(t,m=>Sn(m));l=function AM(n,e,t){const r=Ft.fromObject(t);return Zu(n,new ph({fromUser:!1,fromServer:!0,queryId:null,tagged:!1},e,r))}(n.serverSyncTree_,a,p)}else{const p=Sn(t);l=Cc(n.serverSyncTree_,a,p)}let h=a;l.length>0&&(h=Ac(n,a)),Oi(n.eventQueue_,h,l)}function pg(n,e){gg(n,"connected",e),!1===e&&function dD(n){Sc(n,"onDisconnectEvents");const e=Th(n),t=Wp();qp(n.onDisconnect_,Ht(),(i,a)=>{const l=er(i,a,n.serverSyncTree_,e);yc(t,i,l)});let r=[];qp(t,Ht(),(i,a)=>{r=r.concat(Cc(n.serverSyncTree_,i,a));const l=function _g(n,e){const t=Ch(gD(n,e)),r=Ih(n.transactionQueueTree_,e);return function Y0(n,e,t){let r=t?n:n.parent;for(;null!==r;){if(e(r))return!0;r=r.parent}}(r,i=>{vg(n,i)}),vg(n,r),K0(r,i=>{vg(n,i)}),t}(n,i);Ac(n,l)}),n.onDisconnect_=Wp(),Oi(n.eventQueue_,Ht(),r)}(n)}function gg(n,e,t){const r=new jt("/.info/"+e),i=Sn(t);n.infoData_.updateSnapshot(r,i);const a=Cc(n.infoSyncTree_,r,i);Oi(n.eventQueue_,r,a)}function bh(n){return n.nextWriteId_++}function Sc(n,...e){let t="";n.persistentConnection_&&(t=n.persistentConnection_.id+":"),Xn(t,...e)}function Av(n,e,t){return Eh(n.serverSyncTree_,e,t)||St.EMPTY_NODE}function yg(n,e=n.transactionQueueTree_){if(e||Sh(n,e),Ju(e)){const t=mD(n,e);(0,U.hu)(t.length>0,"Sending zero length transaction queue"),t.every(i=>0===i.status)&&function UM(n,e,t){const r=t.map(m=>m.currentWriteId),i=Av(n,e,r);let a=i;const l=i.hash();for(let m=0;m<t.length;m++){const I=t[m];(0,U.hu)(0===I.status,"tryToSendTransactionQueue_: items in queue should all be run."),I.status=1,I.retryCount++;const C=di(e,I.path);a=a.updateChild(C,I.currentOutputSnapshotRaw)}const h=a.val(!0),p=e;n.server_.put(p.toString(),h,m=>{Sc(n,"transaction put response",{path:p.toString(),status:m});let I=[];if("ok"===m){const C=[];for(let S=0;S<t.length;S++)t[S].status=2,I=I.concat(Yo(n.serverSyncTree_,t[S].currentWriteId)),t[S].onComplete&&C.push(()=>t[S].onComplete(null,!0,t[S].currentOutputSnapshotResolved)),t[S].unwatcher();Sh(n,Ih(n.transactionQueueTree_,e)),yg(n,n.transactionQueueTree_),Oi(n.eventQueue_,e,I);for(let S=0;S<C.length;S++)Go(C[S])}else{if("datastale"===m)for(let C=0;C<t.length;C++)t[C].status=3===t[C].status?4:0;else{Fr("transaction at "+p.toString()+" failed: "+m);for(let C=0;C<t.length;C++)t[C].status=4,t[C].abortReason=m}Ac(n,e)}},l)}(n,Ch(e),t)}else wv(e)&&lg(e,t=>{yg(n,t)})}function Ac(n,e){const t=gD(n,e),r=Ch(t);return function BM(n,e,t){if(0===e.length)return;const r=[];let i=[];const l=e.filter(h=>0===h.status).map(h=>h.currentWriteId);for(let h=0;h<e.length;h++){const p=e[h],m=di(t,p.path);let C,I=!1;if((0,U.hu)(null!==m,"rerunTransactionsUnderNode_: relativePath should not be null."),4===p.status)I=!0,C=p.abortReason,i=i.concat(Yo(n.serverSyncTree_,p.currentWriteId,!0));else if(0===p.status)if(p.retryCount>=iD)I=!0,C="maxretry",i=i.concat(Yo(n.serverSyncTree_,p.currentWriteId,!0));else{const S=Av(n,p.path,l);p.currentInputSnapshot=S;const N=e[h].update(S.val());if(void 0!==N){bc("transaction failed: Data returned ",N,p.path);let G=Sn(N);"object"==typeof N&&null!=N&&(0,U.r3)(N,".priority")||(G=G.updatePriority(S.getPriority()));const pe=p.currentWriteId,et=Th(n),ht=ag(G,S,et);p.currentOutputSnapshotRaw=G,p.currentOutputSnapshotResolved=ht,p.currentWriteId=bh(n),l.splice(l.indexOf(pe),1),i=i.concat(av(n.serverSyncTree_,p.path,ht,p.currentWriteId,p.applyLocally)),i=i.concat(Yo(n.serverSyncTree_,pe,!0))}else I=!0,C="nodata",i=i.concat(Yo(n.serverSyncTree_,p.currentWriteId,!0))}Oi(n.eventQueue_,t,i),i=[],I&&(e[h].status=2,setTimeout(e[h].unwatcher,Math.floor(0)),e[h].onComplete&&r.push("nodata"===C?()=>e[h].onComplete(null,!1,e[h].currentInputSnapshot):()=>e[h].onComplete(new Error(C),!1,null)))}Sh(n,n.transactionQueueTree_);for(let h=0;h<r.length;h++)Go(r[h]);yg(n,n.transactionQueueTree_)}(n,mD(n,t),r),r}function gD(n,e){let t,r=n.transactionQueueTree_;for(t=bt(e);null!==t&&void 0===Ju(r);)r=Ih(r,t),t=bt(e=an(e));return r}function mD(n,e){const t=[];return yD(n,e,t),t.sort((r,i)=>r.order-i.order),t}function yD(n,e,t){const r=Ju(e);if(r)for(let i=0;i<r.length;i++)t.push(r[i]);lg(e,i=>{yD(n,i,t)})}function Sh(n,e){const t=Ju(e);if(t){let r=0;for(let i=0;i<t.length;i++)2!==t[i].status&&(t[r]=t[i],r++);t.length=r,ug(e,t.length>0?t:void 0)}lg(e,r=>{Sh(n,r)})}function vg(n,e){const t=Ju(e);if(t){const r=[];let i=[],a=-1;for(let l=0;l<t.length;l++)3===t[l].status||(1===t[l].status?((0,U.hu)(a===l-1,"All SENT items should be at beginning of queue."),a=l,t[l].status=3,t[l].abortReason="set"):((0,U.hu)(0===t[l].status,"Unexpected transaction status in abort"),t[l].unwatcher(),i=i.concat(Yo(n.serverSyncTree_,t[l].currentWriteId,!0)),t[l].onComplete&&r.push(t[l].onComplete.bind(null,new Error("set"),!1,null))));-1===a?ug(e,void 0):t.length=a+1,Oi(n.eventQueue_,Ch(e),i);for(let l=0;l<r.length;l++)Go(r[l])}}const wg=function(n,e){const t=wD(n),r=t.namespace;return"firebase.com"===t.domain&&Ri(t.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||"undefined"===r)&&"localhost"!==t.domain&&Ri("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),t.secure||typeof window<"u"&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&Fr("Insecure Firebase access from a secure page. Please use https in calls to new Firebase()."),{repoInfo:new Op(t.host,t.secure,r,"ws"===t.scheme||"wss"===t.scheme,e,"",r!==t.subdomain),path:new jt(t.pathString)}},wD=function(n){let e="",t="",r="",i="",a="",l=!0,h="https",p=443;if("string"==typeof n){let m=n.indexOf("//");m>=0&&(h=n.substring(0,m-1),n=n.substring(m+2));let I=n.indexOf("/");-1===I&&(I=n.length);let C=n.indexOf("?");-1===C&&(C=n.length),e=n.substring(0,Math.min(I,C)),I<C&&(i=function _D(n){let e="";const t=n.split("/");for(let r=0;r<t.length;r++)if(t[r].length>0){let i=t[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}(n.substring(I,C)));const S=function vD(n){const e={};"?"===n.charAt(0)&&(n=n.substring(1));for(const t of n.split("&")){if(0===t.length)continue;const r=t.split("=");2===r.length?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Fr(`Invalid query segment '${t}' in query '${n}'`)}return e}(n.substring(Math.min(n.length,C)));m=e.indexOf(":"),m>=0?(l="https"===h||"wss"===h,p=parseInt(e.substring(m+1),10)):m=e.length;const N=e.slice(0,m);if("localhost"===N.toLowerCase())t="localhost";else if(N.split(".").length<=2)t=N;else{const G=e.indexOf(".");r=e.substring(0,G).toLowerCase(),t=e.substring(G+1),a=r}"ns"in S&&(a=S.ns)}return{host:e,port:p,domain:t,subdomain:r,secure:l,scheme:h,pathString:i,namespace:a}};class Zi{constructor(e,t,r,i){this._repo=e,this._path=t,this._queryParams=r,this._orderByCalled=i}get key(){return Rt(this._path)?null:oh(this._path)}get ref(){return new ho(this._repo,this._path)}get _queryIdentifier(){const e=E0(this._queryParams),t=Np(e);return"{}"===t?"default":t}get _queryObject(){return E0(this._queryParams)}isEqual(e){if(!((e=(0,U.m9)(e))instanceof Zi))return!1;const t=this._repo===e._repo,r=x_(this._path,e._path);return t&&r&&this._queryIdentifier===e._queryIdentifier}toJSON(){return this.toString()}toString(){return this._repo.toString()+function M_(n){let e="";for(let t=n.pieceNum_;t<n.pieces_.length;t++)""!==n.pieces_[t]&&(e+="/"+encodeURIComponent(String(n.pieces_[t])));return e||"/"}(this._path)}}class ho extends Zi{constructor(e,t){super(e,t,new zu,!1)}get parent(){const e=Bp(this._path);return null===e?null:new ho(this._repo,e)}get root(){let e=this;for(;null!==e.parent;)e=e.parent;return e}}function Rv(n,e){return(n=(0,U.m9)(n))._checkNotDeleted("ref"),void 0!==e?function st(n,e){return null===bt((n=(0,U.m9)(n))._path)?Dv("child","path",e,!1):Cv("child","path",e,!1),new ho(n._repo,In(n._path,e))}(n._root,e):n._root}(function Jp(n){(0,U.hu)(!Ic,"__referenceConstructor has already been defined"),Ic=n})(ho),function iv(n){(0,U.hu)(!ig,"__referenceConstructor has already been defined"),ig=n}(ho);const SD={};function Dg(n,e,t,r,i){let a=r||n.options.databaseURL;void 0===a&&(n.options.projectId||Ri("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),Xn("Using default host for project ",n.options.projectId),a=`${n.options.projectId}-default-rtdb.firebaseio.com`);let p,m,l=wg(a,i),h=l.repoInfo;typeof process<"u"&&process.env&&(m=process.env.FIREBASE_DATABASE_EMULATOR_HOST),m?(p=!0,a=`http://${m}?ns=${h.namespace}`,l=wg(a,i),h=l.repoInfo):p=!l.repoInfo.secure;const I=i&&p?new Pp(Pp.OWNER):new OC(n.name,n.options,e);(function(n,e){const t=e.path.toString();if("string"!=typeof e.repoInfo.host||0===e.repoInfo.host.length||!dg(e.repoInfo.namespace)&&"localhost"!==e.repoInfo.host.split(":")[0]||0!==t.length&&!function(n){return n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Z0(n)}(t))throw new Error((0,U.gK)(n,"url")+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')})("Invalid Firebase Database URL",l),Rt(l.path)||Ri("Database URL must point to the root of a Firebase Database (not including a child path).");const C=function ix(n,e,t,r){let i=SD[e.name];i||(i={},SD[e.name]=i);let a=i[n.toURLString()];return a&&Ri("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),a=new sD(n,false,t,r),i[n.toURLString()]=a,a}(h,n,I,new BA(n.name,t));return new xh(C,n)}class xh{constructor(e,t){this._repoInternal=e,this.app=t,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(function oD(n,e,t){if(n.stats_=xa(n.repoInfo_),n.forceRestClient_||("object"==typeof window&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0)n.server_=new zp(n.repoInfo_,(r,i,a,l)=>{bv(n,r,i,a,l)},n.authTokenProvider_,n.appCheckProvider_),setTimeout(()=>pg(n,!0),0);else{if(typeof t<"u"&&null!==t){if("object"!=typeof t)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{(0,U.Wl)(t)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}n.persistentConnection_=new Gu(n.repoInfo_,e,(r,i,a,l)=>{bv(n,r,i,a,l)},r=>{pg(n,r)},r=>{!function uD(n,e){Cr(e,(t,r)=>{gg(n,t,r)})}(n,r)},n.authTokenProvider_,n.appCheckProvider_,t),n.server_=n.persistentConnection_}n.authTokenProvider_.addTokenChangeListener(r=>{n.server_.refreshAuthToken(r)}),n.appCheckProvider_.addTokenChangeListener(r=>{n.server_.refreshAppCheckToken(r.token)}),n.statsReporter_=function Fp(n,e){const t=n.toString();return nh[t]||(nh[t]=e()),nh[t]}(n.repoInfo_,()=>new dM(n.stats_,n.server_)),n.infoData_=new aM,n.infoSyncTree_=new ov({startListening:(r,i,a,l)=>{let h=[];const p=n.infoData_.getNode(r._path);return p.isEmpty()||(h=Cc(n.infoSyncTree_,r._path,p),setTimeout(()=>{l("ok")},0)),h},stopListening:()=>{}}),gg(n,"connected",!1),n.serverSyncTree_=new ov({startListening:(r,i,a,l)=>(n.server_.listen(r,a,i,(h,p)=>{const m=l(h,p);Oi(n.eventQueue_,r._path,m)}),[]),stopListening:(r,i)=>{n.server_.unlisten(r,i)}})}(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new ho(this._repo,Ht())),this._rootInternal}_delete(){return null!==this._rootInternal&&(function rx(n,e){const t=SD[e];(!t||t[n.key]!==n)&&Ri(`Database ${e}(${n.repoInfo_}) has already been deleted.`),function pD(n){n.persistentConnection_&&n.persistentConnection_.interrupt("repo_interrupt")}(n),delete t[n.key]}(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){null===this._rootInternal&&Ri("Cannot call "+e+" on a deleted database.")}}Gu.prototype.simpleListen=function(n,e){this.sendRequest("q",{p:n},e)},Gu.prototype.echo=function(n,e){this.sendRequest("echo",{d:n},e)},function ax(n){(function m_(n){Mp=n})(Fn.SDK_VERSION),(0,Fn._registerComponent)(new nc.wA("database",(e,{instanceIdentifier:t})=>Dg(e.getProvider("app").getImmediate(),e.getProvider("auth-internal"),e.getProvider("app-check-internal"),t),"PUBLIC").setMultipleInstances(!0)),(0,Fn.registerVersion)(g_,"0.14.4",n),(0,Fn.registerVersion)(g_,"0.14.4","esm2017")}();let Tg=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}}return n.\u0275fac=function(t){return new(t||n)(y.Y36(y.Qsj),y.Y36(y.SBq))},n.\u0275dir=y.lG2({type:n}),n})(),nl=(()=>{class n extends Tg{}return n.\u0275fac=function(){let e;return function(r){return(e||(e=y.n5z(n)))(r||n)}}(),n.\u0275dir=y.lG2({type:n,features:[y.qOj]}),n})();const Bs=new y.OlP("NgValueAccessor"),fx={provide:Bs,useExisting:(0,y.Gpc)(()=>bg),multi:!0},Fv=new y.OlP("CompositionEventMode");let bg=(()=>{class n extends Tg{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,null==this._compositionMode&&(this._compositionMode=!function px(){const n=H()?H().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}())}writeValue(t){this.setProperty("value",t??"")}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}}return n.\u0275fac=function(t){return new(t||n)(y.Y36(y.Qsj),y.Y36(y.SBq),y.Y36(Fv,8))},n.\u0275dir=y.lG2({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(t,r){1&t&&y.NdJ("input",function(a){return r._handleInput(a.target.value)})("blur",function(){return r.onTouched()})("compositionstart",function(){return r._compositionStart()})("compositionend",function(a){return r._compositionEnd(a.target.value)})},features:[y._Bn([fx]),y.qOj]}),n})();const Xr=new y.OlP("NgValidators"),Ua=new y.OlP("NgAsyncValidators");function UD(n){return null!=n}function BD(n){return(0,y.QGY)(n)?(0,qn.D)(n):n}function Ag(n){let e={};return n.forEach(t=>{e=null!=t?{...e,...t}:e}),0===Object.keys(e).length?null:e}function Mg(n,e){return e.map(t=>t(n))}function xg(n){return n.map(e=>function $D(n){return!n.validate}(e)?e:t=>e.validate(t))}function Bv(n){return null!=n?function jD(n){if(!n)return null;const e=n.filter(UD);return 0==e.length?null:function(t){return Ag(Mg(t,e))}}(xg(n)):null}function $v(n){return null!=n?function Ng(n){if(!n)return null;const e=n.filter(UD);return 0==e.length?null:function(t){return function hx(...n){const e=(0,Ro.jO)(n),{args:t,keys:r}=ya(n),i=new ga.y(a=>{const{length:l}=t;if(!l)return void a.complete();const h=new Array(l);let p=l,m=l;for(let I=0;I<l;I++){let C=!1;(0,yu.Xf)(t[I]).subscribe((0,Hi.x)(a,S=>{C||(C=!0,m--),h[I]=S},()=>p--,void 0,()=>{(!p||!C)&&(m||a.next(r?pu(r,h):h),a.complete())}))}});return e?i.pipe(Nd(e)):i}(Mg(t,e).map(BD)).pipe((0,un.U)(Ag))}}(xg(n)):null}function jv(n,e){return null===n?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Hv(n){return n?Array.isArray(n)?n:[n]:[]}function zv(n,e){return Array.isArray(n)?n.includes(e):n===e}function Rg(n,e){const t=Hv(e);return Hv(n).forEach(i=>{zv(t,i)||t.push(i)}),t}function Pg(n,e){return Hv(e).filter(t=>!zv(n,t))}class GD{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Bv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=$v(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return!!this.control&&this.control.hasError(e,t)}getError(e,t){return this.control?this.control.getError(e,t):null}}class Jr extends GD{get formDirective(){return null}get path(){return null}}class Jo extends GD{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}}class HD{constructor(e){this._cd=e}get isTouched(){return!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return!!this._cd?.submitted}}let Wv=(()=>{class n extends HD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(y.Y36(Jo,2))},n.\u0275dir=y.lG2({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(t,r){2&t&&y.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)},features:[y.qOj]}),n})(),qv=(()=>{class n extends HD{constructor(t){super(t)}}return n.\u0275fac=function(t){return new(t||n)(y.Y36(Jr,10))},n.\u0275dir=y.lG2({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(t,r){2&t&&y.ekj("ng-untouched",r.isUntouched)("ng-touched",r.isTouched)("ng-pristine",r.isPristine)("ng-dirty",r.isDirty)("ng-valid",r.isValid)("ng-invalid",r.isInvalid)("ng-pending",r.isPending)("ng-submitted",r.isSubmitted)},features:[y.qOj]}),n})();const Ph="VALID",Og="INVALID",Nc="PENDING",kh="DISABLED";function Yv(n){return(Fh(n)?n.validators:n)||null}function Qv(n,e){return(Fh(e)?e.asyncValidators:n)||null}function Fh(n){return null!=n&&!Array.isArray(n)&&"object"==typeof n}class Jv{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=!1,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this.pristine=!0,this.touched=!1,this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get valid(){return this.status===Ph}get invalid(){return this.status===Og}get pending(){return this.status==Nc}get disabled(){return this.status===kh}get enabled(){return this.status!==kh}get dirty(){return!this.pristine}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(Rg(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(Rg(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(Pg(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(Pg(e,this._rawAsyncValidators))}hasValidator(e){return zv(this._rawValidators,e)}hasAsyncValidator(e){return zv(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){this.touched=!0,this._parent&&!e.onlySelf&&this._parent.markAsTouched(e)}markAllAsTouched(){this.markAsTouched({onlySelf:!0}),this._forEachChild(e=>e.markAllAsTouched())}markAsUntouched(e={}){this.touched=!1,this._pendingTouched=!1,this._forEachChild(t=>{t.markAsUntouched({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}markAsDirty(e={}){this.pristine=!1,this._parent&&!e.onlySelf&&this._parent.markAsDirty(e)}markAsPristine(e={}){this.pristine=!0,this._pendingDirty=!1,this._forEachChild(t=>{t.markAsPristine({onlySelf:!0})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}markAsPending(e={}){this.status=Nc,!1!==e.emitEvent&&this.statusChanges.emit(this.status),this._parent&&!e.onlySelf&&this._parent.markAsPending(e)}disable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=kh,this.errors=null,this._forEachChild(r=>{r.disable({...e,onlySelf:!0})}),this._updateValue(),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!0))}enable(e={}){const t=this._parentMarkedDirty(e.onlySelf);this.status=Ph,this._forEachChild(r=>{r.enable({...e,onlySelf:!0})}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors({...e,skipPristineCheck:t}),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine(),this._parent._updateTouched())}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){this._setInitialStatus(),this._updateValue(),this.enabled&&(this._cancelExistingSubscription(),this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Ph||this.status===Nc)&&this._runAsyncValidator(e.emitEvent)),!1!==e.emitEvent&&(this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(e)}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?kh:Ph}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e){if(this.asyncValidator){this.status=Nc,this._hasOwnPendingAsyncValidator=!0;const t=BD(this.asyncValidator(this));this._asyncValidationSubscription=t.subscribe(r=>{this._hasOwnPendingAsyncValidator=!1,this.setErrors(r,{emitEvent:e})})}}_cancelExistingSubscription(){this._asyncValidationSubscription&&(this._asyncValidationSubscription.unsubscribe(),this._hasOwnPendingAsyncValidator=!1)}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(!1!==t.emitEvent)}get(e){let t=e;return null==t||(Array.isArray(t)||(t=t.split(".")),0===t.length)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){const r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),this._parent&&this._parent._updateControlsErrors(e)}_initObservables(){this.valueChanges=new y.vpe,this.statusChanges=new y.vpe}_calculateStatus(){return this._allControlsDisabled()?kh:this.errors?Og:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Nc)?Nc:this._anyControlsHaveStatus(Og)?Og:Ph}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e={}){this.pristine=!this._anyControlsDirty(),this._parent&&!e.onlySelf&&this._parent._updatePristine(e)}_updateTouched(e={}){this.touched=this._anyControlsTouched(),this._parent&&!e.onlySelf&&this._parent._updateTouched(e)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){Fh(e)&&null!=e.updateOn&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){return!e&&!(!this._parent||!this._parent.dirty)&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=function Ix(n){return Array.isArray(n)?Bv(n):n||null}(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=function Oh(n){return Array.isArray(n)?$v(n):n||null}(this._rawAsyncValidators)}}class Fg extends Jv{constructor(e,t,r){super(Yv(t),Qv(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){(function Xv(n,e,t){n._forEachChild((r,i)=>{if(void 0===t[i])throw new y.vHH(1002,"")})})(this,0,e),Object.keys(e).forEach(r=>{(function Zv(n,e,t){const r=n.controls;if(!(e?Object.keys(r):r).length)throw new y.vHH(1e3,"");if(!r[t])throw new y.vHH(1001,"")})(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){null!=e&&(Object.keys(e).forEach(r=>{const i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t),this._updateTouched(t),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>!!r._syncPendingControls()||t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{const r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(const[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){return this._reduceChildren({},(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,a)=>{r=t(r,i,a)}),r}_allControlsDisabled(){for(const e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}}const Rc=new y.OlP("CallSetDisabledState",{providedIn:"root",factory:()=>Lg}),Lg="always";function Lh(n,e,t=Lg){ws(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||"always"===t)&&e.valueAccessor.setDisabledState?.(n.disabled),function tw(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,"change"===n.updateOn&&qD(n,e)})}(n,e),function Cx(n,e){const t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}(n,e),function Vh(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,"blur"===n.updateOn&&n._pendingChange&&qD(n,e),"submit"!==n.updateOn&&n.markAsTouched()})}(n,e),function ew(n,e){if(e.valueAccessor.setDisabledState){const t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}(n,e)}function Ug(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function ws(n,e){const t=function rl(n){return n._rawValidators}(n);null!==e.validator?n.setValidators(jv(t,e.validator)):"function"==typeof t&&n.setValidators([t]);const r=function Gv(n){return n._rawAsyncValidators}(n);null!==e.asyncValidator?n.setAsyncValidators(jv(r,e.asyncValidator)):"function"==typeof r&&n.setAsyncValidators([r]);const i=()=>n.updateValueAndValidity();Ug(e._rawValidators,i),Ug(e._rawAsyncValidators,i)}function qD(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}const bx={provide:Jr,useExisting:(0,y.Gpc)(()=>Bh)},Uh=(()=>Promise.resolve())();let Bh=(()=>{class n extends Jr{constructor(t,r,i){super(),this.callSetDisabledState=i,this.submitted=!1,this._directives=new Set,this.ngSubmit=new y.vpe,this.form=new Fg({},Bv(t),$v(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Uh.then(()=>{const r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),Lh(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Uh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Uh.then(()=>{const r=this._findContainer(t.path),i=new Fg({});(function KD(n,e){ws(n,e)})(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Uh.then(()=>{const r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Uh.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submitted=!0,function ZD(n,e){n._syncPendingControls(),e.forEach(t=>{const r=t.control;"submit"===r.updateOn&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}(this.form,this._directives),this.ngSubmit.emit(t),"dialog"===t?.target?.method}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submitted=!1}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}}return n.\u0275fac=function(t){return new(t||n)(y.Y36(Xr,10),y.Y36(Ua,10),y.Y36(Rc,8))},n.\u0275dir=y.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(t,r){1&t&&y.NdJ("submit",function(a){return r.onSubmit(a)})("reset",function(){return r.onReset()})},inputs:{options:["ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[y._Bn([bx]),y.qOj]}),n})();function ow(n,e){const t=n.indexOf(e);t>-1&&n.splice(t,1)}function jg(n){return"object"==typeof n&&null!==n&&2===Object.keys(n).length&&"value"in n&&"disabled"in n}const aw=class extends Jv{constructor(e=null,t,r){super(Yv(t),Qv(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),Fh(t)&&(t.nonNullable||t.initialValueIsDefault)&&(this.defaultValue=jg(e)?e.value:e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&!1!==t.emitModelToViewChange&&this._onChange.forEach(r=>r(this.value,!1!==t.emitViewToModelChange)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){ow(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){ow(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return!("submit"!==this.updateOn||(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),!this._pendingChange)||(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),0))}_applyFormState(e){jg(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}},lw={provide:Jo,useExisting:(0,y.Gpc)(()=>cw)},rT=(()=>Promise.resolve())();let cw=(()=>{class n extends Jo{constructor(t,r,i,a,l,h){super(),this._changeDetectorRef=l,this.callSetDisabledState=h,this.control=new aw,this._registered=!1,this.name="",this.update=new y.vpe,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=function iw(n,e){if(!e)return null;let t,r,i;return Array.isArray(e),e.forEach(a=>{a.constructor===bg?t=a:function QD(n){return Object.getPrototypeOf(n.constructor)===nl}(a)?r=a:i=a}),i||r||t||null}(0,a)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){const r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),function rw(n,e){if(!n.hasOwnProperty("model"))return!1;const t=n.model;return!!t.isFirstChange()||!Object.is(e,t.currentValue)}(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&null!=this.options.updateOn&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!(!this.options||!this.options.standalone)}_setUpStandalone(){Lh(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),this._isStandalone()}_updateValue(t){rT.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){const r=t.isDisabled.currentValue,i=0!==r&&(0,y.VuI)(r);rT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?function Vg(n,e){return[...e.path,n]}(t,this._parent):[t]}}return n.\u0275fac=function(t){return new(t||n)(y.Y36(Jr,9),y.Y36(Xr,10),y.Y36(Ua,10),y.Y36(Bs,10),y.Y36(y.sBO,8),y.Y36(Rc,8))},n.\u0275dir=y.lG2({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:["disabled","isDisabled"],model:["ngModel","model"],options:["ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[y._Bn([lw]),y.qOj,y.TTD]}),n})(),iT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275dir=y.lG2({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]}),n})(),sT=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({}),n})(),zx=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({imports:[sT]}),n})(),RF=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Rc,useValue:t.callSetDisabledState??Lg}]}}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({imports:[zx]}),n})(),PF=(()=>{class n{constructor(){this.items=[],this.formData={username:"",password:""},this.database=function sx(n=(0,Fn.getApp)(),e){const t=(0,Fn._getProvider)(n,"database").getImmediate({identifier:e});if(!t._instanceStarted){const r=(0,U.P0)("database");r&&function uF(n,e,t,r={}){(n=(0,U.m9)(n))._checkNotDeleted("useEmulator"),n._instanceStarted&&Ri("Cannot call useEmulator() after instance has already been initialized.");const i=n._repoInternal;let a;if(i.repoInfo_.nodeAdmin)r.mockUserToken&&Ri('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),a=new Pp(Pp.OWNER);else if(r.mockUserToken){const l="string"==typeof r.mockUserToken?r.mockUserToken:(0,U.Sg)(r.mockUserToken,n.app.options.projectId);a=new Pp(l)}!function AD(n,e,t,r){n.repoInfo_=new Op(`${e}:${t}`,!1,n.repoInfo_.namespace,n.repoInfo_.webSocketOnly,n.repoInfo_.nodeAdmin,n.repoInfo_.persistenceKey,n.repoInfo_.includeNamespaceInQueryParams,!0),r&&(n.authTokenProvider_=r)}(i,e,t,a)}(t,...r)}return t}(),console.log(this.database);const t=Rv(this.database,"usuarios");console.log(t)}onSubmit(){console.log(this.formData)}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=y.Xpm({type:n,selectors:[["app-login-component"]],decls:15,vars:2,consts:[[1,"main-container"],["src","../assets/versus.png","alt","",1,"login-logo"],[1,"form-container"],[3,"ngSubmit"],["myForm","ngForm"],["for","name","required",""],["type","text","name","username",3,"ngModel","ngModelChange"],["for","password"],["type","password","id","password","name","password",3,"ngModel","ngModelChange"],["type","submit",1,"submit-login-form"]],template:function(t,r){1&t&&(y.TgZ(0,"div",0),y._UZ(1,"img",1),y.TgZ(2,"div",2)(3,"h3"),y._uU(4,"Login"),y.qZA(),y.TgZ(5,"form",3,4),y.NdJ("ngSubmit",function(){return r.onSubmit()}),y.TgZ(7,"label",5),y._uU(8,"Username"),y.qZA(),y.TgZ(9,"input",6),y.NdJ("ngModelChange",function(a){return r.formData.username=a}),y.qZA(),y.TgZ(10,"label",7),y._uU(11,"Password"),y.qZA(),y.TgZ(12,"input",8),y.NdJ("ngModelChange",function(a){return r.formData.password=a}),y.qZA(),y.TgZ(13,"button",9),y._uU(14,"Submit"),y.qZA()()()()),2&t&&(y.xp6(9),y.Q6J("ngModel",r.formData.username),y.xp6(3),y.Q6J("ngModel",r.formData.password))},dependencies:[iT,bg,Wv,qv,cw,Bh],styles:["*[_ngcontent-%COMP%]{font-family:Trebuchet MS,Lucida Sans Unicode,Lucida Grande,Lucida Sans,Arial,sans-serif}h3[_ngcontent-%COMP%]{font-size:40px;color:#272727}form[_ngcontent-%COMP%]{display:flex;flex-direction:column;justify-content:center;align-items:center}input[_ngcontent-%COMP%]{margin-top:10px;width:60%;height:30px;border-radius:5px;border-color:#ffd900;border-style:solid}input[_ngcontent-%COMP%]:hover{background-color:#fff8bc;border-color:#fda000}input[_ngcontent-%COMP%]:visited{border-radius:5px;border-color:#ffd900}label[_ngcontent-%COMP%]{padding-top:20px}.submit-login-form[_ngcontent-%COMP%]{margin-top:30px;width:250px;height:50px;font-size:30px;border:none;background-color:#efbf00;color:#c69800;border-radius:5px;font-weight:700;transition:all .5s}.main-container[_ngcontent-%COMP%]{display:flex;justify-content:center;align-items:center;background-color:#7fffd4;padding:100px 200px 200px}.form-container[_ngcontent-%COMP%]{background-color:#fff;text-align:center;border-radius:13px;min-width:400px;max-width:40%;padding-bottom:50px}.login-logo[_ngcontent-%COMP%]{max-width:100%;height:auto;padding:5%}"]}),n})(),kF=(()=>{class n{constructor(){this.title="tictactoe"}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275cmp=y.Xpm({type:n,selectors:[["app-root"]],decls:2,vars:0,template:function(t,r){1&t&&y._UZ(0,"app-login-component")(1,"router-outlet")},dependencies:[Ir,PF]}),n})();var Oc=x(3182),Es=x(456);class Hh{constructor(e){return e}}class Zx{constructor(){return(0,Oc.C6)()}}const ET=new y.OlP("angularfire2._apps"),IT={provide:Hh,useFactory:function OF(n){return n&&1===n.length?n[0]:new Hh((0,Oc.Mq)())},deps:[[new y.FiY,ET]]},Ew={provide:Zx,deps:[[new y.FiY,ET]]};function CT(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new Hh(r)}}let Xx=(()=>{class n{constructor(t){(0,Oc.KN)("angularfire",Es.q4.full,"core"),(0,Oc.KN)("angularfire",Es.q4.full,"app"),(0,Oc.KN)("angular",y.q4F.full,t.toString())}}return n.\u0275fac=function(t){return new(t||n)(y.LFG(y.Lbi))},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[IT,Ew]}),n})();function qg(n,...e){return{ngModule:Xx,providers:[{provide:ET,useFactory:CT(n),multi:!0,deps:[y.R0b,y.zs3,Es.HU,...e]}]}}const LF=(0,Es.u3)(Oc.ZF,!0),DT_firebase={projectId:"tictactoe-aa9f2",appId:"1:1010149250839:web:ae4e00d3883d84e5128952",databaseURL:"https://tictactoe-aa9f2-default-rtdb.firebaseio.com",storageBucket:"tictactoe-aa9f2.appspot.com",locationId:"us-central",apiKey:"AIzaSyAiMs_8vGVYZnlBSaeHp1AmqPVSyEC2pLs",authDomain:"tictactoe-aa9f2.firebaseapp.com",messagingSenderId:"1010149250839"};var eN=x(7582);const fi=function TT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}},bT=new U.LL("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Kg=new fs.Yd("@firebase/auth");function Fc(n,...e){Kg.logLevel<=fs.in.ERROR&&Kg.error(`Auth (${Fn.SDK_VERSION}): ${n}`,...e)}function pi(n,...e){throw Yg(n,...e)}function $s(n,...e){return Yg(n,...e)}function Yg(n,...e){if("string"!=typeof n){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return bT.create(n,...e)}function xe(n,e,...t){if(!n)throw Yg(e,...t)}function js(n){const e="INTERNAL ASSERTION FAILED: "+n;throw Fc(e),new Error(e)}function $a(n,e){n||js(e)}function Qg(){var n;return typeof self<"u"&&(null===(n=self.location)||void 0===n?void 0:n.protocol)||null}class ol{constructor(e,t){this.shortDelay=e,this.longDelay=t,$a(t>e,"Short delay should be less than long delay!"),this.isMobile=(0,U.uI)()||(0,U.b$)()}get(){return function ja(){return!(typeof navigator<"u"&&navigator&&"onLine"in navigator&&"boolean"==typeof navigator.onLine&&(function Iw(){return"http:"===Qg()||"https:"===Qg()}()||(0,U.ru)()||"connection"in navigator))||navigator.onLine}()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}class xT{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){return this.fetchImpl?this.fetchImpl:typeof self<"u"&&"fetch"in self?self.fetch:void js("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:typeof self<"u"&&"Headers"in self?self.Headers:void js("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:typeof self<"u"&&"Response"in self?self.Response:void js("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const $F={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},NT=new ol(3e4,6e4);function Vn(n,e,t,r){return Cw.apply(this,arguments)}function Cw(){return(Cw=(0,Le.Z)(function*(n,e,t,r,i={}){return RT(n,i,(0,Le.Z)(function*(){let a={},l={};r&&("GET"===e?l=r:a={body:JSON.stringify(r)});const h=(0,U.xO)(Object.assign({key:n.config.apiKey},l)).slice(1),p=yield n._getAdditionalHeaders();return p["Content-Type"]="application/json",n.languageCode&&(p["X-Firebase-Locale"]=n.languageCode),xT.fetch()(PT(n,n.config.apiHost,t,h),Object.assign({method:e,headers:p,referrerPolicy:"no-referrer"},a))}))})).apply(this,arguments)}function RT(n,e,t){return Zg.apply(this,arguments)}function Zg(){return(Zg=(0,Le.Z)(function*(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},$F),e);try{const i=new kT(n),a=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=yield a.json();if("needConfirmation"in l)throw Jg(n,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const h=a.ok?l.errorMessage:l.error.message,[p,m]=h.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===p)throw Jg(n,"credential-already-in-use",l);if("EMAIL_EXISTS"===p)throw Jg(n,"email-already-in-use",l);if("USER_DISABLED"===p)throw Jg(n,"user-disabled",l);const I=r[p]||p.toLowerCase().replace(/[_\s]+/g,"-");if(m)throw function AT(n,e,t){const r=Object.assign(Object.assign({},fi()),{[e]:t});return new U.LL("auth","Firebase",r).create(e,{appName:n.name})}(n,I,m);pi(n,I)}}catch(i){if(i instanceof U.ZR)throw i;pi(n,"network-request-failed",{message:String(i)})}})).apply(this,arguments)}function PT(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?function zh(n,e){$a(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}(n.config,i):`${n.config.apiScheme}://${i}`}class kT{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($s(this.auth,"network-request-failed")),NT.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Jg(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=$s(n,e,r);return i.customData._tokenResponse=t,i}function em(){return(em=(0,Le.Z)(function*(n,e){return Vn(n,"POST","/v1/accounts:delete",e)})).apply(this,arguments)}function tm(){return(tm=(0,Le.Z)(function*(n,e){return Vn(n,"POST","/v1/accounts:lookup",e)})).apply(this,arguments)}function po(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function nm(){return(nm=(0,Le.Z)(function*(n,e=!1){const t=(0,U.m9)(n),r=yield t.getIdToken(e),i=rm(r);xe(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const a="object"==typeof i.firebase?i.firebase:void 0,l=a?.sign_in_provider;return{claims:i,token:r,authTime:po(Sw(i.auth_time)),issuedAtTime:po(Sw(i.iat)),expirationTime:po(Sw(i.exp)),signInProvider:l||null,signInSecondFactor:a?.sign_in_second_factor||null}})).apply(this,arguments)}function Sw(n){return 1e3*Number(n)}function rm(n){const[e,t,r]=n.split(".");if(void 0===e||void 0===t||void 0===r)return Fc("JWT malformed, contained fewer than 3 sections"),null;try{const i=(0,U.tV)(t);return i?JSON.parse(i):(Fc("Failed to decode base64 JWT payload"),null)}catch(i){return Fc("Caught error parsing JWT payload as JSON",i?.toString()),null}}function go(n,e){return Aw.apply(this,arguments)}function Aw(){return(Aw=(0,Le.Z)(function*(n,e,t=!1){if(t)return e;try{return yield e}catch(r){throw r instanceof U.ZR&&function sN({code:n}){return"auth/user-disabled"===n||"auth/user-token-expired"===n}(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})).apply(this,arguments)}class GF{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),r}{this.errorBackoff=3e4;const i=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){var t=this;if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout((0,Le.Z)(function*(){yield t.iteration()}),r)}iteration(){var e=this;return(0,Le.Z)(function*(){try{yield e.user.getIdToken(!0)}catch(t){return void("auth/network-request-failed"===t?.code&&e.schedule(!0))}e.schedule()})()}}class oN{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=po(this.lastLoginAt),this.creationTime=po(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}function im(n){return sm.apply(this,arguments)}function sm(){return sm=(0,Le.Z)(function*(n){var e;const t=n.auth,r=yield n.getIdToken(),i=yield go(n,function FT(n,e){return tm.apply(this,arguments)}(t,{idToken:r}));xe(i?.users.length,t,"internal-error");const a=i.users[0];n._notifyReloadListener(a);const l=null!==(e=a.providerUserInfo)&&void 0!==e&&e.length?function HF(n){return n.map(e=>{var{providerId:t}=e,r=(0,eN._T)(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}(a.providerUserInfo):[],h=function uN(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}(n.providerData,l),I=!!n.isAnonymous&&!(n.email&&a.passwordHash||h?.length),C={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:h,metadata:new oN(a.createdAt,a.lastLoginAt),isAnonymous:I};Object.assign(n,C)}),sm.apply(this,arguments)}function Mw(){return(Mw=(0,Le.Z)(function*(n){const e=(0,U.m9)(n);yield im(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})).apply(this,arguments)}function VT(){return(VT=(0,Le.Z)(function*(n,e){const t=yield RT(n,{},(0,Le.Z)(function*(){const r=(0,U.xO)({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=n.config,l=PT(n,i,"/v1/token",`key=${a}`),h=yield n._getAdditionalHeaders();return h["Content-Type"]="application/x-www-form-urlencoded",xT.fetch()(l,{method:"POST",headers:h,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})).apply(this,arguments)}class om{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){xe(e.idToken,"internal-error"),xe(typeof e.idToken<"u","internal-error"),xe(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):function jF(n){const e=rm(n);return xe(e,"internal-error"),xe(typeof e.exp<"u","internal-error"),xe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}getToken(e,t=!1){var r=this;return(0,Le.Z)(function*(){return xe(!r.accessToken||r.refreshToken,e,"user-token-expired"),t||!r.accessToken||r.isExpired?r.refreshToken?(yield r.refresh(e,r.refreshToken),r.accessToken):null:r.accessToken})()}clearRefreshToken(){this.refreshToken=null}refresh(e,t){var r=this;return(0,Le.Z)(function*(){const{accessToken:i,refreshToken:a,expiresIn:l}=yield function zF(n,e){return VT.apply(this,arguments)}(e,t);r.updateTokensAndExpiration(i,a,Number(l))})()}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*r}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:a}=t,l=new om;return r&&(xe("string"==typeof r,"internal-error",{appName:e}),l.refreshToken=r),i&&(xe("string"==typeof i,"internal-error",{appName:e}),l.accessToken=i),a&&(xe("number"==typeof a,"internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new om,this.toJSON())}_performRefresh(){return js("not implemented")}}function al(n,e){xe("string"==typeof n||typeof n>"u","internal-error",{appName:e})}class ul{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,a=(0,eN._T)(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new GF(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new oN(a.createdAt||void 0,a.lastLoginAt||void 0)}getIdToken(e){var t=this;return(0,Le.Z)(function*(){const r=yield go(t,t.stsTokenManager.getToken(t.auth,e));return xe(r,t.auth,"internal-error"),t.accessToken!==r&&(t.accessToken=r,yield t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)),r})()}getIdTokenResult(e){return function LT(n){return nm.apply(this,arguments)}(this,e)}reload(){return function aN(n){return Mw.apply(this,arguments)}(this)}_assign(e){this!==e&&(xe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new ul(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){xe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){var r=this;return(0,Le.Z)(function*(){let i=!1;e.idToken&&e.idToken!==r.stsTokenManager.accessToken&&(r.stsTokenManager.updateFromServerResponse(e),i=!0),t&&(yield im(r)),yield r.auth._persistUserIfCurrent(r),i&&r.auth._notifyListenersIfCurrent(r)})()}delete(){var e=this;return(0,Le.Z)(function*(){const t=yield e.getIdToken();return yield go(e,function Dw(n,e){return em.apply(this,arguments)}(e.auth,{idToken:t})),e.stsTokenManager.clearRefreshToken(),e.auth.signOut()})()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,a,l,h,p,m,I;const C=null!==(r=t.displayName)&&void 0!==r?r:void 0,S=null!==(i=t.email)&&void 0!==i?i:void 0,N=null!==(a=t.phoneNumber)&&void 0!==a?a:void 0,G=null!==(l=t.photoURL)&&void 0!==l?l:void 0,se=null!==(h=t.tenantId)&&void 0!==h?h:void 0,pe=null!==(p=t._redirectEventId)&&void 0!==p?p:void 0,et=null!==(m=t.createdAt)&&void 0!==m?m:void 0,ht=null!==(I=t.lastLoginAt)&&void 0!==I?I:void 0,{uid:ut,emailVerified:nn,isAnonymous:ln,providerData:yn,stsTokenManager:Ei}=t;xe(ut&&Ei,e,"internal-error");const _l=om.fromJSON(this.name,Ei);xe("string"==typeof ut,e,"internal-error"),al(C,e.name),al(S,e.name),xe("boolean"==typeof nn,e,"internal-error"),xe("boolean"==typeof ln,e,"internal-error"),al(N,e.name),al(G,e.name),al(se,e.name),al(pe,e.name),al(et,e.name),al(ht,e.name);const Jm=new ul({uid:ut,auth:e,email:S,emailVerified:nn,displayName:C,isAnonymous:ln,photoURL:G,phoneNumber:N,tenantId:se,stsTokenManager:_l,createdAt:et,lastLoginAt:ht});return yn&&Array.isArray(yn)&&(Jm.providerData=yn.map(zW=>Object.assign({},zW))),pe&&(Jm._redirectEventId=pe),Jm}static _fromIdTokenResponse(e,t,r=!1){return(0,Le.Z)(function*(){const i=new om;i.updateFromServerResponse(t);const a=new ul({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield im(a),a})()}}const Wh=new Map;function ea(n){$a(n instanceof Function,"Expected a class definition");let e=Wh.get(n);return e?($a(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,Wh.set(n,e),e)}const xw=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return(0,Le.Z)(function*(){return!0})()}_set(t,r){var i=this;return(0,Le.Z)(function*(){i.storage[t]=r})()}_get(t){var r=this;return(0,Le.Z)(function*(){const i=r.storage[t];return void 0===i?null:i})()}_remove(t){var r=this;return(0,Le.Z)(function*(){delete r.storage[t]})()}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})();function mo(n,e,t){return`firebase:${n}:${e}:${t}`}class ll{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=mo(this.userKey,i.apiKey,a),this.fullPersistenceKey=mo("persistence",i.apiKey,a),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){var e=this;return(0,Le.Z)(function*(){const t=yield e.persistence._get(e.fullUserKey);return t?ul._fromJSON(e.auth,t):null})()}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){var t=this;return(0,Le.Z)(function*(){if(t.persistence===e)return;const r=yield t.getCurrentUser();return yield t.removeCurrentUser(),t.persistence=e,r?t.setCurrentUser(r):void 0})()}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return(0,Le.Z)(function*(){if(!t.length)return new ll(ea(xw),e,r);const i=(yield Promise.all(t.map(function(){var m=(0,Le.Z)(function*(I){if(yield I._isAvailable())return I});return function(I){return m.apply(this,arguments)}}()))).filter(m=>m);let a=i[0]||ea(xw);const l=mo(r,e.config.apiKey,e.name);let h=null;for(const m of t)try{const I=yield m._get(l);if(I){const C=ul._fromJSON(e,I);m!==a&&(h=C),a=m;break}}catch{}const p=i.filter(m=>m._shouldAllowMigration);return a._shouldAllowMigration&&p.length?(a=p[0],h&&(yield a._set(l,h.toJSON())),yield Promise.all(t.map(function(){var m=(0,Le.Z)(function*(I){if(I!==a)try{yield I._remove(l)}catch{}});return function(I){return m.apply(this,arguments)}}())),new ll(a,e,r)):new ll(a,e,r)})()}}function am(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(function cm(n=(0,U.z$)()){return/iemobile/i.test(n)}(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(function um(n=(0,U.z$)()){return/firefox\//i.test(n)}(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(function lN(n=(0,U.z$)()){return/blackberry/i.test(n)}(e))return"Blackberry";if(function cN(n=(0,U.z$)()){return/webos/i.test(n)}(e))return"Webos";if(function Nw(n=(0,U.z$)()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}(e))return"Safari";if((e.includes("chrome/")||function lm(n=(0,U.z$)()){return/crios\//i.test(n)}(e))&&!e.includes("edge/"))return"Chrome";if(function qh(n=(0,U.z$)()){return/android/i.test(n)}(e))return"Android";{const r=n.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/);if(2===r?.length)return r[1]}return"Other"}function Pw(n,e=[]){let t;switch(n){case"Browser":t=am((0,U.z$)());break;case"Worker":t=`${am((0,U.z$)())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Fn.SDK_VERSION}/${r}`}function BT(n,e){return kw.apply(this,arguments)}function kw(){return(kw=(0,Le.Z)(function*(n,e){return Vn(n,"GET","/v2/recaptchaConfig",function An(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}(n,e))})).apply(this,arguments)}function hm(n){return void 0!==n&&void 0!==n.enterprise}class pN{constructor(e){if(this.siteKey="",this.emailPasswordEnabled=!1,void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.emailPasswordEnabled=e.recaptchaEnforcementState.some(t=>"EMAIL_PASSWORD_PROVIDER"===t.provider&&"OFF"!==t.enforcementState)}}class GT{constructor(e){this.type="recaptcha-enterprise",this.auth=hr(e)}verify(e="verify",t=!1){var r=this;return(0,Le.Z)(function*(){function a(){return a=(0,Le.Z)(function*(h){if(!t){if(null==h.tenantId&&null!=h._agentRecaptchaConfig)return h._agentRecaptchaConfig.siteKey;if(null!=h.tenantId&&void 0!==h._tenantRecaptchaConfigs[h.tenantId])return h._tenantRecaptchaConfigs[h.tenantId].siteKey}return new Promise(function(){var p=(0,Le.Z)(function*(m,I){BT(h,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(C=>{if(void 0!==C.recaptchaKey){const S=new pN(C);return null==h.tenantId?h._agentRecaptchaConfig=S:h._tenantRecaptchaConfigs[h.tenantId]=S,m(S.siteKey)}I(new Error("recaptcha Enterprise site key undefined"))}).catch(C=>{I(C)})});return function(m,I){return p.apply(this,arguments)}}())}),a.apply(this,arguments)}function l(h,p,m){const I=window.grecaptcha;hm(I)?I.enterprise.ready(()=>{I.enterprise.execute(h,{action:e}).then(C=>{p(C)}).catch(()=>{p("NO_RECAPTCHA")})}):m(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((h,p)=>{(function i(h){return a.apply(this,arguments)})(r.auth).then(m=>{if(!t&&hm(window.grecaptcha))l(m,h,p);else{if(typeof window>"u")return void p(new Error("RecaptchaVerifier is only supported in browser"));(function Kh(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const a=$s("internal-error");a.customData=i,t(a)},r.type="text/javascript",r.charset="UTF-8",function $T(){var n,e;return null!==(e=null===(n=document.getElementsByTagName("head"))||void 0===n?void 0:n[0])&&void 0!==e?e:document}().appendChild(r)})})("https://www.google.com/recaptcha/enterprise.js?render="+m).then(()=>{l(m,h,p)}).catch(I=>{p(I)})}}).catch(m=>{p(m)})})})()}}class mN{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=a=>new Promise((l,h)=>{try{l(e(a))}catch(p){h(p)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){var t=this;return(0,Le.Z)(function*(){if(t.auth.currentUser===e)return;const r=[];try{for(const i of t.queue)yield i(e),i.onAbort&&r.push(i.onAbort)}catch(i){r.reverse();for(const a of r)try{a()}catch{}throw t.auth._errorFactory.create("login-blocked",{originalMessage:i?.message})}})()}}class HT{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new yN(this),this.idTokenSubscription=new yN(this),this.beforeStateQueue=new mN(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=bT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){var r=this;return t&&(this._popupRedirectResolver=ea(t)),this._initializationPromise=this.queue((0,Le.Z)(function*(){var i,a;if(!r._deleted&&(r.persistenceManager=yield ll.create(r,e),!r._deleted)){if(null!==(i=r._popupRedirectResolver)&&void 0!==i&&i._shouldInitProactively)try{yield r._popupRedirectResolver._initialize(r)}catch{}yield r.initializeCurrentUser(t),r.lastNotifiedUid=(null===(a=r.currentUser)||void 0===a?void 0:a.uid)||null,!r._deleted&&(r._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){var e=this;return(0,Le.Z)(function*(){if(e._deleted)return;const t=yield e.assertedPersistence.getCurrentUser();if(e.currentUser||t){if(e.currentUser&&t&&e.currentUser.uid===t.uid)return e._currentUser._assign(t),void(yield e.currentUser.getIdToken());yield e._updateCurrentUser(t,!0)}})()}initializeCurrentUser(e){var t=this;return(0,Le.Z)(function*(){var r;const i=yield t.assertedPersistence.getCurrentUser();let a=i,l=!1;if(e&&t.config.authDomain){yield t.getOrInitRedirectPersistenceManager();const h=null===(r=t.redirectUser)||void 0===r?void 0:r._redirectEventId,p=a?._redirectEventId,m=yield t.tryRedirectSignIn(e);(!h||h===p)&&m?.user&&(a=m.user,l=!0)}if(!a)return t.directlySetCurrentUser(null);if(!a._redirectEventId){if(l)try{yield t.beforeStateQueue.runMiddleware(a)}catch(h){a=i,t._popupRedirectResolver._overrideRedirectResult(t,()=>Promise.reject(h))}return a?t.reloadAndSetCurrentUserOrClear(a):t.directlySetCurrentUser(null)}return xe(t._popupRedirectResolver,t,"argument-error"),yield t.getOrInitRedirectPersistenceManager(),t.redirectUser&&t.redirectUser._redirectEventId===a._redirectEventId?t.directlySetCurrentUser(a):t.reloadAndSetCurrentUserOrClear(a)})()}tryRedirectSignIn(e){var t=this;return(0,Le.Z)(function*(){let r=null;try{r=yield t._popupRedirectResolver._completeRedirectFn(t,e,!0)}catch{yield t._setRedirectUser(null)}return r})()}reloadAndSetCurrentUserOrClear(e){var t=this;return(0,Le.Z)(function*(){try{yield im(e)}catch(r){if("auth/network-request-failed"!==r?.code)return t.directlySetCurrentUser(null)}return t.directlySetCurrentUser(e)})()}useDeviceLanguage(){this.languageCode=function MT(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}()}_delete(){var e=this;return(0,Le.Z)(function*(){e._deleted=!0})()}updateCurrentUser(e){var t=this;return(0,Le.Z)(function*(){const r=e?(0,U.m9)(e):null;return r&&xe(r.auth.config.apiKey===t.config.apiKey,t,"invalid-user-token"),t._updateCurrentUser(r&&r._clone(t))})()}_updateCurrentUser(e,t=!1){var r=this;return(0,Le.Z)(function*(){if(!r._deleted)return e&&xe(r.tenantId===e.tenantId,r,"tenant-id-mismatch"),t||(yield r.beforeStateQueue.runMiddleware(e)),r.queue((0,Le.Z)(function*(){yield r.directlySetCurrentUser(e),r.notifyAuthListeners()}))})()}signOut(){var e=this;return(0,Le.Z)(function*(){return yield e.beforeStateQueue.runMiddleware(null),(e.redirectPersistenceManager||e._popupRedirectResolver)&&(yield e._setRedirectUser(null)),e._updateCurrentUser(null,!0)})()}setPersistence(e){var t=this;return this.queue((0,Le.Z)(function*(){yield t.assertedPersistence.setPersistence(ea(e))}))}initializeRecaptchaConfig(){var e=this;return(0,Le.Z)(function*(){const t=yield BT(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new pN(t);null==e.tenantId?e._agentRecaptchaConfig=r:e._tenantRecaptchaConfigs[e.tenantId]=r,r.emailPasswordEnabled&&new GT(e).verify()})()}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new U.LL("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}_setRedirectUser(e,t){var r=this;return(0,Le.Z)(function*(){const i=yield r.getOrInitRedirectPersistenceManager(t);return null===e?i.removeCurrentUser():i.setCurrentUser(e)})()}getOrInitRedirectPersistenceManager(e){var t=this;return(0,Le.Z)(function*(){if(!t.redirectPersistenceManager){const r=e&&ea(e)||t._popupRedirectResolver;xe(r,t,"argument-error"),t.redirectPersistenceManager=yield ll.create(t,[ea(r._redirectPersistence)],"redirectUser"),t.redirectUser=yield t.redirectPersistenceManager.getCurrentUser()}return t.redirectPersistenceManager})()}_redirectUserForId(e){var t=this;return(0,Le.Z)(function*(){var r,i;return t._isInitialized&&(yield t.queue((0,Le.Z)(function*(){}))),(null===(r=t._currentUser)||void 0===r?void 0:r._redirectEventId)===e?t._currentUser:(null===(i=t.redirectUser)||void 0===i?void 0:i._redirectEventId)===e?t.redirectUser:null})()}_persistUserIfCurrent(e){var t=this;return(0,Le.Z)(function*(){if(e===t.currentUser)return t.queue((0,Le.Z)(function*(){return t.directlySetCurrentUser(e)}))})()}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const a="function"==typeof t?t:t.next.bind(t),l=this._isInitialized?Promise.resolve():this._initializationPromise;return xe(l,this,"internal-error"),l.then(()=>a(this.currentUser)),"function"==typeof t?e.addObserver(t,r,i):e.addObserver(t)}directlySetCurrentUser(e){var t=this;return(0,Le.Z)(function*(){t.currentUser&&t.currentUser!==e&&t._currentUser._stopProactiveRefresh(),e&&t.isProactiveRefreshEnabled&&e._startProactiveRefresh(),t.currentUser=e,e?yield t.assertedPersistence.setCurrentUser(e):yield t.assertedPersistence.removeCurrentUser()})()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return xe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Pw(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){var e=this;return(0,Le.Z)(function*(){var t;const r={"X-Client-Version":e.clientVersion};e.app.options.appId&&(r["X-Firebase-gmpid"]=e.app.options.appId);const i=yield null===(t=e.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getHeartbeatsHeader();i&&(r["X-Firebase-Client"]=i);const a=yield e._getAppCheckToken();return a&&(r["X-Firebase-AppCheck"]=a),r})()}_getAppCheckToken(){var e=this;return(0,Le.Z)(function*(){var t;const r=yield null===(t=e.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===t?void 0:t.getToken();return r?.error&&function iN(n,...e){Kg.logLevel<=fs.in.WARN&&Kg.warn(`Auth (${Fn.SDK_VERSION}): ${n}`,...e)}(`Error while retrieving App Check token: ${r.error}`),r?.token})()}}function hr(n){return(0,U.m9)(n)}class yN{constructor(e){this.auth=e,this.observer=null,this.addObserver=(0,U.ne)(t=>this.observer=t)}get next(){return xe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}(function jT(n){return`__${n}${Math.floor(1e6*Math.random())}`})("rcb"),new ol(3e4,6e4),new ol(2e3,1e4),new ol(3e4,6e4),new ol(5e3,15e3),encodeURIComponent("fac");var bL="@firebase/auth";class uG{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}getToken(e){var t=this;return(0,Le.Z)(function*(){return t.assertAuthConfigured(),yield t.auth._initializationPromise,t.auth.currentUser?{accessToken:yield t.auth.currentUser.getIdToken(e)}:null})()}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){xe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}(0,U.Pz)("authIdTokenMaxAge"),function cG(n){(0,Fn._registerComponent)(new nc.wA("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:h}=r.options;xe(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const p={apiKey:l,authDomain:h,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Pw(n)},m=new HT(r,i,a,p);return function Lw(n,e){const t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(ea);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}(m,t),m},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),(0,Fn._registerComponent)(new nc.wA("auth-internal",e=>{const t=hr(e.getProvider("auth").getImmediate());return new uG(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),(0,Fn.registerVersion)(bL,"0.23.2",function lG(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";default:return}}(n)),(0,Fn.registerVersion)(bL,"0.23.2","esm2017")}("Browser");class xL{constructor(){return(0,Es.vb)("auth")}}const GR=new Map,NL={activated:!1,tokenObservers:[]},yG={initialized:!1,enabled:!1};function nr(n){return GR.get(n)||Object.assign({},NL)}function lb(){return yG}const HR="https://content-firebaseappcheck.googleapis.com/v1",EG="exchangeDebugToken",RL={OFFSET_DURATION:3e5,RETRIAL_MIN_WAIT:3e4,RETRIAL_MAX_WAIT:96e4};class CG{constructor(e,t,r,i,a){if(this.operation=e,this.retryPolicy=t,this.getWaitDuration=r,this.lowerBound=i,this.upperBound=a,this.pending=null,this.nextErrorWaitInterval=i,i>a)throw new Error("Proactive refresh lower bound greater than upper bound!")}start(){this.nextErrorWaitInterval=this.lowerBound,this.process(!0).catch(()=>{})}stop(){this.pending&&(this.pending.reject("cancelled"),this.pending=null)}isRunning(){return!!this.pending}process(e){var t=this;return(0,Le.Z)(function*(){t.stop();try{t.pending=new U.BH,yield function DG(n){return new Promise(e=>{setTimeout(e,n)})}(t.getNextRun(e)),t.pending.resolve(),yield t.pending.promise,t.pending=new U.BH,yield t.operation(),t.pending.resolve(),yield t.pending.promise,t.process(!0).catch(()=>{})}catch(r){t.retryPolicy(r)?t.process(!1).catch(()=>{}):t.stop()}})()}getNextRun(e){if(e)return this.nextErrorWaitInterval=this.lowerBound,this.getWaitDuration();{const t=this.nextErrorWaitInterval;return this.nextErrorWaitInterval*=2,this.nextErrorWaitInterval>this.upperBound&&(this.nextErrorWaitInterval=this.upperBound),t}}}const mi=new U.LL("appCheck","AppCheck",{"already-initialized":"You have already called initializeAppCheck() for FirebaseApp {$appName} with different options. To avoid this error, call initializeAppCheck() with the same options as when it was originally called. This will return the already initialized instance.","use-before-activation":"App Check is being used before initializeAppCheck() is called for FirebaseApp {$appName}. Call initializeAppCheck() before instantiating other Firebase services.","fetch-network-error":"Fetch failed to connect to a network. Check Internet connection. Original error: {$originalErrorMessage}.","fetch-parse-error":"Fetch client could not parse response. Original error: {$originalErrorMessage}.","fetch-status-error":"Fetch server returned an HTTP error status. HTTP status: {$httpStatus}.","storage-open":"Error thrown when opening storage. Original error: {$originalErrorMessage}.","storage-get":"Error thrown when reading from storage. Original error: {$originalErrorMessage}.","storage-set":"Error thrown when writing to storage. Original error: {$originalErrorMessage}.","recaptcha-error":"ReCAPTCHA error.",throttled:"Requests throttled due to {$httpStatus} error. Attempts allowed again after {$time}"});function zR(n){if(!nr(n).activated)throw mi.create("use-before-activation",{appName:n.name})}function hb(n,e){return qR.apply(this,arguments)}function qR(){return(qR=(0,Le.Z)(function*({url:n,body:e},t){const r={"Content-Type":"application/json"},i=t.getImmediate({optional:!0});if(i){const C=yield i.getHeartbeatsHeader();C&&(r["X-Firebase-Client"]=C)}const a={method:"POST",body:JSON.stringify(e),headers:r};let l,h;try{l=yield fetch(n,a)}catch(C){throw mi.create("fetch-network-error",{originalErrorMessage:C?.message})}if(200!==l.status)throw mi.create("fetch-status-error",{httpStatus:l.status});try{h=yield l.json()}catch(C){throw mi.create("fetch-parse-error",{originalErrorMessage:C?.message})}const p=h.ttl.match(/^([\d.]+)(s)$/);if(!p||!p[2]||isNaN(Number(p[1])))throw mi.create("fetch-parse-error",{originalErrorMessage:`ttl field (timeToLive) is not in standard Protobuf Duration format: ${h.ttl}`});const m=1e3*Number(p[1]),I=Date.now();return{token:h.token,expireTimeMillis:I+m,issuedAtTimeMillis:I}})).apply(this,arguments)}function PL(n,e){const{projectId:t,appId:r,apiKey:i}=n.options;return{url:`${HR}/projects/${t}/apps/${r}:${EG}?key=${i}`,body:{debug_token:e}}}const AG="firebase-app-check-database",MG=1,Yw="firebase-app-check-store";let fb=null;function KR(){return(KR=(0,Le.Z)(function*(n,e){const r=(yield function OL(){return fb||(fb=new Promise((n,e)=>{try{const t=indexedDB.open(AG,MG);t.onsuccess=r=>{n(r.target.result)},t.onerror=r=>{var i;e(mi.create("storage-open",{originalErrorMessage:null===(i=r.target.error)||void 0===i?void 0:i.message}))},t.onupgradeneeded=r=>{0===r.oldVersion&&r.target.result.createObjectStore(Yw,{keyPath:"compositeKey"})}}catch(t){e(mi.create("storage-open",{originalErrorMessage:t?.message}))}}),fb)}()).transaction(Yw,"readwrite"),a=r.objectStore(Yw).put({compositeKey:n,value:e});return new Promise((l,h)=>{a.onsuccess=p=>{l()},r.onerror=p=>{var m;h(mi.create("storage-set",{originalErrorMessage:null===(m=p.target.error)||void 0===m?void 0:m.message}))}})})).apply(this,arguments)}const Qw=new fs.Yd("@firebase/app-check");function ZR(n,e){return(0,U.hl)()?function NG(n,e){return function FL(n,e){return KR.apply(this,arguments)}(function VL(n){return`${n.options.appId}-${n.name}`}(n),e)}(n,e).catch(t=>{Qw.warn(`Failed to write token to IndexedDB. Error: ${t}`)}):Promise.resolve()}function JR(){return lb().enabled}function eP(){return tP.apply(this,arguments)}function tP(){return(tP=(0,Le.Z)(function*(){const n=lb();if(n.enabled&&n.token)return n.token.promise;throw Error("\n            Can't get debug token in production mode.\n        ")})).apply(this,arguments)}const LG={error:"UNKNOWN_ERROR"};function VG(n){return U.US.encodeString(JSON.stringify(n),!1)}function pb(n){return nP.apply(this,arguments)}function nP(){return(nP=(0,Le.Z)(function*(n,e=!1){const t=n.app;zR(t);const r=nr(t);let a,i=r.token;if(i&&!ym(i)&&(r.token=void 0,i=void 0),!i){const p=yield r.cachedTokenPromise;p&&(ym(p)?i=p:yield ZR(t,void 0))}if(!e&&i&&ym(i))return{token:i.token};let h,l=!1;if(JR()){r.exchangeTokenPromise||(r.exchangeTokenPromise=hb(PL(t,yield eP()),n.heartbeatServiceProvider).finally(()=>{r.exchangeTokenPromise=void 0}),l=!0);const p=yield r.exchangeTokenPromise;return yield ZR(t,p),r.token=p,{token:p.token}}try{r.exchangeTokenPromise||(r.exchangeTokenPromise=r.provider.getToken().finally(()=>{r.exchangeTokenPromise=void 0}),l=!0),i=yield nr(t).exchangeTokenPromise}catch(p){"appCheck/throttled"===p.code?Qw.warn(p.message):Qw.error(p),a=p}return i?a?h=ym(i)?{token:i.token,internalError:a}:jL(a):(h={token:i.token},r.token=i,yield ZR(t,i)):h=jL(a),l&&function $L(n,e){const t=nr(n).tokenObservers;for(const r of t)try{"EXTERNAL"===r.type&&null!=e.error?r.error(e.error):r.next(e)}catch{}}(t,h),h})).apply(this,arguments)}function UL(n){return rP.apply(this,arguments)}function rP(){return(rP=(0,Le.Z)(function*(n){const e=n.app;zR(e);const{provider:t}=nr(e);if(JR()){const r=yield eP(),{token:i}=yield hb(PL(e,r),n.heartbeatServiceProvider);return{token:i}}{const{token:r}=yield t.getToken();return{token:r}}})).apply(this,arguments)}function sP(n,e){const t=nr(n),r=t.tokenObservers.filter(i=>i.next!==e);0===r.length&&t.tokenRefresher&&t.tokenRefresher.isRunning()&&t.tokenRefresher.stop(),t.tokenObservers=r}function BL(n){const{app:e}=n,t=nr(e);let r=t.tokenRefresher;r||(r=function UG(n){const{app:e}=n;return new CG((0,Le.Z)(function*(){let r;if(r=nr(e).token?yield pb(n,!0):yield pb(n),r.error)throw r.error;if(r.internalError)throw r.internalError}),()=>!0,()=>{const t=nr(e);if(t.token){let r=t.token.issuedAtTimeMillis+.5*(t.token.expireTimeMillis-t.token.issuedAtTimeMillis)+3e5;return r=Math.min(r,t.token.expireTimeMillis-3e5),Math.max(0,r-Date.now())}return 0},RL.RETRIAL_MIN_WAIT,RL.RETRIAL_MAX_WAIT)}(n),t.tokenRefresher=r),!r.isRunning()&&t.isTokenAutoRefreshEnabled&&r.start()}function ym(n){return n.expireTimeMillis-Date.now()>0}function jL(n){return{token:VG(LG),error:n}}class BG{constructor(e,t){this.app=e,this.heartbeatServiceProvider=t}_delete(){const{tokenObservers:e}=nr(this.app);for(const t of e)sP(this.app,t.next);return Promise.resolve()}}const QL="app-check-internal";!function eH(){(0,Fn._registerComponent)(new nc.wA("app-check",n=>function $G(n,e){return new BG(n,e)}(n.getProvider("app").getImmediate(),n.getProvider("heartbeat")),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((n,e,t)=>{n.getProvider(QL).initialize()})),(0,Fn._registerComponent)(new nc.wA(QL,n=>function jG(n){return{getToken:e=>pb(n,e),getLimitedUseToken:()=>UL(n),addTokenListener:e=>function iP(n,e,t,r){const{app:i}=n,a=nr(i);if(a.tokenObservers=[...a.tokenObservers,{next:t,error:r,type:e}],a.token&&ym(a.token)){const h=a.token;Promise.resolve().then(()=>{t({token:h.token}),BL(n)}).catch(()=>{})}a.cachedTokenPromise.then(()=>BL(n))}(n,"INTERNAL",e),removeTokenListener:e=>sP(n.app,e)}}(n.getProvider("app-check").getImmediate()),"PUBLIC").setInstantiationMode("EXPLICIT")),(0,Fn.registerVersion)("@firebase/app-check","0.8.0")}();class XL{constructor(){return(0,Es.vb)("app-check")}}typeof window<"u"&&window;var Ue,sH=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ta={},cP=cP||{},At=sH||self;function mb(n){var e=typeof n;return"array"==(e="object"!=e?e:n?Array.isArray(n)?"array":e:"null")||"object"==e&&"number"==typeof n.length}function Zw(n){var e=typeof n;return"object"==e&&null!=n||"function"==e}var dP="closure_uid_"+(1e9*Math.random()>>>0),aH=0;function uH(n,e,t){return n.call.apply(n.bind,arguments)}function lH(n,e,t){if(!n)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var i=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(i,r),n.apply(e,i)}}return function(){return n.apply(e,arguments)}}function Fi(n,e,t){return(Fi=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?uH:lH).apply(null,arguments)}function yb(n,e){var t=Array.prototype.slice.call(arguments,1);return function(){var r=t.slice();return r.push.apply(r,arguments),n.apply(this,r)}}function ei(n,e){function t(){}t.prototype=e.prototype,n.$=e.prototype,n.prototype=new t,n.prototype.constructor=n,n.ac=function(r,i,a){for(var l=Array(arguments.length-2),h=2;h<arguments.length;h++)l[h-2]=arguments[h];return e.prototype[i].apply(r,l)}}function Vc(){this.s=this.s,this.o=this.o}Vc.prototype.s=!1,Vc.prototype.sa=function(){!this.s&&(this.s=!0,this.N(),0)&&function oH(n){Object.prototype.hasOwnProperty.call(n,dP)&&n[dP]||(n[dP]=++aH)}(this)},Vc.prototype.N=function(){if(this.o)for(;this.o.length;)this.o.shift()()};const JL=Array.prototype.indexOf?function(n,e){return Array.prototype.indexOf.call(n,e,void 0)}:function(n,e){if("string"==typeof n)return"string"!=typeof e||1!=e.length?-1:n.indexOf(e,0);for(let t=0;t<n.length;t++)if(t in n&&n[t]===e)return t;return-1};function hP(n){const e=n.length;if(0<e){const t=Array(e);for(let r=0;r<e;r++)t[r]=n[r];return t}return[]}function eV(n,e){for(let t=1;t<arguments.length;t++){const r=arguments[t];if(mb(r)){const i=n.length||0,a=r.length||0;n.length=i+a;for(let l=0;l<a;l++)n[i+l]=r[l]}else n.push(r)}}function Li(n,e){this.type=n,this.g=this.target=e,this.defaultPrevented=!1}Li.prototype.h=function(){this.defaultPrevented=!0};var dH=function(){if(!At.addEventListener||!Object.defineProperty)return!1;var n=!1,e=Object.defineProperty({},"passive",{get:function(){n=!0}});try{At.addEventListener("test",()=>{},e),At.removeEventListener("test",()=>{},e)}catch{}return n}();function Xw(n){return/^[\s\xa0]*$/.test(n)}function _b(){var n=At.navigator;return n&&(n=n.userAgent)?n:""}function za(n){return-1!=_b().indexOf(n)}function fP(n){return fP[" "](n),n}fP[" "]=function(){};var gP,n,fH=za("Opera"),_m=za("Trident")||za("MSIE"),tV=za("Edge"),pP=tV||_m,nV=za("Gecko")&&!(-1!=_b().toLowerCase().indexOf("webkit")&&!za("Edge"))&&!(za("Trident")||za("MSIE"))&&!za("Edge"),pH=-1!=_b().toLowerCase().indexOf("webkit")&&!za("Edge");function rV(){var n=At.document;return n?n.documentMode:void 0}e:{var mP="",yP=(n=_b(),nV?/rv:([^\);]+)(\)|;)/.exec(n):tV?/Edge\/([\d\.]+)/.exec(n):_m?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(n):pH?/WebKit\/(\S+)/.exec(n):fH?/(?:Version)[ \/]?(\S+)/.exec(n):void 0);if(yP&&(mP=yP?yP[1]:""),_m){var _P=rV();if(null!=_P&&_P>parseFloat(mP)){gP=String(_P);break e}}gP=mP}var gH=At.document&&_m&&(rV()||parseInt(gP,10))||void 0;function Jw(n,e){if(Li.call(this,n?n.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,n){var t=this.type=n.type,r=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:null;if(this.target=n.target||n.srcElement,this.g=e,e=n.relatedTarget){if(nV){e:{try{fP(e.nodeName);var i=!0;break e}catch{}i=!1}i||(e=null)}}else"mouseover"==t?e=n.fromElement:"mouseout"==t&&(e=n.toElement);this.relatedTarget=e,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==n.clientX?n.clientX:n.pageX,this.clientY=void 0!==n.clientY?n.clientY:n.pageY,this.screenX=n.screenX||0,this.screenY=n.screenY||0),this.button=n.button,this.key=n.key||"",this.ctrlKey=n.ctrlKey,this.altKey=n.altKey,this.shiftKey=n.shiftKey,this.metaKey=n.metaKey,this.pointerId=n.pointerId||0,this.pointerType="string"==typeof n.pointerType?n.pointerType:mH[n.pointerType]||"",this.state=n.state,this.i=n,n.defaultPrevented&&Jw.$.h.call(this)}}ei(Jw,Li);var mH={2:"touch",3:"pen",4:"mouse"};Jw.prototype.h=function(){Jw.$.h.call(this);var n=this.i;n.preventDefault?n.preventDefault():n.returnValue=!1};var eE="closure_listenable_"+(1e6*Math.random()|0),yH=0;function _H(n,e,t,r,i){this.listener=n,this.proxy=null,this.src=e,this.type=t,this.capture=!!r,this.la=i,this.key=++yH,this.fa=this.ia=!1}function vb(n){n.fa=!0,n.listener=null,n.proxy=null,n.src=null,n.la=null}function wP(n,e,t){for(const r in n)e.call(t,n[r],r,n)}function sV(n){const e={};for(const t in n)e[t]=n[t];return e}const oV="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function aV(n,e){let t,r;for(let i=1;i<arguments.length;i++){for(t in r=arguments[i],r)n[t]=r[t];for(let a=0;a<oV.length;a++)t=oV[a],Object.prototype.hasOwnProperty.call(r,t)&&(n[t]=r[t])}}function wb(n){this.src=n,this.g={},this.h=0}function EP(n,e){var t=e.type;if(t in n.g){var a,r=n.g[t],i=JL(r,e);(a=0<=i)&&Array.prototype.splice.call(r,i,1),a&&(vb(e),0==n.g[t].length&&(delete n.g[t],n.h--))}}function IP(n,e,t,r){for(var i=0;i<n.length;++i){var a=n[i];if(!a.fa&&a.listener==e&&a.capture==!!t&&a.la==r)return i}return-1}wb.prototype.add=function(n,e,t,r,i){var a=n.toString();(n=this.g[a])||(n=this.g[a]=[],this.h++);var l=IP(n,e,r,i);return-1<l?(e=n[l],t||(e.ia=!1)):((e=new _H(e,this.src,a,!!r,i)).ia=t,n.push(e)),e};var CP="closure_lm_"+(1e6*Math.random()|0),DP={};function uV(n,e,t,r,i){if(r&&r.once)return cV(n,e,t,r,i);if(Array.isArray(e)){for(var a=0;a<e.length;a++)uV(n,e[a],t,r,i);return null}return t=AP(t),n&&n[eE]?n.O(e,t,Zw(r)?!!r.capture:!!r,i):lV(n,e,t,!1,r,i)}function lV(n,e,t,r,i,a){if(!e)throw Error("Invalid event type");var l=Zw(i)?!!i.capture:!!i,h=bP(n);if(h||(n[CP]=h=new wb(n)),(t=h.add(e,t,r,l,a)).proxy)return t;if(r=function wH(){const e=EH;return function n(t){return e.call(n.src,n.listener,t)}}(),t.proxy=r,r.src=n,r.listener=t,n.addEventListener)dH||(i=l),void 0===i&&(i=!1),n.addEventListener(e.toString(),r,i);else if(n.attachEvent)n.attachEvent(hV(e.toString()),r);else{if(!n.addListener||!n.removeListener)throw Error("addEventListener and attachEvent are unavailable.");n.addListener(r)}return t}function cV(n,e,t,r,i){if(Array.isArray(e)){for(var a=0;a<e.length;a++)cV(n,e[a],t,r,i);return null}return t=AP(t),n&&n[eE]?n.P(e,t,Zw(r)?!!r.capture:!!r,i):lV(n,e,t,!0,r,i)}function dV(n,e,t,r,i){if(Array.isArray(e))for(var a=0;a<e.length;a++)dV(n,e[a],t,r,i);else r=Zw(r)?!!r.capture:!!r,t=AP(t),n&&n[eE]?(n=n.i,(e=String(e).toString())in n.g&&-1<(t=IP(a=n.g[e],t,r,i))&&(vb(a[t]),Array.prototype.splice.call(a,t,1),0==a.length&&(delete n.g[e],n.h--))):n&&(n=bP(n))&&(e=n.g[e.toString()],n=-1,e&&(n=IP(e,t,r,i)),(t=-1<n?e[n]:null)&&TP(t))}function TP(n){if("number"!=typeof n&&n&&!n.fa){var e=n.src;if(e&&e[eE])EP(e.i,n);else{var t=n.type,r=n.proxy;e.removeEventListener?e.removeEventListener(t,r,n.capture):e.detachEvent?e.detachEvent(hV(t),r):e.addListener&&e.removeListener&&e.removeListener(r),(t=bP(e))?(EP(t,n),0==t.h&&(t.src=null,e[CP]=null)):vb(n)}}}function hV(n){return n in DP?DP[n]:DP[n]="on"+n}function EH(n,e){if(n.fa)n=!0;else{e=new Jw(e,this);var t=n.listener,r=n.la||n.src;n.ia&&TP(n),n=t.call(r,e)}return n}function bP(n){return(n=n[CP])instanceof wb?n:null}var SP="__closure_events_fn_"+(1e9*Math.random()>>>0);function AP(n){return"function"==typeof n?n:(n[SP]||(n[SP]=function(e){return n.handleEvent(e)}),n[SP])}function ti(){Vc.call(this),this.i=new wb(this),this.S=this,this.J=null}function yi(n,e){var t,r=n.J;if(r)for(t=[];r;r=r.J)t.push(r);if(n=n.S,r=e.type||e,"string"==typeof e)e=new Li(e,n);else if(e instanceof Li)e.target=e.target||n;else{var i=e;aV(e=new Li(r,n),i)}if(i=!0,t)for(var a=t.length-1;0<=a;a--){var l=e.g=t[a];i=Eb(l,r,!0,e)&&i}if(i=Eb(l=e.g=n,r,!0,e)&&i,i=Eb(l,r,!1,e)&&i,t)for(a=0;a<t.length;a++)i=Eb(l=e.g=t[a],r,!1,e)&&i}function Eb(n,e,t,r){if(!(e=n.i.g[String(e)]))return!0;e=e.concat();for(var i=!0,a=0;a<e.length;++a){var l=e[a];if(l&&!l.fa&&l.capture==t){var h=l.listener,p=l.la||l.src;l.ia&&EP(n.i,l),i=!1!==h.call(p,r)&&i}}return i&&!r.defaultPrevented}ei(ti,Vc),ti.prototype[eE]=!0,ti.prototype.removeEventListener=function(n,e,t,r){dV(this,n,e,t,r)},ti.prototype.N=function(){if(ti.$.N.call(this),this.i){var e,n=this.i;for(e in n.g){for(var t=n.g[e],r=0;r<t.length;r++)vb(t[r]);delete n.g[e],n.h--}}this.J=null},ti.prototype.O=function(n,e,t,r){return this.i.add(String(n),e,!1,t,r)},ti.prototype.P=function(n,e,t,r){return this.i.add(String(n),e,!0,t,r)};var MP=At.JSON.stringify;function CH(){var n=xP;let e=null;return n.g&&(e=n.g,n.g=n.g.next,n.g||(n.h=null),e.next=null),e}var fV=new class IH{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}(()=>new TH,n=>n.reset());class TH{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}function bH(n){var e=1;n=n.split(":");const t=[];for(;0<e&&n.length;)t.push(n.shift()),e--;return n.length&&t.push(n.join(":")),t}function SH(n){At.setTimeout(()=>{throw n},0)}let tE,nE=!1,xP=new class DH{constructor(){this.h=this.g=null}add(e,t){const r=fV.get();r.set(e,t),this.h?this.h.next=r:this.g=r,this.h=r}},pV=()=>{const n=At.Promise.resolve(void 0);tE=()=>{n.then(AH)}};var AH=()=>{for(var n;n=CH();){try{n.h.call(n.g)}catch(t){SH(t)}var e=fV;e.j(n),100>e.h&&(e.h++,n.next=e.g,e.g=n)}nE=!1};function Ib(n,e){ti.call(this),this.h=n||1,this.g=e||At,this.j=Fi(this.qb,this),this.l=Date.now()}function NP(n){n.ga=!1,n.T&&(n.g.clearTimeout(n.T),n.T=null)}function RP(n,e,t){if("function"==typeof n)t&&(n=Fi(n,t));else{if(!n||"function"!=typeof n.handleEvent)throw Error("Invalid listener argument");n=Fi(n.handleEvent,n)}return 2147483647<Number(e)?-1:At.setTimeout(n,e||0)}function gV(n){n.g=RP(()=>{n.g=null,n.i&&(n.i=!1,gV(n))},n.j);const e=n.h;n.h=null,n.m.apply(null,e)}ei(Ib,ti),(Ue=Ib.prototype).ga=!1,Ue.T=null,Ue.qb=function(){if(this.ga){var n=Date.now()-this.l;0<n&&n<.8*this.h?this.T=this.g.setTimeout(this.j,this.h-n):(this.T&&(this.g.clearTimeout(this.T),this.T=null),yi(this,"tick"),this.ga&&(NP(this),this.start()))}},Ue.start=function(){this.ga=!0,this.T||(this.T=this.g.setTimeout(this.j,this.h),this.l=Date.now())},Ue.N=function(){Ib.$.N.call(this),NP(this),delete this.g};class MH extends Vc{constructor(e,t){super(),this.m=e,this.j=t,this.h=null,this.i=!1,this.g=null}l(e){this.h=arguments,this.g?this.i=!0:gV(this)}N(){super.N(),this.g&&(At.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function rE(n){Vc.call(this),this.h=n,this.g={}}ei(rE,Vc);var mV=[];function yV(n,e,t,r){Array.isArray(t)||(t&&(mV[0]=t.toString()),t=mV);for(var i=0;i<t.length;i++){var a=uV(e,t[i],r||n.handleEvent,!1,n.h||n);if(!a)break;n.g[a.key]=a}}function _V(n){wP(n.g,function(e,t){this.g.hasOwnProperty(t)&&TP(e)},n),n.g={}}function Cb(){this.g=!0}function vm(n,e,t,r){n.info(function(){return"XMLHTTP TEXT ("+e+"): "+function PH(n,e){if(!n.g)return e;if(!e)return null;try{var t=JSON.parse(e);if(t)for(n=0;n<t.length;n++)if(Array.isArray(t[n])){var r=t[n];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var a=i[0];if("noop"!=a&&"stop"!=a&&"close"!=a)for(var l=1;l<i.length;l++)i[l]=""}}}return MP(t)}catch{return e}}(n,t)+(r?" "+r:"")})}rE.prototype.N=function(){rE.$.N.call(this),_V(this)},rE.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")},Cb.prototype.Ea=function(){this.g=!1},Cb.prototype.info=function(){};var Zh={},vV=null;function Db(){return vV=vV||new ti}function wV(n){Li.call(this,Zh.Ta,n)}function iE(n){const e=Db();yi(e,new wV(e))}function EV(n,e){Li.call(this,Zh.STAT_EVENT,n),this.stat=e}function Xi(n){const e=Db();yi(e,new EV(e,n))}function IV(n,e){Li.call(this,Zh.Ua,n),this.size=e}function sE(n,e){if("function"!=typeof n)throw Error("Fn must not be null and must be a function");return At.setTimeout(function(){n()},e)}Zh.Ta="serverreachability",ei(wV,Li),Zh.STAT_EVENT="statevent",ei(EV,Li),Zh.Ua="timingevent",ei(IV,Li);var Tb={NO_ERROR:0,rb:1,Eb:2,Db:3,yb:4,Cb:5,Fb:6,Qa:7,TIMEOUT:8,Ib:9},CV={wb:"complete",Sb:"success",Ra:"error",Qa:"abort",Kb:"ready",Lb:"readystatechange",TIMEOUT:"timeout",Gb:"incrementaldata",Jb:"progress",zb:"downloadprogress",$b:"uploadprogress"};function PP(){}function TV(){}PP.prototype.h=null;var FP,oE={OPEN:"a",vb:"b",Ra:"c",Hb:"d"};function kP(){Li.call(this,"d")}function OP(){Li.call(this,"c")}function bb(){}function aE(n,e,t,r){this.l=n,this.j=e,this.m=t,this.W=r||1,this.U=new rE(this),this.P=kH,this.V=new Ib(n=pP?125:void 0),this.I=null,this.i=!1,this.s=this.A=this.v=this.L=this.G=this.Y=this.B=null,this.F=[],this.g=null,this.C=0,this.o=this.u=null,this.ca=-1,this.J=!1,this.O=0,this.M=null,this.ba=this.K=this.aa=this.S=!1,this.h=new bV}function bV(){this.i=null,this.g="",this.h=!1}ei(kP,Li),ei(OP,Li),ei(bb,PP),bb.prototype.g=function(){return new XMLHttpRequest},bb.prototype.i=function(){return{}},FP=new bb;var kH=45e3,LP={},Sb={};function VP(n,e,t){n.L=1,n.v=Nb(cl(e)),n.s=t,n.S=!0,SV(n,null)}function SV(n,e){n.G=Date.now(),uE(n),n.A=cl(n.v);var t=n.A,r=n.W;Array.isArray(r)||(r=[String(r)]),LV(t.i,"t",r),n.C=0,t=n.l.J,n.h=new bV,n.g=a2(n.l,t?e:null,!n.s),0<n.O&&(n.M=new MH(Fi(n.Pa,n,n.g),n.O)),yV(n.U,n.g,"readystatechange",n.nb),e=n.I?sV(n.I):{},n.s?(n.u||(n.u="POST"),e["Content-Type"]="application/x-www-form-urlencoded",n.g.ha(n.A,n.u,n.s,e)):(n.u="GET",n.g.ha(n.A,n.u,null,e)),iE(),function xH(n,e,t,r,i,a){n.info(function(){if(n.g)if(a)for(var l="",h=a.split("&"),p=0;p<h.length;p++){var m=h[p].split("=");if(1<m.length){var I=m[0];m=m[1];var C=I.split("_");l=2<=C.length&&"type"==C[1]?l+(I+"=")+m+"&":l+(I+"=redacted&")}}else l=null;else l=a;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+e+"\n"+t+"\n"+l})}(n.j,n.u,n.A,n.m,n.W,n.s)}function AV(n){return!!n.g&&"GET"==n.u&&2!=n.L&&n.l.Ha}function MV(n,e,t){let i,r=!0;for(;!n.J&&n.C<t.length;){if(i=OH(n,t),i==Sb){4==e&&(n.o=4,Xi(14),r=!1),vm(n.j,n.m,null,"[Incomplete Response]");break}if(i==LP){n.o=4,Xi(15),vm(n.j,n.m,t,"[Invalid Chunk]"),r=!1;break}vm(n.j,n.m,i,null),UP(n,i)}AV(n)&&i!=Sb&&i!=LP&&(n.h.g="",n.C=0),4!=e||0!=t.length||n.h.h||(n.o=1,Xi(16),r=!1),n.i=n.i&&r,r?0<t.length&&!n.ba&&(n.ba=!0,(e=n.l).g==n&&e.ca&&!e.M&&(e.l.info("Great, no buffering proxy detected. Bytes received: "+t.length),WP(e),e.M=!0,Xi(11))):(vm(n.j,n.m,t,"[Invalid Chunked Response]"),Xh(n),lE(n))}function OH(n,e){var t=n.C,r=e.indexOf("\n",t);return-1==r?Sb:(t=Number(e.substring(t,r)),isNaN(t)?LP:(r+=1)+t>e.length?Sb:(e=e.slice(r,r+t),n.C=r+t,e))}function uE(n){n.Y=Date.now()+n.P,xV(n,n.P)}function xV(n,e){if(null!=n.B)throw Error("WatchDog timer not null");n.B=sE(Fi(n.lb,n),e)}function Ab(n){n.B&&(At.clearTimeout(n.B),n.B=null)}function lE(n){0==n.l.H||n.J||r2(n.l,n)}function Xh(n){Ab(n);var e=n.M;e&&"function"==typeof e.sa&&e.sa(),n.M=null,NP(n.V),_V(n.U),n.g&&(e=n.g,n.g=null,e.abort(),e.sa())}function UP(n,e){try{var t=n.l;if(0!=t.H&&(t.g==n||BP(t.i,n)))if(!n.K&&BP(t.i,n)&&3==t.H){try{var r=t.Ja.g.parse(e)}catch{r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!t.u){if(t.g){if(!(t.g.G+3e3<n.G))break e;Lb(t),Ob(t)}zP(t),Xi(18)}}else t.Fa=i[1],0<t.Fa-t.V&&37500>i[2]&&t.G&&0==t.A&&!t.v&&(t.v=sE(Fi(t.ib,t),6e3));if(1>=BV(t.i)&&t.oa){try{t.oa()}catch{}t.oa=void 0}}else ef(t,11)}else if((n.K||t.g==n)&&Lb(t),!Xw(e))for(i=t.Ja.g.parse(e),e=0;e<i.length;e++){let m=i[e];if(t.V=m[0],m=m[1],2==t.H)if("c"==m[0]){t.K=m[1],t.pa=m[2];const I=m[3];null!=I&&(t.ra=I,t.l.info("VER="+t.ra));const C=m[4];null!=C&&(t.Ga=C,t.l.info("SVER="+t.Ga));const S=m[5];null!=S&&"number"==typeof S&&0<S&&(t.L=r=1.5*S,t.l.info("backChannelRequestTimeoutMs_="+r)),r=t;const N=n.g;if(N){const G=N.g?N.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(G){var a=r.i;a.g||-1==G.indexOf("spdy")&&-1==G.indexOf("quic")&&-1==G.indexOf("h2")||(a.j=a.l,a.g=new Set,a.h&&($P(a,a.h),a.h=null))}if(r.F){const se=N.g?N.g.getResponseHeader("X-HTTP-Session-Id"):null;se&&(r.Da=se,Mn(r.I,r.F,se))}}t.H=3,t.h&&t.h.Ba(),t.ca&&(t.S=Date.now()-n.G,t.l.info("Handshake RTT: "+t.S+"ms"));var l=n;if((r=t).wa=o2(r,r.J?r.pa:null,r.Y),l.K){$V(r.i,l);var h=l,p=r.L;p&&h.setTimeout(p),h.B&&(Ab(h),uE(h)),r.g=l}else t2(r);0<t.j.length&&Fb(t)}else"stop"!=m[0]&&"close"!=m[0]||ef(t,7);else 3==t.H&&("stop"==m[0]||"close"==m[0]?"stop"==m[0]?ef(t,7):HP(t):"noop"!=m[0]&&t.h&&t.h.Aa(m),t.A=0)}iE()}catch{}}function NV(n,e){if(n.forEach&&"function"==typeof n.forEach)n.forEach(e,void 0);else if(mb(n)||"string"==typeof n)Array.prototype.forEach.call(n,e,void 0);else for(var t=function LH(n){if(n.ta&&"function"==typeof n.ta)return n.ta();if(!n.Z||"function"!=typeof n.Z){if(typeof Map<"u"&&n instanceof Map)return Array.from(n.keys());if(!(typeof Set<"u"&&n instanceof Set)){if(mb(n)||"string"==typeof n){var e=[];n=n.length;for(var t=0;t<n;t++)e.push(t);return e}e=[],t=0;for(const r in n)e[t++]=r;return e}}}(n),r=function FH(n){if(n.Z&&"function"==typeof n.Z)return n.Z();if(typeof Map<"u"&&n instanceof Map||typeof Set<"u"&&n instanceof Set)return Array.from(n.values());if("string"==typeof n)return n.split("");if(mb(n)){for(var e=[],t=n.length,r=0;r<t;r++)e.push(n[r]);return e}for(r in e=[],t=0,n)e[t++]=n[r];return e}(n),i=r.length,a=0;a<i;a++)e.call(void 0,r[a],t&&t[a],n)}(Ue=aE.prototype).setTimeout=function(n){this.P=n},Ue.nb=function(n){n=n.target;const e=this.M;e&&3==Wa(n)?e.l():this.Pa(n)},Ue.Pa=function(n){try{if(n==this.g)e:{const I=Wa(this.g);var e=this.g.Ia();if(this.g.da(),!(3>I)&&(3!=I||pP||this.g&&(this.h.h||this.g.ja()||YV(this.g)))){this.J||4!=I||7==e||iE(),Ab(this);var t=this.g.da();this.ca=t;t:if(AV(this)){var r=YV(this.g);n="";var i=r.length,a=4==Wa(this.g);if(!this.h.i){if(typeof TextDecoder>"u"){Xh(this),lE(this);var l="";break t}this.h.i=new At.TextDecoder}for(e=0;e<i;e++)this.h.h=!0,n+=this.h.i.decode(r[e],{stream:a&&e==i-1});r.splice(0,i),this.h.g+=n,this.C=0,l=this.h.g}else l=this.g.ja();if(this.i=200==t,function NH(n,e,t,r,i,a,l){n.info(function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+e+"\n"+t+"\n"+a+" "+l})}(this.j,this.u,this.A,this.m,this.W,I,t),this.i){if(this.aa&&!this.K){t:{if(this.g){var h,p=this.g;if((h=p.g?p.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Xw(h)){var m=h;break t}}m=null}if(!(t=m)){this.i=!1,this.o=3,Xi(12),Xh(this),lE(this);break e}vm(this.j,this.m,t,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,UP(this,t)}this.S?(MV(this,I,l),pP&&this.i&&3==I&&(yV(this.U,this.V,"tick",this.mb),this.V.start())):(vm(this.j,this.m,l,null),UP(this,l)),4==I&&Xh(this),this.i&&!this.J&&(4==I?r2(this.l,this):(this.i=!1,uE(this)))}else(function tz(n){const e={};n=(n.g&&2<=Wa(n)&&n.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<n.length;r++){if(Xw(n[r]))continue;var t=bH(n[r]);const i=t[0];if("string"!=typeof(t=t[1]))continue;t=t.trim();const a=e[i]||[];e[i]=a,a.push(t)}!function vH(n,e){for(const t in n)e.call(void 0,n[t],t,n)}(e,function(r){return r.join(", ")})})(this.g),400==t&&0<l.indexOf("Unknown SID")?(this.o=3,Xi(12)):(this.o=0,Xi(13)),Xh(this),lE(this)}}}catch{}},Ue.mb=function(){if(this.g){var n=Wa(this.g),e=this.g.ja();this.C<e.length&&(Ab(this),MV(this,n,e),this.i&&4!=n&&uE(this))}},Ue.cancel=function(){this.J=!0,Xh(this)},Ue.lb=function(){this.B=null;const n=Date.now();0<=n-this.Y?(function RH(n,e){n.info(function(){return"TIMEOUT: "+e})}(this.j,this.A),2!=this.L&&(iE(),Xi(17)),Xh(this),this.o=2,lE(this)):xV(this,this.Y-n)};var RV=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Jh(n){if(this.g=this.s=this.j="",this.m=null,this.o=this.l="",this.h=!1,n instanceof Jh){this.h=n.h,Mb(this,n.j),this.s=n.s,this.g=n.g,xb(this,n.m),this.l=n.l;var e=n.i,t=new hE;t.i=e.i,e.g&&(t.g=new Map(e.g),t.h=e.h),PV(this,t),this.o=n.o}else n&&(e=String(n).match(RV))?(this.h=!1,Mb(this,e[1]||"",!0),this.s=cE(e[2]||""),this.g=cE(e[3]||"",!0),xb(this,e[4]),this.l=cE(e[5]||"",!0),PV(this,e[6]||"",!0),this.o=cE(e[7]||"")):(this.h=!1,this.i=new hE(null,this.h))}function cl(n){return new Jh(n)}function Mb(n,e,t){n.j=t?cE(e,!0):e,n.j&&(n.j=n.j.replace(/:$/,""))}function xb(n,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);n.m=e}else n.m=null}function PV(n,e,t){e instanceof hE?(n.i=e,function HH(n,e){e&&!n.j&&(Uc(n),n.i=null,n.g.forEach(function(t,r){var i=r.toLowerCase();r!=i&&(OV(this,r),LV(this,i,t))},n)),n.j=e}(n.i,n.h)):(t||(e=dE(e,jH)),n.i=new hE(e,n.h))}function Mn(n,e,t){n.i.set(e,t)}function Nb(n){return Mn(n,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),n}function cE(n,e){return n?e?decodeURI(n.replace(/%25/g,"%2525")):decodeURIComponent(n):""}function dE(n,e,t){return"string"==typeof n?(n=encodeURI(n).replace(e,UH),t&&(n=n.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n):null}function UH(n){return"%"+((n=n.charCodeAt(0))>>4&15).toString(16)+(15&n).toString(16)}Jh.prototype.toString=function(){var n=[],e=this.j;e&&n.push(dE(e,kV,!0),":");var t=this.g;return(t||"file"==e)&&(n.push("//"),(e=this.s)&&n.push(dE(e,kV,!0),"@"),n.push(encodeURIComponent(String(t)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(t=this.m)&&n.push(":",String(t))),(t=this.l)&&(this.g&&"/"!=t.charAt(0)&&n.push("/"),n.push(dE(t,"/"==t.charAt(0)?$H:BH,!0))),(t=this.i.toString())&&n.push("?",t),(t=this.o)&&n.push("#",dE(t,GH)),n.join("")};var kV=/[#\/\?@]/g,BH=/[#\?:]/g,$H=/[#\?]/g,jH=/[#\?@]/g,GH=/#/g;function hE(n,e){this.h=this.g=null,this.i=n||null,this.j=!!e}function Uc(n){n.g||(n.g=new Map,n.h=0,n.i&&function VH(n,e){if(n){n=n.split("&");for(var t=0;t<n.length;t++){var r=n[t].indexOf("="),i=null;if(0<=r){var a=n[t].substring(0,r);i=n[t].substring(r+1)}else a=n[t];e(a,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(n.i,function(e,t){n.add(decodeURIComponent(e.replace(/\+/g," ")),t)}))}function OV(n,e){Uc(n),e=wm(n,e),n.g.has(e)&&(n.i=null,n.h-=n.g.get(e).length,n.g.delete(e))}function FV(n,e){return Uc(n),e=wm(n,e),n.g.has(e)}function LV(n,e,t){OV(n,e),0<t.length&&(n.i=null,n.g.set(wm(n,e),hP(t)),n.h+=t.length)}function wm(n,e){return e=String(e),n.j&&(e=e.toLowerCase()),e}function VV(n){this.l=n||WH,n=At.PerformanceNavigationTiming?0<(n=At.performance.getEntriesByType("navigation")).length&&("hq"==n[0].nextHopProtocol||"h2"==n[0].nextHopProtocol):!!(At.g&&At.g.Ka&&At.g.Ka()&&At.g.Ka().ec),this.j=n?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}(Ue=hE.prototype).add=function(n,e){Uc(this),this.i=null,n=wm(this,n);var t=this.g.get(n);return t||this.g.set(n,t=[]),t.push(e),this.h+=1,this},Ue.forEach=function(n,e){Uc(this),this.g.forEach(function(t,r){t.forEach(function(i){n.call(e,i,r,this)},this)},this)},Ue.ta=function(){Uc(this);const n=Array.from(this.g.values()),e=Array.from(this.g.keys()),t=[];for(let r=0;r<e.length;r++){const i=n[r];for(let a=0;a<i.length;a++)t.push(e[r])}return t},Ue.Z=function(n){Uc(this);let e=[];if("string"==typeof n)FV(this,n)&&(e=e.concat(this.g.get(wm(this,n))));else{n=Array.from(this.g.values());for(let t=0;t<n.length;t++)e=e.concat(n[t])}return e},Ue.set=function(n,e){return Uc(this),this.i=null,FV(this,n=wm(this,n))&&(this.h-=this.g.get(n).length),this.g.set(n,[e]),this.h+=1,this},Ue.get=function(n,e){return n&&0<(n=this.Z(n)).length?String(n[0]):e},Ue.toString=function(){if(this.i)return this.i;if(!this.g)return"";const n=[],e=Array.from(this.g.keys());for(var t=0;t<e.length;t++){var r=e[t];const a=encodeURIComponent(String(r)),l=this.Z(r);for(r=0;r<l.length;r++){var i=a;""!==l[r]&&(i+="="+encodeURIComponent(String(l[r]))),n.push(i)}}return this.i=n.join("&")};var WH=10;function UV(n){return!!n.h||!!n.g&&n.g.size>=n.j}function BV(n){return n.h?1:n.g?n.g.size:0}function BP(n,e){return n.h?n.h==e:!!n.g&&n.g.has(e)}function $P(n,e){n.g?n.g.add(e):n.h=e}function $V(n,e){n.h&&n.h==e?n.h=null:n.g&&n.g.has(e)&&n.g.delete(e)}function jV(n){if(null!=n.h)return n.i.concat(n.h.F);if(null!=n.g&&0!==n.g.size){let e=n.i;for(const t of n.g.values())e=e.concat(t.F);return e}return hP(n.i)}VV.prototype.cancel=function(){if(this.i=jV(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const n of this.g.values())n.cancel();this.g.clear()}};var qH=class{stringify(n){return At.JSON.stringify(n,void 0)}parse(n){return At.JSON.parse(n,void 0)}};function KH(){this.g=new qH}function YH(n,e,t){const r=t||"";try{NV(n,function(i,a){let l=i;Zw(i)&&(l=MP(i)),e.push(r+a+"="+encodeURIComponent(l))})}catch(i){throw e.push(r+"type="+encodeURIComponent("_badmap")),i}}function Rb(n,e,t,r,i){try{e.onload=null,e.onerror=null,e.onabort=null,e.ontimeout=null,i(r)}catch{}}function fE(n){this.l=n.fc||null,this.j=n.ob||!1}function Pb(n,e){ti.call(this),this.F=n,this.u=e,this.m=void 0,this.readyState=jP,this.status=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.v=new Headers,this.h=null,this.C="GET",this.B="",this.g=!1,this.A=this.j=this.l=null}ei(fE,PP),fE.prototype.g=function(){return new Pb(this.l,this.j)},fE.prototype.i=function(n){return function(){return n}}({}),ei(Pb,ti);var jP=0;function GV(n){n.j.read().then(n.Xa.bind(n)).catch(n.ka.bind(n))}function pE(n){n.readyState=4,n.l=null,n.j=null,n.A=null,gE(n)}function gE(n){n.onreadystatechange&&n.onreadystatechange.call(n)}(Ue=Pb.prototype).open=function(n,e){if(this.readyState!=jP)throw this.abort(),Error("Error reopening a connection");this.C=n,this.B=e,this.readyState=1,gE(this)},Ue.send=function(n){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const e={headers:this.v,method:this.C,credentials:this.m,cache:void 0};n&&(e.body=n),(this.F||At).fetch(new Request(this.B,e)).then(this.$a.bind(this),this.ka.bind(this))},Ue.abort=function(){this.response=this.responseText="",this.v=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,pE(this)),this.readyState=jP},Ue.$a=function(n){if(this.g&&(this.l=n,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=n.headers,this.readyState=2,gE(this)),this.g&&(this.readyState=3,gE(this),this.g)))if("arraybuffer"===this.responseType)n.arrayBuffer().then(this.Ya.bind(this),this.ka.bind(this));else if(typeof At.ReadableStream<"u"&&"body"in n){if(this.j=n.body.getReader(),this.u){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.A=new TextDecoder;GV(this)}else n.text().then(this.Za.bind(this),this.ka.bind(this))},Ue.Xa=function(n){if(this.g){if(this.u&&n.value)this.response.push(n.value);else if(!this.u){var e=n.value?n.value:new Uint8Array(0);(e=this.A.decode(e,{stream:!n.done}))&&(this.response=this.responseText+=e)}n.done?pE(this):gE(this),3==this.readyState&&GV(this)}},Ue.Za=function(n){this.g&&(this.response=this.responseText=n,pE(this))},Ue.Ya=function(n){this.g&&(this.response=n,pE(this))},Ue.ka=function(){this.g&&pE(this)},Ue.setRequestHeader=function(n,e){this.v.append(n,e)},Ue.getResponseHeader=function(n){return this.h&&this.h.get(n.toLowerCase())||""},Ue.getAllResponseHeaders=function(){if(!this.h)return"";const n=[],e=this.h.entries();for(var t=e.next();!t.done;)n.push((t=t.value)[0]+": "+t[1]),t=e.next();return n.join("\r\n")},Object.defineProperty(Pb.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(n){this.m=n?"include":"same-origin"}});var ZH=At.JSON.parse;function rr(n){ti.call(this),this.headers=new Map,this.u=n||null,this.h=!1,this.C=this.g=null,this.I="",this.m=0,this.j="",this.l=this.G=this.v=this.F=!1,this.B=0,this.A=null,this.K=HV,this.L=this.M=!1}ei(rr,ti);var HV="",XH=/^https?$/i,JH=["POST","PUT"];function zV(n,e){n.h=!1,n.g&&(n.l=!0,n.g.abort(),n.l=!1),n.j=e,n.m=5,WV(n),kb(n)}function WV(n){n.F||(n.F=!0,yi(n,"complete"),yi(n,"error"))}function qV(n){if(n.h&&typeof cP<"u"&&(!n.C[1]||4!=Wa(n)||2!=n.da()))if(n.v&&4==Wa(n))RP(n.La,0,n);else if(yi(n,"readystatechange"),4==Wa(n)){n.h=!1;try{const l=n.da();e:switch(l){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var e=!0;break e;default:e=!1}var t;if(!(t=e)){var r;if(r=0===l){var i=String(n.I).match(RV)[1]||null;!i&&At.self&&At.self.location&&(i=At.self.location.protocol.slice(0,-1)),r=!XH.test(i?i.toLowerCase():"")}t=r}if(t)yi(n,"complete"),yi(n,"success");else{n.m=6;try{var a=2<Wa(n)?n.g.statusText:""}catch{a=""}n.j=a+" ["+n.da()+"]",WV(n)}}finally{kb(n)}}}function kb(n,e){if(n.g){KV(n);const t=n.g,r=n.C[0]?()=>{}:null;n.g=null,n.C=null,e||yi(n,"ready");try{t.onreadystatechange=r}catch{}}}function KV(n){n.g&&n.L&&(n.g.ontimeout=null),n.A&&(At.clearTimeout(n.A),n.A=null)}function Wa(n){return n.g?n.g.readyState:0}function YV(n){try{if(!n.g)return null;if("response"in n.g)return n.g.response;switch(n.K){case HV:case"text":return n.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in n.g)return n.g.mozResponseArrayBuffer}return null}catch{return null}}function QV(n){let e="";return wP(n,function(t,r){e+=r,e+=":",e+=t,e+="\r\n"}),e}function GP(n,e,t){e:{for(r in t){var r=!1;break e}r=!0}r||(t=QV(t),"string"==typeof n?null!=t&&encodeURIComponent(String(t)):Mn(n,e,t))}function mE(n,e,t){return t&&t.internalChannelParams&&t.internalChannelParams[n]||e}function ZV(n){this.Ga=0,this.j=[],this.l=new Cb,this.pa=this.wa=this.I=this.Y=this.g=this.Da=this.F=this.na=this.o=this.U=this.s=null,this.fb=this.W=0,this.cb=mE("failFast",!1,n),this.G=this.v=this.u=this.m=this.h=null,this.aa=!0,this.Fa=this.V=-1,this.ba=this.A=this.C=0,this.ab=mE("baseRetryDelayMs",5e3,n),this.hb=mE("retryDelaySeedMs",1e4,n),this.eb=mE("forwardChannelMaxRetries",2,n),this.xa=mE("forwardChannelRequestTimeoutMs",2e4,n),this.va=n&&n.xmlHttpFactory||void 0,this.Ha=n&&n.dc||!1,this.L=void 0,this.J=n&&n.supportsCrossDomainXhr||!1,this.K="",this.i=new VV(n&&n.concurrentRequestLimit),this.Ja=new KH,this.P=n&&n.fastHandshake||!1,this.O=n&&n.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.bb=n&&n.bc||!1,n&&n.Ea&&this.l.Ea(),n&&n.forceLongPolling&&(this.aa=!1),this.ca=!this.P&&this.aa&&n&&n.detectBufferingProxy||!1,this.qa=void 0,n&&n.longPollingTimeout&&0<n.longPollingTimeout&&(this.qa=n.longPollingTimeout),this.oa=void 0,this.S=0,this.M=!1,this.ma=this.B=null}function HP(n){if(XV(n),3==n.H){var e=n.W++,t=cl(n.I);if(Mn(t,"SID",n.K),Mn(t,"RID",e),Mn(t,"TYPE","terminate"),yE(n,t),(e=new aE(n,n.l,e)).L=2,e.v=Nb(cl(t)),t=!1,At.navigator&&At.navigator.sendBeacon)try{t=At.navigator.sendBeacon(e.v.toString(),"")}catch{}!t&&At.Image&&((new Image).src=e.v,t=!0),t||(e.g=a2(e.l,null),e.g.ha(e.v)),e.G=Date.now(),uE(e)}s2(n)}function Ob(n){n.g&&(WP(n),n.g.cancel(),n.g=null)}function XV(n){Ob(n),n.u&&(At.clearTimeout(n.u),n.u=null),Lb(n),n.i.cancel(),n.m&&("number"==typeof n.m&&At.clearTimeout(n.m),n.m=null)}function Fb(n){if(!UV(n.i)&&!n.m){n.m=!0;var e=n.Na;tE||pV(),nE||(tE(),nE=!0),xP.add(e,n),n.C=0}}function JV(n,e){var t;t=e?e.m:n.W++;const r=cl(n.I);Mn(r,"SID",n.K),Mn(r,"RID",t),Mn(r,"AID",n.V),yE(n,r),n.o&&n.s&&GP(r,n.o,n.s),t=new aE(n,n.l,t,n.C+1),null===n.o&&(t.I=n.s),e&&(n.j=e.F.concat(n.j)),e=e2(n,t,1e3),t.setTimeout(Math.round(.5*n.xa)+Math.round(.5*n.xa*Math.random())),$P(n.i,t),VP(t,r,e)}function yE(n,e){n.na&&wP(n.na,function(t,r){Mn(e,r,t)}),n.h&&NV({},function(t,r){Mn(e,r,t)})}function e2(n,e,t){t=Math.min(n.j.length,t);var r=n.h?Fi(n.h.Va,n.h,n):null;e:{var i=n.j;let a=-1;for(;;){const l=["count="+t];-1==a?0<t?(a=i[0].g,l.push("ofs="+a)):a=0:l.push("ofs="+a);let h=!0;for(let p=0;p<t;p++){let m=i[p].g;const I=i[p].map;if(m-=a,0>m)a=Math.max(0,i[p].g-100),h=!1;else try{YH(I,l,"req"+m+"_")}catch{r&&r(I)}}if(h){r=l.join("&");break e}}}return n=n.j.splice(0,t),e.F=n,r}function t2(n){if(!n.g&&!n.u){n.ba=1;var e=n.Ma;tE||pV(),nE||(tE(),nE=!0),xP.add(e,n),n.A=0}}function zP(n){return!(n.g||n.u||3<=n.A||(n.ba++,n.u=sE(Fi(n.Ma,n),i2(n,n.A)),n.A++,0))}function WP(n){null!=n.B&&(At.clearTimeout(n.B),n.B=null)}function n2(n){n.g=new aE(n,n.l,"rpc",n.ba),null===n.o&&(n.g.I=n.s),n.g.O=0;var e=cl(n.wa);Mn(e,"RID","rpc"),Mn(e,"SID",n.K),Mn(e,"AID",n.V),Mn(e,"CI",n.G?"0":"1"),!n.G&&n.qa&&Mn(e,"TO",n.qa),Mn(e,"TYPE","xmlhttp"),yE(n,e),n.o&&n.s&&GP(e,n.o,n.s),n.L&&n.g.setTimeout(n.L);var t=n.g;n=n.pa,t.L=1,t.v=Nb(cl(e)),t.s=null,t.S=!0,SV(t,n)}function Lb(n){null!=n.v&&(At.clearTimeout(n.v),n.v=null)}function r2(n,e){var t=null;if(n.g==e){Lb(n),WP(n),n.g=null;var r=2}else{if(!BP(n.i,e))return;t=e.F,$V(n.i,e),r=1}if(0!=n.H)if(e.i)if(1==r){t=e.s?e.s.length:0,e=Date.now()-e.G;var i=n.C;yi(r=Db(),new IV(r,t)),Fb(n)}else t2(n);else if(3==(i=e.o)||0==i&&0<e.ca||!(1==r&&function nz(n,e){return!(BV(n.i)>=n.i.j-(n.m?1:0)||(n.m?(n.j=e.F.concat(n.j),0):1==n.H||2==n.H||n.C>=(n.cb?0:n.eb)||(n.m=sE(Fi(n.Na,n,e),i2(n,n.C)),n.C++,0)))}(n,e)||2==r&&zP(n)))switch(t&&0<t.length&&(e=n.i,e.i=e.i.concat(t)),i){case 1:ef(n,5);break;case 4:ef(n,10);break;case 3:ef(n,6);break;default:ef(n,2)}}function i2(n,e){let t=n.ab+Math.floor(Math.random()*n.hb);return n.isActive()||(t*=2),t*e}function ef(n,e){if(n.l.info("Error code "+e),2==e){var t=null;n.h&&(t=null);var r=Fi(n.pb,n);t||(t=new Jh("//www.google.com/images/cleardot.gif"),At.location&&"http"==At.location.protocol||Mb(t,"https"),Nb(t)),function QH(n,e){const t=new Cb;if(At.Image){const r=new Image;r.onload=yb(Rb,t,r,"TestLoadImage: loaded",!0,e),r.onerror=yb(Rb,t,r,"TestLoadImage: error",!1,e),r.onabort=yb(Rb,t,r,"TestLoadImage: abort",!1,e),r.ontimeout=yb(Rb,t,r,"TestLoadImage: timeout",!1,e),At.setTimeout(function(){r.ontimeout&&r.ontimeout()},1e4),r.src=n}else e(!1)}(t.toString(),r)}else Xi(2);n.H=0,n.h&&n.h.za(e),s2(n),XV(n)}function s2(n){if(n.H=0,n.ma=[],n.h){const e=jV(n.i);(0!=e.length||0!=n.j.length)&&(eV(n.ma,e),eV(n.ma,n.j),n.i.i.length=0,hP(n.j),n.j.length=0),n.h.ya()}}function o2(n,e,t){var r=t instanceof Jh?cl(t):new Jh(t);if(""!=r.g)e&&(r.g=e+"."+r.g),xb(r,r.m);else{var i=At.location;r=i.protocol,e=e?e+"."+i.hostname:i.hostname,i=+i.port;var a=new Jh(null);r&&Mb(a,r),e&&(a.g=e),i&&xb(a,i),t&&(a.l=t),r=a}return e=n.Da,(t=n.F)&&e&&Mn(r,t,e),Mn(r,"VER",n.ra),yE(n,r),r}function a2(n,e,t){if(e&&!n.J)throw Error("Can't create secondary domain capable XhrIo object.");return(e=new rr(t&&n.Ha&&!n.va?new fE({ob:!0}):n.va)).Oa(n.J),e}function u2(){}function Vb(){if(_m&&!(10<=Number(gH)))throw Error("Environmental error: no available transport.")}function Gs(n,e){ti.call(this),this.g=new ZV(e),this.l=n,this.h=e&&e.messageUrlParams||null,n=e&&e.messageHeaders||null,e&&e.clientProtocolHeaderRequired&&(n?n["X-Client-Protocol"]="webchannel":n={"X-Client-Protocol":"webchannel"}),this.g.s=n,n=e&&e.initMessageHeaders||null,e&&e.messageContentType&&(n?n["X-WebChannel-Content-Type"]=e.messageContentType:n={"X-WebChannel-Content-Type":e.messageContentType}),e&&e.Ca&&(n?n["X-WebChannel-Client-Profile"]=e.Ca:n={"X-WebChannel-Client-Profile":e.Ca}),this.g.U=n,(n=e&&e.cc)&&!Xw(n)&&(this.g.o=n),this.A=e&&e.supportsCrossDomainXhr||!1,this.v=e&&e.sendRawJson||!1,(e=e&&e.httpSessionIdParam)&&!Xw(e)&&(this.g.F=e,null!==(n=this.h)&&e in n&&e in(n=this.h)&&delete n[e]),this.j=new Em(this)}function l2(n){kP.call(this),n.__headers__&&(this.headers=n.__headers__,this.statusCode=n.__status__,delete n.__headers__,delete n.__status__);var e=n.__sm__;if(e){e:{for(const t in e){n=t;break e}n=void 0}(this.i=n)&&(n=this.i,e=null!==e&&n in e?e[n]:void 0),this.data=e}else this.data=n}function c2(){OP.call(this),this.status=1}function Em(n){this.g=n}function na(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.m=Array(this.blockSize),this.i=this.h=0,this.reset()}function qP(n,e,t){t||(t=0);var r=Array(16);if("string"==typeof e)for(var i=0;16>i;++i)r[i]=e.charCodeAt(t++)|e.charCodeAt(t++)<<8|e.charCodeAt(t++)<<16|e.charCodeAt(t++)<<24;else for(i=0;16>i;++i)r[i]=e[t++]|e[t++]<<8|e[t++]<<16|e[t++]<<24;var a=n.g[3],l=(e=n.g[0])+(a^(t=n.g[1])&((i=n.g[2])^a))+r[0]+3614090360&4294967295;l=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=(t=(i=(a=(e=t+(l<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[1]+3905402710&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[2]+606105819&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[3]+3250441966&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[4]+4118548399&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[5]+1200080426&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[6]+2821735955&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[7]+4249261313&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[8]+1770035416&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[9]+2336552879&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[10]+4294925233&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[11]+2304563134&4294967295)<<22&4294967295|l>>>10))+((l=e+(a^t&(i^a))+r[12]+1804603682&4294967295)<<7&4294967295|l>>>25))+((l=a+(i^e&(t^i))+r[13]+4254626195&4294967295)<<12&4294967295|l>>>20))+((l=i+(t^a&(e^t))+r[14]+2792965006&4294967295)<<17&4294967295|l>>>15))+((l=t+(e^i&(a^e))+r[15]+1236535329&4294967295)<<22&4294967295|l>>>10))+((l=e+(i^a&(t^i))+r[1]+4129170786&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[6]+3225465664&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[11]+643717713&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[0]+3921069994&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[5]+3593408605&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[10]+38016083&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[15]+3634488961&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[4]+3889429448&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[9]+568446438&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[14]+3275163606&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[3]+4107603335&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[8]+1163531501&4294967295)<<20&4294967295|l>>>12))+((l=e+(i^a&(t^i))+r[13]+2850285829&4294967295)<<5&4294967295|l>>>27))+((l=a+(t^i&(e^t))+r[2]+4243563512&4294967295)<<9&4294967295|l>>>23))+((l=i+(e^t&(a^e))+r[7]+1735328473&4294967295)<<14&4294967295|l>>>18))+((l=t+(a^e&(i^a))+r[12]+2368359562&4294967295)<<20&4294967295|l>>>12))+((l=e+(t^i^a)+r[5]+4294588738&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[8]+2272392833&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[11]+1839030562&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[14]+4259657740&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[1]+2763975236&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[4]+1272893353&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[7]+4139469664&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[10]+3200236656&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[13]+681279174&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[0]+3936430074&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[3]+3572445317&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[6]+76029189&4294967295)<<23&4294967295|l>>>9))+((l=e+(t^i^a)+r[9]+3654602809&4294967295)<<4&4294967295|l>>>28))+((l=a+(e^t^i)+r[12]+3873151461&4294967295)<<11&4294967295|l>>>21))+((l=i+(a^e^t)+r[15]+530742520&4294967295)<<16&4294967295|l>>>16))+((l=t+(i^a^e)+r[2]+3299628645&4294967295)<<23&4294967295|l>>>9))+((l=e+(i^(t|~a))+r[0]+4096336452&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[7]+1126891415&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[14]+2878612391&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[5]+4237533241&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[12]+1700485571&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[3]+2399980690&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[10]+4293915773&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[1]+2240044497&4294967295)<<21&4294967295|l>>>11))+((l=e+(i^(t|~a))+r[8]+1873313359&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[15]+4264355552&4294967295)<<10&4294967295|l>>>22))+((l=i+(e^(a|~t))+r[6]+2734768916&4294967295)<<15&4294967295|l>>>17))+((l=t+(a^(i|~e))+r[13]+1309151649&4294967295)<<21&4294967295|l>>>11))+((a=(e=t+((l=e+(i^(t|~a))+r[4]+4149444226&4294967295)<<6&4294967295|l>>>26))+((l=a+(t^(e|~i))+r[11]+3174756917&4294967295)<<10&4294967295|l>>>22))^((i=a+((l=i+(e^(a|~t))+r[2]+718787259&4294967295)<<15&4294967295|l>>>17))|~e))+r[9]+3951481745&4294967295,n.g[0]=n.g[0]+e&4294967295,n.g[1]=n.g[1]+(i+(l<<21&4294967295|l>>>11))&4294967295,n.g[2]=n.g[2]+i&4294967295,n.g[3]=n.g[3]+a&4294967295}function pn(n,e){this.h=e;for(var t=[],r=!0,i=n.length-1;0<=i;i--){var a=0|n[i];r&&a==e||(t[i]=a,r=!1)}this.g=t}(Ue=rr.prototype).Oa=function(n){this.M=n},Ue.ha=function(n,e,t,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.I+"; newUri="+n);e=e?e.toUpperCase():"GET",this.I=n,this.j="",this.m=0,this.F=!1,this.h=!0,this.g=this.u?this.u.g():FP.g(),this.C=function DV(n){return n.h||(n.h=n.i())}(this.u?this.u:FP),this.g.onreadystatechange=Fi(this.La,this);try{this.G=!0,this.g.open(e,String(n),!0),this.G=!1}catch(a){return void zV(this,a)}if(n=t||"",t=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var i in r)t.set(i,r[i]);else{if("function"!=typeof r.keys||"function"!=typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const a of r.keys())t.set(a,r.get(a))}r=Array.from(t.keys()).find(a=>"content-type"==a.toLowerCase()),i=At.FormData&&n instanceof At.FormData,!(0<=JL(JH,e))||r||i||t.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[a,l]of t)this.g.setRequestHeader(a,l);this.K&&(this.g.responseType=this.K),"withCredentials"in this.g&&this.g.withCredentials!==this.M&&(this.g.withCredentials=this.M);try{KV(this),0<this.B&&((this.L=function ez(n){return _m&&"number"==typeof n.timeout&&void 0!==n.ontimeout}(this.g))?(this.g.timeout=this.B,this.g.ontimeout=Fi(this.ua,this)):this.A=RP(this.ua,this.B,this)),this.v=!0,this.g.send(n),this.v=!1}catch(a){zV(this,a)}},Ue.ua=function(){typeof cP<"u"&&this.g&&(this.j="Timed out after "+this.B+"ms, aborting",this.m=8,yi(this,"timeout"),this.abort(8))},Ue.abort=function(n){this.g&&this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1,this.m=n||7,yi(this,"complete"),yi(this,"abort"),kb(this))},Ue.N=function(){this.g&&(this.h&&(this.h=!1,this.l=!0,this.g.abort(),this.l=!1),kb(this,!0)),rr.$.N.call(this)},Ue.La=function(){this.s||(this.G||this.v||this.l?qV(this):this.kb())},Ue.kb=function(){qV(this)},Ue.isActive=function(){return!!this.g},Ue.da=function(){try{return 2<Wa(this)?this.g.status:-1}catch{return-1}},Ue.ja=function(){try{return this.g?this.g.responseText:""}catch{return""}},Ue.Wa=function(n){if(this.g){var e=this.g.responseText;return n&&0==e.indexOf(n)&&(e=e.substring(n.length)),ZH(e)}},Ue.Ia=function(){return this.m},Ue.Sa=function(){return"string"==typeof this.j?this.j:String(this.j)},(Ue=ZV.prototype).ra=8,Ue.H=1,Ue.Na=function(n){if(this.m)if(this.m=null,1==this.H){if(!n){this.W=Math.floor(1e5*Math.random()),n=this.W++;const i=new aE(this,this.l,n);let a=this.s;if(this.U&&(a?(a=sV(a),aV(a,this.U)):a=this.U),null!==this.o||this.O||(i.I=a,a=null),this.P)e:{for(var e=0,t=0;t<this.j.length;t++){var r=this.j[t];if(void 0===(r="__data__"in r.map&&"string"==typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(e+=r)){e=t;break e}if(4096===e||t===this.j.length-1){e=t+1;break e}}e=1e3}else e=1e3;e=e2(this,i,e),Mn(t=cl(this.I),"RID",n),Mn(t,"CVER",22),this.F&&Mn(t,"X-HTTP-Session-Id",this.F),yE(this,t),a&&(this.O?e="headers="+encodeURIComponent(String(QV(a)))+"&"+e:this.o&&GP(t,this.o,a)),$P(this.i,i),this.bb&&Mn(t,"TYPE","init"),this.P?(Mn(t,"$req",e),Mn(t,"SID","null"),i.aa=!0,VP(i,t,null)):VP(i,t,e),this.H=2}}else 3==this.H&&(n?JV(this,n):0==this.j.length||UV(this.i)||JV(this))},Ue.Ma=function(){if(this.u=null,n2(this),this.ca&&!(this.M||null==this.g||0>=this.S)){var n=2*this.S;this.l.info("BP detection timer enabled: "+n),this.B=sE(Fi(this.jb,this),n)}},Ue.jb=function(){this.B&&(this.B=null,this.l.info("BP detection timeout reached."),this.l.info("Buffering proxy detected and switch to long-polling!"),this.G=!1,this.M=!0,Xi(10),Ob(this),n2(this))},Ue.ib=function(){null!=this.v&&(this.v=null,Ob(this),zP(this),Xi(19))},Ue.pb=function(n){n?(this.l.info("Successfully pinged google.com"),Xi(2)):(this.l.info("Failed to ping google.com"),Xi(1))},Ue.isActive=function(){return!!this.h&&this.h.isActive(this)},(Ue=u2.prototype).Ba=function(){},Ue.Aa=function(){},Ue.za=function(){},Ue.ya=function(){},Ue.isActive=function(){return!0},Ue.Va=function(){},Vb.prototype.g=function(n,e){return new Gs(n,e)},ei(Gs,ti),Gs.prototype.m=function(){this.g.h=this.j,this.A&&(this.g.J=!0);var n=this.g,e=this.l,t=this.h||void 0;Xi(0),n.Y=e,n.na=t||{},n.G=n.aa,n.I=o2(n,null,n.Y),Fb(n)},Gs.prototype.close=function(){HP(this.g)},Gs.prototype.u=function(n){var e=this.g;if("string"==typeof n){var t={};t.__data__=n,n=t}else this.v&&((t={}).__data__=MP(n),n=t);e.j.push(new class{constructor(n,e){this.g=n,this.map=e}}(e.fb++,n)),3==e.H&&Fb(e)},Gs.prototype.N=function(){this.g.h=null,delete this.j,HP(this.g),delete this.g,Gs.$.N.call(this)},ei(l2,kP),ei(c2,OP),ei(Em,u2),Em.prototype.Ba=function(){yi(this.g,"a")},Em.prototype.Aa=function(n){yi(this.g,new l2(n))},Em.prototype.za=function(n){yi(this.g,new c2)},Em.prototype.ya=function(){yi(this.g,"b")},ei(na,function rz(){this.blockSize=-1}),na.prototype.reset=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.i=this.h=0},na.prototype.j=function(n,e){void 0===e&&(e=n.length);for(var t=e-this.blockSize,r=this.m,i=this.h,a=0;a<e;){if(0==i)for(;a<=t;)qP(this,n,a),a+=this.blockSize;if("string"==typeof n){for(;a<e;)if(r[i++]=n.charCodeAt(a++),i==this.blockSize){qP(this,r),i=0;break}}else for(;a<e;)if(r[i++]=n[a++],i==this.blockSize){qP(this,r),i=0;break}}this.h=i,this.i+=e},na.prototype.l=function(){var n=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);n[0]=128;for(var e=1;e<n.length-8;++e)n[e]=0;var t=8*this.i;for(e=n.length-8;e<n.length;++e)n[e]=255&t,t/=256;for(this.j(n),n=Array(16),e=t=0;4>e;++e)for(var r=0;32>r;r+=8)n[t++]=this.g[e]>>>r&255;return n};var iz={};function KP(n){return-128<=n&&128>n?function hH(n,e){var t=iz;return Object.prototype.hasOwnProperty.call(t,n)?t[n]:t[n]=e(n)}(n,function(e){return new pn([0|e],0>e?-1:0)}):new pn([0|n],0>n?-1:0)}function qa(n){if(isNaN(n)||!isFinite(n))return Im;if(0>n)return _i(qa(-n));for(var e=[],t=1,r=0;n>=t;r++)e[r]=n/t|0,t*=YP;return new pn(e,0)}var YP=4294967296,Im=KP(0),QP=KP(1),h2=KP(16777216);function dl(n){if(0!=n.h)return!1;for(var e=0;e<n.g.length;e++)if(0!=n.g[e])return!1;return!0}function _o(n){return-1==n.h}function _i(n){for(var e=n.g.length,t=[],r=0;r<e;r++)t[r]=~n.g[r];return new pn(t,~n.h).add(QP)}function Ub(n,e){return n.add(_i(e))}function Bb(n,e){for(;(65535&n[e])!=n[e];)n[e+1]+=n[e]>>>16,n[e]&=65535,e++}function _E(n,e){this.g=n,this.h=e}function $b(n,e){if(dl(e))throw Error("division by zero");if(dl(n))return new _E(Im,Im);if(_o(n))return e=$b(_i(n),e),new _E(_i(e.g),_i(e.h));if(_o(e))return e=$b(n,_i(e)),new _E(_i(e.g),e.h);if(30<n.g.length){if(_o(n)||_o(e))throw Error("slowDivide_ only works with positive integers.");for(var t=QP,r=e;0>=r.X(n);)t=f2(t),r=f2(r);var i=Cm(t,1),a=Cm(r,1);for(r=Cm(r,2),t=Cm(t,2);!dl(r);){var l=a.add(r);0>=l.X(n)&&(i=i.add(t),a=l),r=Cm(r,1),t=Cm(t,1)}return e=Ub(n,i.R(e)),new _E(i,e)}for(i=Im;0<=n.X(e);){for(t=Math.max(1,Math.floor(n.ea()/e.ea())),r=48>=(r=Math.ceil(Math.log(t)/Math.LN2))?1:Math.pow(2,r-48),l=(a=qa(t)).R(e);_o(l)||0<l.X(n);)l=(a=qa(t-=r)).R(e);dl(a)&&(a=QP),i=i.add(a),n=Ub(n,l)}return new _E(i,n)}function f2(n){for(var e=n.g.length+1,t=[],r=0;r<e;r++)t[r]=n.D(r)<<1|n.D(r-1)>>>31;return new pn(t,n.h)}function Cm(n,e){var t=e>>5;e%=32;for(var r=n.g.length-t,i=[],a=0;a<r;a++)i[a]=0<e?n.D(a+t)>>>e|n.D(a+t+1)<<32-e:n.D(a+t);return new pn(i,n.h)}(Ue=pn.prototype).ea=function(){if(_o(this))return-_i(this).ea();for(var n=0,e=1,t=0;t<this.g.length;t++){var r=this.D(t);n+=(0<=r?r:YP+r)*e,e*=YP}return n},Ue.toString=function(n){if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if(dl(this))return"0";if(_o(this))return"-"+_i(this).toString(n);for(var e=qa(Math.pow(n,6)),t=this,r="";;){var i=$b(t,e).g,a=((0<(t=Ub(t,i.R(e))).g.length?t.g[0]:t.h)>>>0).toString(n);if(dl(t=i))return a+r;for(;6>a.length;)a="0"+a;r=a+r}},Ue.D=function(n){return 0>n?0:n<this.g.length?this.g[n]:this.h},Ue.X=function(n){return _o(n=Ub(this,n))?-1:dl(n)?0:1},Ue.abs=function(){return _o(this)?_i(this):this},Ue.add=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0,i=0;i<=e;i++){var a=r+(65535&this.D(i))+(65535&n.D(i)),l=(a>>>16)+(this.D(i)>>>16)+(n.D(i)>>>16);r=l>>>16,t[i]=(l&=65535)<<16|(a&=65535)}return new pn(t,-2147483648&t[t.length-1]?-1:0)},Ue.R=function(n){if(dl(this)||dl(n))return Im;if(_o(this))return _o(n)?_i(this).R(_i(n)):_i(_i(this).R(n));if(_o(n))return _i(this.R(_i(n)));if(0>this.X(h2)&&0>n.X(h2))return qa(this.ea()*n.ea());for(var e=this.g.length+n.g.length,t=[],r=0;r<2*e;r++)t[r]=0;for(r=0;r<this.g.length;r++)for(var i=0;i<n.g.length;i++){var a=this.D(r)>>>16,l=65535&this.D(r),h=n.D(i)>>>16,p=65535&n.D(i);t[2*r+2*i]+=l*p,Bb(t,2*r+2*i),t[2*r+2*i+1]+=a*p,Bb(t,2*r+2*i+1),t[2*r+2*i+1]+=l*h,Bb(t,2*r+2*i+1),t[2*r+2*i+2]+=a*h,Bb(t,2*r+2*i+2)}for(r=0;r<e;r++)t[r]=t[2*r+1]<<16|t[2*r];for(r=e;r<2*e;r++)t[r]=0;return new pn(t,0)},Ue.gb=function(n){return $b(this,n).h},Ue.and=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)&n.D(r);return new pn(t,this.h&n.h)},Ue.or=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)|n.D(r);return new pn(t,this.h|n.h)},Ue.xor=function(n){for(var e=Math.max(this.g.length,n.g.length),t=[],r=0;r<e;r++)t[r]=this.D(r)^n.D(r);return new pn(t,this.h^n.h)},Vb.prototype.createWebChannel=Vb.prototype.g,Gs.prototype.send=Gs.prototype.u,Gs.prototype.open=Gs.prototype.m,Gs.prototype.close=Gs.prototype.close,Tb.NO_ERROR=0,Tb.TIMEOUT=8,Tb.HTTP_ERROR=6,CV.COMPLETE="complete",TV.EventType=oE,oE.OPEN="a",oE.CLOSE="b",oE.ERROR="c",oE.MESSAGE="d",ti.prototype.listen=ti.prototype.O,rr.prototype.listenOnce=rr.prototype.P,rr.prototype.getLastError=rr.prototype.Sa,rr.prototype.getLastErrorCode=rr.prototype.Ia,rr.prototype.getStatus=rr.prototype.da,rr.prototype.getResponseJson=rr.prototype.Wa,rr.prototype.getResponseText=rr.prototype.ja,rr.prototype.send=rr.prototype.ha,rr.prototype.setWithCredentials=rr.prototype.Oa,na.prototype.digest=na.prototype.l,na.prototype.reset=na.prototype.reset,na.prototype.update=na.prototype.j,pn.prototype.add=pn.prototype.add,pn.prototype.multiply=pn.prototype.R,pn.prototype.modulo=pn.prototype.gb,pn.prototype.compare=pn.prototype.X,pn.prototype.toNumber=pn.prototype.ea,pn.prototype.toString=pn.prototype.toString,pn.prototype.getBits=pn.prototype.D,pn.fromNumber=qa,pn.fromString=function d2(n,e){if(0==n.length)throw Error("number format error: empty string");if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if("-"==n.charAt(0))return _i(d2(n.substring(1),e));if(0<=n.indexOf("-"))throw Error('number format error: interior "-" character');for(var t=qa(Math.pow(e,8)),r=Im,i=0;i<n.length;i+=8){var a=Math.min(8,n.length-i),l=parseInt(n.substring(i,i+a),e);8>a?(a=qa(Math.pow(e,a)),r=r.R(a).add(qa(l))):r=(r=r.R(t)).add(qa(l))}return r},ta.createWebChannelTransport=function(){return new Vb},ta.getStatEventTarget=function(){return Db()},ta.ErrorCode=Tb,ta.EventType=CV,ta.Event=Zh,ta.Stat={xb:0,Ab:1,Bb:2,Ub:3,Zb:4,Wb:5,Xb:6,Vb:7,Tb:8,Yb:9,PROXY:10,NOPROXY:11,Rb:12,Nb:13,Ob:14,Mb:15,Pb:16,Qb:17,tb:18,sb:19,ub:20},ta.FetchXmlHttpFactory=fE,ta.WebChannel=TV,ta.XhrIo=rr,ta.Md5=na;var sz=ta.Integer=pn;const p2="@firebase/firestore";class ni{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ni.UNAUTHENTICATED=new ni(null),ni.GOOGLE_CREDENTIALS=new ni("google-credentials-uid"),ni.FIRST_PARTY=new ni("first-party-uid"),ni.MOCK_USER=new ni("mock-user");let vE="9.23.0";const Bc=new fs.Yd("@firebase/firestore");function Ie(n,...e){if(Bc.logLevel<=fs.in.DEBUG){const t=e.map(XP);Bc.debug(`Firestore (${vE}): ${n}`,...t)}}function fr(n,...e){if(Bc.logLevel<=fs.in.ERROR){const t=e.map(XP);Bc.error(`Firestore (${vE}): ${n}`,...t)}}function XP(n){if("string"==typeof n)return n;try{return JSON.stringify(n)}catch{return n}}function Xe(n="Unexpected state"){const e=`FIRESTORE (${vE}) INTERNAL ASSERTION FAILED: `+n;throw fr(e),new Error(e)}function tt(n,e){n||Xe()}const J={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class me extends U.ZR{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class Ur{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}class g2{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class oz{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(ni.UNAUTHENTICATED))}shutdown(){}}class az{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class uz{constructor(e){this.t=e,this.currentUser=ni.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){var r=this;let i=this.i;const a=m=>this.i!==i?(i=this.i,t(m)):Promise.resolve();let l=new Ur;this.o=()=>{this.i++,this.currentUser=this.u(),l.resolve(),l=new Ur,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const m=l;e.enqueueRetryable((0,Le.Z)(function*(){yield m.promise,yield a(r.currentUser)}))},p=m=>{Ie("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=m,this.auth.addAuthTokenListener(this.o),h()};this.t.onInit(m=>p(m)),setTimeout(()=>{if(!this.auth){const m=this.t.getImmediate({optional:!0});m?p(m):(Ie("FirebaseAuthCredentialsProvider","Auth not yet detected"),l.resolve(),l=new Ur)}},0),h()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(Ie("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(tt("string"==typeof r.accessToken),new g2(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return tt(null===e||"string"==typeof e),new ni(e)}}class lz{constructor(e,t,r){this.h=e,this.l=t,this.m=r,this.type="FirstParty",this.user=ni.FIRST_PARTY,this.g=new Map}p(){return this.m?this.m():null}get headers(){this.g.set("X-Goog-AuthUser",this.h);const e=this.p();return e&&this.g.set("Authorization",e),this.l&&this.g.set("X-Goog-Iam-Authorization-Token",this.l),this.g}}class cz{constructor(e,t,r){this.h=e,this.l=t,this.m=r}getToken(){return Promise.resolve(new lz(this.h,this.l,this.m))}start(e,t){e.enqueueRetryable(()=>t(ni.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class m2{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class dz{constructor(e){this.I=e,this.forceRefresh=!1,this.appCheck=null,this.T=null}start(e,t){const r=a=>{null!=a.error&&Ie("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.T;return this.T=a.token,Ie("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const i=a=>{Ie("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.I.onInit(a=>i(a)),setTimeout(()=>{if(!this.appCheck){const a=this.I.getImmediate({optional:!0});a?i(a):Ie("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(tt("string"==typeof t.token),this.T=t.token,new m2(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}function hz(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&"function"==typeof e.getRandomValues)e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}class y2{static A(){const t=62*Math.floor(256/62);let r="";for(;r.length<20;){const i=hz(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<t&&(r+="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789".charAt(i[a]%62))}return r}}function Dt(n,e){return n<e?-1:n>e?1:0}class jb{constructor(e,t,r){void 0===t?t=0:t>e.length&&Xe(),void 0===r?r=e.length-t:r>e.length-t&&Xe(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return 0===jb.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof jb?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return this.construct(this.segments,this.offset+(e=void 0===e?1:e),this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const a=e.get(i),l=t.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Yt extends jb{construct(e,t,r){return new Yt(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new me(J.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Yt(t)}static emptyPath(){return new Yt([])}}class Oe{constructor(e){this.path=e}static fromPath(e){return new Oe(Yt.fromString(e))}static fromName(e){return new Oe(Yt.fromString(e).popFirst(5))}static empty(){return new Oe(Yt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===Yt.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return Yt.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oe(new Yt(e.slice()))}}function jc(n){return"IndexedDbTransactionError"===n.name}class Cn{constructor(e,t){this.comparator=e,this.root=t||vi.EMPTY}insert(e,t){return new Cn(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,vi.BLACK,null,null))}remove(e){return new Cn(this.comparator,this.root.remove(e,this.comparator).copy(null,null,vi.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(0===r)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(0===i)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new qb(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new qb(this.root,e,this.comparator,!1)}getReverseIterator(){return new qb(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new qb(this.root,e,this.comparator,!0)}}class qb{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(0===a){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class vi{constructor(e,t,r,i,a){this.key=e,this.value=t,this.color=r??vi.RED,this.left=i??vi.EMPTY,this.right=a??vi.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,a){return new vi(e??this.key,t??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,t,r),null):0===a?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return vi.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),0===t(e,i.key)){if(i.right.isEmpty())return vi.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,vi.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,vi.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw Xe();const e=this.left.check();if(e!==this.right.check())throw Xe();return e+(this.isRed()?0:1)}}vi.EMPTY=null,vi.RED=!0,vi.BLACK=!1,vi.EMPTY=new class{constructor(){this.size=0}get key(){throw Xe()}get value(){throw Xe()}get color(){throw Xe()}get left(){throw Xe()}get right(){throw Xe()}copy(n,e,t,r,i){return this}insert(n,e,t){return new vi(n,e)}remove(n,e){return this}isEmpty(){return!0}inorderTraversal(n){return!1}reverseTraversal(n){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class xn{constructor(e){this.comparator=e,this.data=new Cn(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new R2(this.data.getIterator())}getIteratorFrom(e){return new R2(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof xn)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,a=r.getNext().key;if(0!==this.comparator(i,a))return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new xn(this.comparator);return t.data=e,t}}class R2{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class P2 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Br{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(r){try{return atob(r)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new P2("Invalid base64 string: "+i):i}}(e);return new Br(t)}static fromUint8Array(e){const t=function(r){let i="";for(let a=0;a<r.length;++a)i+=String.fromCharCode(r[a]);return i}(e);return new Br(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return btoa(this.binaryString)}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Dt(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}function ir(n){return"number"==typeof n?n:"string"==typeof n?Number(n):0}Br.EMPTY_BYTE_STRING=new Br("");class Uz{constructor(e,t,r,i,a,l,h,p,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=h,this.longPollingOptions=p,this.useFetchStreams=m}}class rf{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new rf("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof rf&&e.projectId===this.projectId&&e.database===this.database}}var Tr,Qt;new Cn(Oe.comparator),new Cn(Oe.comparator),new Cn(Oe.comparator),new xn(Oe.comparator),new xn(Dt),(Qt=Tr||(Tr={}))[Qt.OK=0]="OK",Qt[Qt.CANCELLED=1]="CANCELLED",Qt[Qt.UNKNOWN=2]="UNKNOWN",Qt[Qt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qt[Qt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qt[Qt.NOT_FOUND=5]="NOT_FOUND",Qt[Qt.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qt[Qt.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qt[Qt.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qt[Qt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qt[Qt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qt[Qt.ABORTED=10]="ABORTED",Qt[Qt.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qt[Qt.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qt[Qt.INTERNAL=13]="INTERNAL",Qt[Qt.UNAVAILABLE=14]="UNAVAILABLE",Qt[Qt.DATA_LOSS=15]="DATA_LOSS",new sz([4294967295,4294967295],0);class pf{constructor(){}_e(e,t){this.me(e,t),t.ge()}me(e,t){if("nullValue"in e)this.ye(t,5);else if("booleanValue"in e)this.ye(t,10),t.pe(e.booleanValue?1:0);else if("integerValue"in e)this.ye(t,15),t.pe(ir(e.integerValue));else if("doubleValue"in e){const r=ir(e.doubleValue);isNaN(r)?this.ye(t,13):(this.ye(t,15),function CE(n){return 0===n&&1/n==-1/0}(r)?t.pe(0):t.pe(r))}else if("timestampValue"in e){const r=e.timestampValue;this.ye(t,20),"string"==typeof r?t.Ie(r):(t.Ie(`${r.seconds||""}`),t.pe(r.nanos||0))}else if("stringValue"in e)this.Te(e.stringValue,t),this.Ee(t);else if("bytesValue"in e)this.ye(t,30),t.Ae(function hl(n){return"string"==typeof n?Br.fromBase64String(n):Br.fromUint8Array(n)}(e.bytesValue)),this.Ee(t);else if("referenceValue"in e)this.ve(e.referenceValue,t);else if("geoPointValue"in e){const r=e.geoPointValue;this.ye(t,45),t.pe(r.latitude||0),t.pe(r.longitude||0)}else"mapValue"in e?function L2(n){return"__max__"===(((n.mapValue||{}).fields||{}).__type__||{}).stringValue}(e)?this.ye(t,Number.MAX_SAFE_INTEGER):(this.Re(e.mapValue,t),this.Ee(t)):"arrayValue"in e?(this.Pe(e.arrayValue,t),this.Ee(t)):Xe()}Te(e,t){this.ye(t,25),this.be(e,t)}be(e,t){t.Ie(e)}Re(e,t){const r=e.fields||{};this.ye(t,55);for(const i of Object.keys(r))this.Te(i,t),this.me(r[i],t)}Pe(e,t){const r=e.values||[];this.ye(t,50);for(const i of r)this.me(i,t)}ve(e,t){this.ye(t,37),Oe.fromName(e).path.forEach(r=>{this.ye(t,60),this.be(r,t)})}ye(e,t){e.pe(t)}Ee(e){e.pe(2)}}pf.Ve=new pf,new Uint8Array(0);class Ui{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new Ui(e,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}}function ES(){return typeof document<"u"?document:null}Ui.DEFAULT_COLLECTION_PERCENTILE=10,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Ui.DEFAULT=new Ui(41943040,Ui.DEFAULT_COLLECTION_PERCENTILE,Ui.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Ui.DISABLED=new Ui(-1,0,0);class qk{constructor(e,t,r=1e3,i=1.5,a=6e4){this.ii=e,this.timerId=t,this.Po=r,this.bo=i,this.Vo=a,this.So=0,this.Do=null,this.Co=Date.now(),this.reset()}reset(){this.So=0}xo(){this.So=this.Vo}No(e){this.cancel();const t=Math.floor(this.So+this.ko()),r=Math.max(0,Date.now()-this.Co),i=Math.max(0,t-r);i>0&&Ie("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.So} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Do=this.ii.enqueueAfterDelay(this.timerId,i,()=>(this.Co=Date.now(),e())),this.So*=this.bo,this.So<this.Po&&(this.So=this.Po),this.So>this.Vo&&(this.So=this.Vo)}Mo(){null!==this.Do&&(this.Do.skipDelay(),this.Do=null)}cancel(){null!==this.Do&&(this.Do.cancel(),this.Do=null)}ko(){return(Math.random()-.5)*this.So}}class hO{constructor(e,t,r,i,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new Ur,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}static createAndSchedule(e,t,r,i,a){const l=Date.now()+r,h=new hO(e,t,l,i,a);return h.start(r),h}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new me(J.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}class Q3{constructor(e,t,r,i){var a=this;this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=ni.UNAUTHENTICATED,this.clientId=y2.A(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,function(){var l=(0,Le.Z)(function*(h){Ie("FirestoreClient","Received user=",h.uid),yield a.authCredentialListener(h),a.user=h});return function(h){return l.apply(this,arguments)}}()),this.appCheckCredentials.start(r,l=>(Ie("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}getConfiguration(){var e=this;return(0,Le.Z)(function*(){return{asyncQueue:e.asyncQueue,databaseInfo:e.databaseInfo,clientId:e.clientId,authCredentials:e.authCredentials,appCheckCredentials:e.appCheckCredentials,initialUser:e.user,maxConcurrentLimboResolutions:100}})()}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new me(J.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){var e=this;this.asyncQueue.enterRestrictedMode();const t=new Ur;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((0,Le.Z)(function*(){try{e._onlineComponents&&(yield e._onlineComponents.terminate()),e._offlineComponents&&(yield e._offlineComponents.terminate()),e.authCredentials.shutdown(),e.appCheckCredentials.shutdown(),t.resolve()}catch(r){const i=function Gm(n,e){if(fr("AsyncQueue",`${e}: ${n}`),jc(n))return new me(J.UNAVAILABLE,`${e}: ${n}`);throw n}(r,"Failed to shutdown persistence");t.reject(i)}})),t.promise}}function JB(n){const e={};return void 0!==n.timeoutSeconds&&(e.timeoutSeconds=n.timeoutSeconds),e}const e$=new Map;function qt(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new me(J.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=function MS(n){if(void 0===n)return"undefined";if(null===n)return"null";if("string"==typeof n)return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if("number"==typeof n||"boolean"==typeof n)return""+n;if("object"==typeof n){if(n instanceof Array)return"an array";{const e=(t=n).constructor?t.constructor.name:null;return e?`a custom ${e} object`:"an object"}}var t;return"function"==typeof n?"a function":Xe()}(n);throw new me(J.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}class i${constructor(e){var t,r;if(void 0===e.host){if(void 0!==e.ssl)throw new me(J.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.cache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new me(J.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function sW(n,e,t,r){if(!0===e&&!0===r)throw new me(J.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalAutoDetectLongPolling=!(this.experimentalForceLongPolling||void 0!==e.experimentalAutoDetectLongPolling&&!e.experimentalAutoDetectLongPolling),this.experimentalLongPollingOptions=JB(null!==(r=e.experimentalLongPollingOptions)&&void 0!==r?r:{}),function(i){if(void 0!==i.timeoutSeconds){if(isNaN(i.timeoutSeconds))throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (must not be NaN)`);if(i.timeoutSeconds<5)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (minimum allowed value is 5)`);if(i.timeoutSeconds>30)throw new me(J.INVALID_ARGUMENT,`invalid long polling timeout: ${i.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&this.experimentalLongPollingOptions.timeoutSeconds===e.experimentalLongPollingOptions.timeoutSeconds&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class XE{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new i$({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new me(J.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return void 0!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new me(J.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new i$(e),void 0!==e.credentials&&(this._authCredentials=function(t){if(!t)return new oz;switch(t.type){case"firstParty":return new cz(t.sessionIndex||"0",t.iamToken||null,t.authTokenFactory||null);case"provider":return t.client;default:throw new me(J.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=e$.get(e);t&&(Ie("ComponentProvider","Removing Datastore"),e$.delete(e),t.terminate())}(this),Promise.resolve()}}class uW{constructor(){this.Gc=Promise.resolve(),this.Qc=[],this.jc=!1,this.zc=[],this.Wc=null,this.Hc=!1,this.Jc=!1,this.Yc=[],this.qo=new qk(this,"async_queue_retry"),this.Xc=()=>{const t=ES();t&&Ie("AsyncQueue","Visibility state changed to "+t.visibilityState),this.qo.Mo()};const e=ES();e&&"function"==typeof e.addEventListener&&e.addEventListener("visibilitychange",this.Xc)}get isShuttingDown(){return this.jc}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Zc(),this.ta(e)}enterRestrictedMode(e){if(!this.jc){this.jc=!0,this.Jc=e||!1;const t=ES();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.Xc)}}enqueue(e){if(this.Zc(),this.jc)return new Promise(()=>{});const t=new Ur;return this.ta(()=>this.jc&&this.Jc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Qc.push(e),this.ea()))}ea(){var e=this;return(0,Le.Z)(function*(){if(0!==e.Qc.length){try{yield e.Qc[0](),e.Qc.shift(),e.qo.reset()}catch(t){if(!jc(t))throw t;Ie("AsyncQueue","Operation failed with retryable error: "+t)}e.Qc.length>0&&e.qo.No(()=>e.ea())}})()}ta(e){const t=this.Gc.then(()=>(this.Hc=!0,e().catch(r=>{throw this.Wc=r,this.Hc=!1,fr("INTERNAL UNHANDLED ERROR: ",function(a){let l=a.message||"";return a.stack&&(l=a.stack.includes(a.message)?a.stack:a.message+"\n"+a.stack),l}(r)),r}).then(r=>(this.Hc=!1,r))));return this.Gc=t,t}enqueueAfterDelay(e,t,r){this.Zc(),this.Yc.indexOf(e)>-1&&(t=0);const i=hO.createAndSchedule(this,e,t,r,a=>this.na(a));return this.zc.push(i),i}Zc(){this.Wc&&Xe()}verifyOperationInProgress(){}sa(){var e=this;return(0,Le.Z)(function*(){let t;do{t=e.Gc,yield t}while(t!==e.Gc)})()}ia(e){for(const t of this.zc)if(t.timerId===e)return!0;return!1}ra(e){return this.sa().then(()=>{this.zc.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.zc)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.sa()})}oa(e){this.Yc.push(e)}na(e){const t=this.zc.indexOf(e);this.zc.splice(t,1)}}class Rn extends XE{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new uW,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return this._firestoreClient||function o$(n){var e,t,r;const i=n._freezeSettings(),a=(h=(null===(e=n._app)||void 0===e?void 0:e.options.appId)||"",new Uz(n._databaseId,h,n._persistenceKey,(m=i).host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,JB(m.experimentalLongPollingOptions),m.useFetchStreams));var h,m;n._firestoreClient=new Q3(n._authCredentials,n._appCheckCredentials,n._queue,a),null!==(t=i.cache)&&void 0!==t&&t._offlineComponentProvider&&null!==(r=i.cache)&&void 0!==r&&r._onlineComponentProvider&&(n._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.cache.kind,_offline:i.cache._offlineComponentProvider,_online:i.cache._onlineComponentProvider})}(this),this._firestoreClient.terminate()}}function cW(n,e){const t="object"==typeof n?n:(0,Fn.getApp)(),r="string"==typeof n?n:e||"(default)",i=(0,Fn._getProvider)(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=(0,U.P0)("firestore");a&&function oW(n,e,t,r={}){var i;const a=(n=qt(n,XE))._getSettings(),l=`${e}:${t}`;if("firestore.googleapis.com"!==a.host&&a.host!==l&&function Ka(n,...e){if(Bc.logLevel<=fs.in.WARN){const t=e.map(XP);Bc.warn(`Firestore (${vE}): ${n}`,...t)}}("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let h,p;if("string"==typeof r.mockUserToken)h=r.mockUserToken,p=ni.MOCK_USER;else{h=(0,U.Sg)(r.mockUserToken,null===(i=n._app)||void 0===i?void 0:i.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new me(J.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new ni(m)}n._authCredentials=new az(new g2(h,p))}}(i,...a)}return i}!function(n,e=!0){vE=Fn.SDK_VERSION,(0,Fn._registerComponent)(new nc.wA("firestore",(t,{instanceIdentifier:r,options:i})=>{const a=t.getProvider("app").getImmediate(),l=new Rn(new uz(t.getProvider("auth-internal")),new dz(t.getProvider("app-check-internal")),function(h,p){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new me(J.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new rf(h.options.projectId,p)}(a,r),a);return i=Object.assign({useFetchStreams:e},i),l._setSettings(i),l},"PUBLIC").setMultipleInstances(!0)),(0,Fn.registerVersion)(p2,"3.13.0",n),(0,Fn.registerVersion)(p2,"3.13.0","esm2017")}();class a1{constructor(e){return e}}const S$="firestore",u1=new y.OlP("angularfire2.firestore-instances");function LW(n){return(e,t)=>{const r=e.runOutsideAngular(()=>n(t));return new a1(r)}}const VW={provide:class OW{constructor(){return(0,Es.vb)(S$)}},deps:[[new y.FiY,u1]]},UW={provide:a1,useFactory:function FW(n,e){const t=(0,Es.JM)(S$,n,e);return t&&new a1(t)},deps:[[new y.FiY,u1],Hh]};let BW=(()=>{class n{constructor(){(0,Oc.KN)("angularfire",Es.q4.full,"fst")}}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=y.oAB({type:n}),n.\u0275inj=y.cJS({providers:[UW,VW]}),n})();function $W(n,...e){return{ngModule:BW,providers:[{provide:u1,useFactory:LW(n),multi:!0,deps:[y.R0b,y.zs3,Es.HU,Zx,[new y.FiY,xL],[new y.FiY,XL],...e]}]}}const jW=(0,Es.u3)(cW,!0);var GW=x(5229);let HW=(()=>{class n{}return n.\u0275fac=function(t){return new(t||n)},n.\u0275mod=y.oAB({type:n,bootstrap:[kF]}),n.\u0275inj=y.cJS({imports:[Td,AC,RF,qg(()=>LF(DT_firebase)),$W(()=>jW()),GW.hO.initializeApp(DT_firebase)]}),n})();zn().bootstrapModule(HW).catch(n=>console.error(n))},5619:(lt,Ee,x)=>{x.d(Ee,{X:()=>W});var y=x(8645);class W extends y.x{constructor(K){super(),this._value=K}get value(){return this.getValue()}_subscribe(K){const ne=super._subscribe(K);return!ne.closed&&K.next(this._value),ne}getValue(){const{hasError:K,thrownError:ne,_value:ye}=this;if(K)throw ne;return this._throwIfClosed(),ye}next(K){super.next(this._value=K)}}},5592:(lt,Ee,x)=>{x.d(Ee,{y:()=>Ge});var y=x(1887),W=x(7394),H=x(4850),K=x(8407),ne=x(2653),ye=x(4674),Ne=x(1441);let Ge=(()=>{class X{constructor(_e){_e&&(this._subscribe=_e)}lift(_e){const je=new X;return je.source=this,je.operator=_e,je}subscribe(_e,je,Et){const _t=function F(X){return X&&X instanceof y.Lv||function B(X){return X&&(0,ye.m)(X.next)&&(0,ye.m)(X.error)&&(0,ye.m)(X.complete)}(X)&&(0,W.Nn)(X)}(_e)?_e:new y.Hp(_e,je,Et);return(0,Ne.x)(()=>{const{operator:gt,source:rn}=this;_t.add(gt?gt.call(_t,rn):rn?this._subscribe(_t):this._trySubscribe(_t))}),_t}_trySubscribe(_e){try{return this._subscribe(_e)}catch(je){_e.error(je)}}forEach(_e,je){return new(je=ve(je))((Et,_t)=>{const gt=new y.Hp({next:rn=>{try{_e(rn)}catch(vn){_t(vn),gt.unsubscribe()}},error:_t,complete:Et});this.subscribe(gt)})}_subscribe(_e){var je;return null===(je=this.source)||void 0===je?void 0:je.subscribe(_e)}[H.L](){return this}pipe(..._e){return(0,K.U)(_e)(this)}toPromise(_e){return new(_e=ve(_e))((je,Et)=>{let _t;this.subscribe(gt=>_t=gt,gt=>Et(gt),()=>je(_t))})}}return X.create=Ae=>new X(Ae),X})();function ve(X){var Ae;return null!==(Ae=X??ne.config.Promise)&&void 0!==Ae?Ae:Promise}},8645:(lt,Ee,x)=>{x.d(Ee,{x:()=>Ne});var y=x(5592),W=x(7394);const K=(0,x(2306).d)(ve=>function(){ve(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ne=x(9039),ye=x(1441);let Ne=(()=>{class ve extends y.y{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(F){const X=new Ge(this,this);return X.operator=F,X}_throwIfClosed(){if(this.closed)throw new K}next(F){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(const X of this.currentObservers)X.next(F)}})}error(F){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=F;const{observers:X}=this;for(;X.length;)X.shift().error(F)}})}complete(){(0,ye.x)(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;const{observers:F}=this;for(;F.length;)F.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var F;return(null===(F=this.observers)||void 0===F?void 0:F.length)>0}_trySubscribe(F){return this._throwIfClosed(),super._trySubscribe(F)}_subscribe(F){return this._throwIfClosed(),this._checkFinalizedStatuses(F),this._innerSubscribe(F)}_innerSubscribe(F){const{hasError:X,isStopped:Ae,observers:_e}=this;return X||Ae?W.Lc:(this.currentObservers=null,_e.push(F),new W.w0(()=>{this.currentObservers=null,(0,ne.P)(_e,F)}))}_checkFinalizedStatuses(F){const{hasError:X,thrownError:Ae,isStopped:_e}=this;X?F.error(Ae):_e&&F.complete()}asObservable(){const F=new y.y;return F.source=this,F}}return ve.create=(B,F)=>new Ge(B,F),ve})();class Ge extends Ne{constructor(B,F){super(),this.destination=B,this.source=F}next(B){var F,X;null===(X=null===(F=this.destination)||void 0===F?void 0:F.next)||void 0===X||X.call(F,B)}error(B){var F,X;null===(X=null===(F=this.destination)||void 0===F?void 0:F.error)||void 0===X||X.call(F,B)}complete(){var B,F;null===(F=null===(B=this.destination)||void 0===B?void 0:B.complete)||void 0===F||F.call(B)}_subscribe(B){var F,X;return null!==(X=null===(F=this.source)||void 0===F?void 0:F.subscribe(B))&&void 0!==X?X:W.Lc}}},1887:(lt,Ee,x)=>{x.d(Ee,{Hp:()=>Et,Lv:()=>X});var y=x(4674),W=x(7394),H=x(2653),K=x(3894);function ne(){}const ye=ve("C",void 0,void 0);function ve(ge,Ce,ue){return{kind:ge,value:Ce,error:ue}}var B=x(7599),F=x(1441);class X extends W.w0{constructor(Ce){super(),this.isStopped=!1,Ce?(this.destination=Ce,(0,W.Nn)(Ce)&&Ce.add(this)):this.destination=vn}static create(Ce,ue,Te){return new Et(Ce,ue,Te)}next(Ce){this.isStopped?rn(function Ge(ge){return ve("N",ge,void 0)}(Ce),this):this._next(Ce)}error(Ce){this.isStopped?rn(function Ne(ge){return ve("E",void 0,ge)}(Ce),this):(this.isStopped=!0,this._error(Ce))}complete(){this.isStopped?rn(ye,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(Ce){this.destination.next(Ce)}_error(Ce){try{this.destination.error(Ce)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}}const Ae=Function.prototype.bind;function _e(ge,Ce){return Ae.call(ge,Ce)}class je{constructor(Ce){this.partialObserver=Ce}next(Ce){const{partialObserver:ue}=this;if(ue.next)try{ue.next(Ce)}catch(Te){_t(Te)}}error(Ce){const{partialObserver:ue}=this;if(ue.error)try{ue.error(Ce)}catch(Te){_t(Te)}else _t(Ce)}complete(){const{partialObserver:Ce}=this;if(Ce.complete)try{Ce.complete()}catch(ue){_t(ue)}}}class Et extends X{constructor(Ce,ue,Te){let Ye;if(super(),(0,y.m)(Ce)||!Ce)Ye={next:Ce??void 0,error:ue??void 0,complete:Te??void 0};else{let Pe;this&&H.config.useDeprecatedNextContext?(Pe=Object.create(Ce),Pe.unsubscribe=()=>this.unsubscribe(),Ye={next:Ce.next&&_e(Ce.next,Pe),error:Ce.error&&_e(Ce.error,Pe),complete:Ce.complete&&_e(Ce.complete,Pe)}):Ye=Ce}this.destination=new je(Ye)}}function _t(ge){H.config.useDeprecatedSynchronousErrorHandling?(0,F.O)(ge):(0,K.h)(ge)}function rn(ge,Ce){const{onStoppedNotification:ue}=H.config;ue&&B.z.setTimeout(()=>ue(ge,Ce))}const vn={closed:!0,next:ne,error:function gt(ge){throw ge},complete:ne}},7394:(lt,Ee,x)=>{x.d(Ee,{Lc:()=>ye,w0:()=>ne,Nn:()=>Ne});var y=x(4674);const H=(0,x(2306).d)(ve=>function(F){ve(this),this.message=F?`${F.length} errors occurred during unsubscription:\n${F.map((X,Ae)=>`${Ae+1}) ${X.toString()}`).join("\n  ")}`:"",this.name="UnsubscriptionError",this.errors=F});var K=x(9039);class ne{constructor(B){this.initialTeardown=B,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let B;if(!this.closed){this.closed=!0;const{_parentage:F}=this;if(F)if(this._parentage=null,Array.isArray(F))for(const _e of F)_e.remove(this);else F.remove(this);const{initialTeardown:X}=this;if((0,y.m)(X))try{X()}catch(_e){B=_e instanceof H?_e.errors:[_e]}const{_finalizers:Ae}=this;if(Ae){this._finalizers=null;for(const _e of Ae)try{Ge(_e)}catch(je){B=B??[],je instanceof H?B=[...B,...je.errors]:B.push(je)}}if(B)throw new H(B)}}add(B){var F;if(B&&B!==this)if(this.closed)Ge(B);else{if(B instanceof ne){if(B.closed||B._hasParent(this))return;B._addParent(this)}(this._finalizers=null!==(F=this._finalizers)&&void 0!==F?F:[]).push(B)}}_hasParent(B){const{_parentage:F}=this;return F===B||Array.isArray(F)&&F.includes(B)}_addParent(B){const{_parentage:F}=this;this._parentage=Array.isArray(F)?(F.push(B),F):F?[F,B]:B}_removeParent(B){const{_parentage:F}=this;F===B?this._parentage=null:Array.isArray(F)&&(0,K.P)(F,B)}remove(B){const{_finalizers:F}=this;F&&(0,K.P)(F,B),B instanceof ne&&B._removeParent(this)}}ne.EMPTY=(()=>{const ve=new ne;return ve.closed=!0,ve})();const ye=ne.EMPTY;function Ne(ve){return ve instanceof ne||ve&&"closed"in ve&&(0,y.m)(ve.remove)&&(0,y.m)(ve.add)&&(0,y.m)(ve.unsubscribe)}function Ge(ve){(0,y.m)(ve)?ve():ve.unsubscribe()}},2653:(lt,Ee,x)=>{x.d(Ee,{config:()=>y});const y={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1}},6232:(lt,Ee,x)=>{x.d(Ee,{E:()=>W});const W=new(x(5592).y)(ne=>ne.complete())},2459:(lt,Ee,x)=>{x.d(Ee,{D:()=>Ce});var y=x(4829),W=x(3093),H=x(5137),ye=x(5592),Ge=x(4971),ve=x(4674),B=x(7103);function X(ue,Te){if(!ue)throw new Error("Iterable cannot be null");return new ye.y(Ye=>{(0,B.f)(Ye,Te,()=>{const Pe=ue[Symbol.asyncIterator]();(0,B.f)(Ye,Te,()=>{Pe.next().then(De=>{De.done?Ye.complete():Ye.next(De.value)})},0,!0)})})}var Ae=x(8382),_e=x(4026),je=x(4266),Et=x(3664),_t=x(5726),gt=x(9853),rn=x(541);function Ce(ue,Te){return Te?function ge(ue,Te){if(null!=ue){if((0,Ae.c)(ue))return function K(ue,Te){return(0,y.Xf)(ue).pipe((0,H.R)(Te),(0,W.Q)(Te))}(ue,Te);if((0,je.z)(ue))return function Ne(ue,Te){return new ye.y(Ye=>{let Pe=0;return Te.schedule(function(){Pe===ue.length?Ye.complete():(Ye.next(ue[Pe++]),Ye.closed||this.schedule())})})}(ue,Te);if((0,_e.t)(ue))return function ne(ue,Te){return(0,y.Xf)(ue).pipe((0,H.R)(Te),(0,W.Q)(Te))}(ue,Te);if((0,_t.D)(ue))return X(ue,Te);if((0,Et.T)(ue))return function F(ue,Te){return new ye.y(Ye=>{let Pe;return(0,B.f)(Ye,Te,()=>{Pe=ue[Ge.h](),(0,B.f)(Ye,Te,()=>{let De,We;try{({value:De,done:We}=Pe.next())}catch(Ii){return void Ye.error(Ii)}We?Ye.complete():Ye.next(De)},0,!0)}),()=>(0,ve.m)(Pe?.return)&&Pe.return()})}(ue,Te);if((0,rn.L)(ue))return function vn(ue,Te){return X((0,rn.Q)(ue),Te)}(ue,Te)}throw(0,gt.z)(ue)}(ue,Te):(0,y.Xf)(ue)}},4829:(lt,Ee,x)=>{x.d(Ee,{Xf:()=>Ae});var y=x(7582),W=x(4266),H=x(4026),K=x(5592),ne=x(8382),ye=x(5726),Ne=x(9853),Ge=x(3664),ve=x(541),B=x(4674),F=x(3894),X=x(4850);function Ae(ge){if(ge instanceof K.y)return ge;if(null!=ge){if((0,ne.c)(ge))return function _e(ge){return new K.y(Ce=>{const ue=ge[X.L]();if((0,B.m)(ue.subscribe))return ue.subscribe(Ce);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}(ge);if((0,W.z)(ge))return function je(ge){return new K.y(Ce=>{for(let ue=0;ue<ge.length&&!Ce.closed;ue++)Ce.next(ge[ue]);Ce.complete()})}(ge);if((0,H.t)(ge))return function Et(ge){return new K.y(Ce=>{ge.then(ue=>{Ce.closed||(Ce.next(ue),Ce.complete())},ue=>Ce.error(ue)).then(null,F.h)})}(ge);if((0,ye.D)(ge))return gt(ge);if((0,Ge.T)(ge))return function _t(ge){return new K.y(Ce=>{for(const ue of ge)if(Ce.next(ue),Ce.closed)return;Ce.complete()})}(ge);if((0,ve.L)(ge))return function rn(ge){return gt((0,ve.Q)(ge))}(ge)}throw(0,Ne.z)(ge)}function gt(ge){return new K.y(Ce=>{(function vn(ge,Ce){var ue,Te,Ye,Pe;return(0,y.mG)(this,void 0,void 0,function*(){try{for(ue=(0,y.KL)(ge);!(Te=yield ue.next()).done;)if(Ce.next(Te.value),Ce.closed)return}catch(De){Ye={error:De}}finally{try{Te&&!Te.done&&(Pe=ue.return)&&(yield Pe.call(ue))}finally{if(Ye)throw Ye.error}}Ce.complete()})})(ge,Ce).catch(ue=>Ce.error(ue))})}},2096:(lt,Ee,x)=>{x.d(Ee,{of:()=>H});var y=x(4564),W=x(2459);function H(...K){const ne=(0,y.yG)(K);return(0,W.D)(K,ne)}},8251:(lt,Ee,x)=>{x.d(Ee,{x:()=>W});var y=x(1887);function W(K,ne,ye,Ne,Ge){return new H(K,ne,ye,Ne,Ge)}class H extends y.Lv{constructor(ne,ye,Ne,Ge,ve,B){super(ne),this.onFinalize=ve,this.shouldUnsubscribe=B,this._next=ye?function(F){try{ye(F)}catch(X){ne.error(X)}}:super._next,this._error=Ge?function(F){try{Ge(F)}catch(X){ne.error(X)}finally{this.unsubscribe()}}:super._error,this._complete=Ne?function(){try{Ne()}catch(F){ne.error(F)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var ne;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){const{closed:ye}=this;super.unsubscribe(),!ye&&(null===(ne=this.onFinalize)||void 0===ne||ne.call(this))}}}},7398:(lt,Ee,x)=>{x.d(Ee,{U:()=>H});var y=x(9360),W=x(8251);function H(K,ne){return(0,y.e)((ye,Ne)=>{let Ge=0;ye.subscribe((0,W.x)(Ne,ve=>{Ne.next(K.call(ne,ve,Ge++))}))})}},7537:(lt,Ee,x)=>{x.d(Ee,{J:()=>H});var y=x(1631),W=x(2737);function H(K=1/0){return(0,y.z)(W.y,K)}},1631:(lt,Ee,x)=>{x.d(Ee,{z:()=>Ge});var y=x(7398),W=x(4829),H=x(9360),K=x(7103),ne=x(8251),Ne=x(4674);function Ge(ve,B,F=1/0){return(0,Ne.m)(B)?Ge((X,Ae)=>(0,y.U)((_e,je)=>B(X,_e,Ae,je))((0,W.Xf)(ve(X,Ae))),F):("number"==typeof B&&(F=B),(0,H.e)((X,Ae)=>function ye(ve,B,F,X,Ae,_e,je,Et){const _t=[];let gt=0,rn=0,vn=!1;const ge=()=>{vn&&!_t.length&&!gt&&B.complete()},Ce=Te=>gt<X?ue(Te):_t.push(Te),ue=Te=>{_e&&B.next(Te),gt++;let Ye=!1;(0,W.Xf)(F(Te,rn++)).subscribe((0,ne.x)(B,Pe=>{Ae?.(Pe),_e?Ce(Pe):B.next(Pe)},()=>{Ye=!0},void 0,()=>{if(Ye)try{for(gt--;_t.length&&gt<X;){const Pe=_t.shift();je?(0,K.f)(B,je,()=>ue(Pe)):ue(Pe)}ge()}catch(Pe){B.error(Pe)}}))};return ve.subscribe((0,ne.x)(B,Ce,()=>{vn=!0,ge()})),()=>{Et?.()}}(X,Ae,ve,F)))}},3093:(lt,Ee,x)=>{x.d(Ee,{Q:()=>K});var y=x(7103),W=x(9360),H=x(8251);function K(ne,ye=0){return(0,W.e)((Ne,Ge)=>{Ne.subscribe((0,H.x)(Ge,ve=>(0,y.f)(Ge,ne,()=>Ge.next(ve),ye),()=>(0,y.f)(Ge,ne,()=>Ge.complete(),ye),ve=>(0,y.f)(Ge,ne,()=>Ge.error(ve),ye)))})}},5137:(lt,Ee,x)=>{x.d(Ee,{R:()=>W});var y=x(9360);function W(H,K=0){return(0,y.e)((ne,ye)=>{ye.add(H.schedule(()=>ne.subscribe(ye),K))})}},4664:(lt,Ee,x)=>{x.d(Ee,{w:()=>K});var y=x(4829),W=x(9360),H=x(8251);function K(ne,ye){return(0,W.e)((Ne,Ge)=>{let ve=null,B=0,F=!1;const X=()=>F&&!ve&&Ge.complete();Ne.subscribe((0,H.x)(Ge,Ae=>{ve?.unsubscribe();let _e=0;const je=B++;(0,y.Xf)(ne(Ae,je)).subscribe(ve=(0,H.x)(Ge,Et=>Ge.next(ye?ye(Ae,Et,je,_e++):Et),()=>{ve=null,X()}))},()=>{F=!0,X()}))})}},9397:(lt,Ee,x)=>{x.d(Ee,{b:()=>ne});var y=x(4674),W=x(9360),H=x(8251),K=x(2737);function ne(ye,Ne,Ge){const ve=(0,y.m)(ye)||Ne||Ge?{next:ye,error:Ne,complete:Ge}:ye;return ve?(0,W.e)((B,F)=>{var X;null===(X=ve.subscribe)||void 0===X||X.call(ve);let Ae=!0;B.subscribe((0,H.x)(F,_e=>{var je;null===(je=ve.next)||void 0===je||je.call(ve,_e),F.next(_e)},()=>{var _e;Ae=!1,null===(_e=ve.complete)||void 0===_e||_e.call(ve),F.complete()},_e=>{var je;Ae=!1,null===(je=ve.error)||void 0===je||je.call(ve,_e),F.error(_e)},()=>{var _e,je;Ae&&(null===(_e=ve.unsubscribe)||void 0===_e||_e.call(ve)),null===(je=ve.finalize)||void 0===je||je.call(ve)}))}):K.y}},7599:(lt,Ee,x)=>{x.d(Ee,{z:()=>y});const y={setTimeout(W,H,...K){const{delegate:ne}=y;return ne?.setTimeout?ne.setTimeout(W,H,...K):setTimeout(W,H,...K)},clearTimeout(W){const{delegate:H}=y;return(H?.clearTimeout||clearTimeout)(W)},delegate:void 0}},4971:(lt,Ee,x)=>{x.d(Ee,{h:()=>W});const W=function y(){return"function"==typeof Symbol&&Symbol.iterator?Symbol.iterator:"@@iterator"}()},4850:(lt,Ee,x)=>{x.d(Ee,{L:()=>y});const y="function"==typeof Symbol&&Symbol.observable||"@@observable"},4564:(lt,Ee,x)=>{x.d(Ee,{_6:()=>ye,jO:()=>K,yG:()=>ne});var y=x(4674);function H(Ne){return Ne[Ne.length-1]}function K(Ne){return(0,y.m)(H(Ne))?Ne.pop():void 0}function ne(Ne){return function W(Ne){return Ne&&(0,y.m)(Ne.schedule)}(H(Ne))?Ne.pop():void 0}function ye(Ne,Ge){return"number"==typeof H(Ne)?Ne.pop():Ge}},9039:(lt,Ee,x)=>{function y(W,H){if(W){const K=W.indexOf(H);0<=K&&W.splice(K,1)}}x.d(Ee,{P:()=>y})},2306:(lt,Ee,x)=>{function y(W){const K=W(ne=>{Error.call(ne),ne.stack=(new Error).stack});return K.prototype=Object.create(Error.prototype),K.prototype.constructor=K,K}x.d(Ee,{d:()=>y})},1441:(lt,Ee,x)=>{x.d(Ee,{O:()=>K,x:()=>H});var y=x(2653);let W=null;function H(ne){if(y.config.useDeprecatedSynchronousErrorHandling){const ye=!W;if(ye&&(W={errorThrown:!1,error:null}),ne(),ye){const{errorThrown:Ne,error:Ge}=W;if(W=null,Ne)throw Ge}}else ne()}function K(ne){y.config.useDeprecatedSynchronousErrorHandling&&W&&(W.errorThrown=!0,W.error=ne)}},7103:(lt,Ee,x)=>{function y(W,H,K,ne=0,ye=!1){const Ne=H.schedule(function(){K(),ye?W.add(this.schedule(null,ne)):this.unsubscribe()},ne);if(W.add(Ne),!ye)return Ne}x.d(Ee,{f:()=>y})},2737:(lt,Ee,x)=>{function y(W){return W}x.d(Ee,{y:()=>y})},4266:(lt,Ee,x)=>{x.d(Ee,{z:()=>y});const y=W=>W&&"number"==typeof W.length&&"function"!=typeof W},5726:(lt,Ee,x)=>{x.d(Ee,{D:()=>W});var y=x(4674);function W(H){return Symbol.asyncIterator&&(0,y.m)(H?.[Symbol.asyncIterator])}},4674:(lt,Ee,x)=>{function y(W){return"function"==typeof W}x.d(Ee,{m:()=>y})},8382:(lt,Ee,x)=>{x.d(Ee,{c:()=>H});var y=x(4850),W=x(4674);function H(K){return(0,W.m)(K[y.L])}},3664:(lt,Ee,x)=>{x.d(Ee,{T:()=>H});var y=x(4971),W=x(4674);function H(K){return(0,W.m)(K?.[y.h])}},4026:(lt,Ee,x)=>{x.d(Ee,{t:()=>W});var y=x(4674);function W(H){return(0,y.m)(H?.then)}},541:(lt,Ee,x)=>{x.d(Ee,{L:()=>K,Q:()=>H});var y=x(7582),W=x(4674);function H(ne){return(0,y.FC)(this,arguments,function*(){const Ne=ne.getReader();try{for(;;){const{value:Ge,done:ve}=yield(0,y.qq)(Ne.read());if(ve)return yield(0,y.qq)(void 0);yield yield(0,y.qq)(Ge)}}finally{Ne.releaseLock()}})}function K(ne){return(0,W.m)(ne?.getReader)}},9360:(lt,Ee,x)=>{x.d(Ee,{A:()=>W,e:()=>H});var y=x(4674);function W(K){return(0,y.m)(K?.lift)}function H(K){return ne=>{if(W(ne))return ne.lift(function(ye){try{return K(ye,this)}catch(Ne){this.error(Ne)}});throw new TypeError("Unable to lift unknown Observable type")}}},8407:(lt,Ee,x)=>{x.d(Ee,{U:()=>H,z:()=>W});var y=x(2737);function W(...K){return H(K)}function H(K){return 0===K.length?y.y:1===K.length?K[0]:function(ye){return K.reduce((Ne,Ge)=>Ge(Ne),ye)}}},3894:(lt,Ee,x)=>{x.d(Ee,{h:()=>H});var y=x(2653),W=x(7599);function H(K){W.z.setTimeout(()=>{const{onUnhandledError:ne}=y.config;if(!ne)throw K;ne(K)})}},9853:(lt,Ee,x)=>{function y(W){return new TypeError(`You provided ${null!==W&&"object"==typeof W?"an invalid object":`'${W}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}x.d(Ee,{z:()=>y})},4946:(lt,Ee,x)=>{x.d(Ee,{tb:()=>zh,AFp:()=>g_,ip1:()=>IT,hGG:()=>Ha,z2F:()=>po,Ojb:()=>xC,sBO:()=>aN,Sil:()=>UF,EJc:()=>FF,Xts:()=>Qd,SBq:()=>oc,lqb:()=>tc,qLn:()=>xa,vpe:()=>ws,XFs:()=>be,OlP:()=>Xt,zs3:()=>zo,ZZ4:()=>hm,aQg:()=>Kh,soG:()=>qg,YKP:()=>Gv,h0i:()=>rl,PXZ:()=>Vn,R0b:()=>fi,FiY:()=>qi,Lbi:()=>m_,g9A:()=>Mp,Qsj:()=>VC,FYo:()=>E_,JOm:()=>ds,tp0:()=>Ld,Rgc:()=>Vh,dDg:()=>$a,eoX:()=>Lc,q4F:()=>Op,GfV:()=>C_,s_b:()=>sw,ifc:()=>ze,VuI:()=>Gw,MMx:()=>Jo,Lck:()=>Hv,eFA:()=>Xg,Gpc:()=>Pe,f3M:()=>Mt,X6Q:()=>sN,$WT:()=>Ys,_c5:()=>GT,qFp:()=>zw,rg0:()=>Cy,c2e:()=>CT,zSh:()=>f_,HDt:()=>Jx,wAp:()=>st,vHH:()=>Be,lri:()=>xe,rWj:()=>js,cg1:()=>Mc,kL8:()=>Va,dqk:()=>en,Z0I:()=>Gr,eJc:()=>Hg,QGY:()=>iv,F4k:()=>$0,RDi:()=>mA,AaK:()=>ue,qOj:()=>j_,Xq5:()=>I0,TTD:()=>md,_Bn:()=>jv,jDz:()=>mx,xp6:()=>XC,uIk:()=>Yi,ekj:()=>Ev,Suo:()=>oT,Xpm:()=>Mr,lG2:()=>ay,Yz7:()=>wn,cJS:()=>nt,oAB:()=>wl,Yjl:()=>Sf,Y36:()=>$u,_UZ:()=>tv,qZA:()=>eg,TgZ:()=>Jp,n5z:()=>Ly,LFG:()=>Wt,$8M:()=>eo,$Z:()=>ih,NdJ:()=>sv,CRH:()=>fw,Q6J:()=>Xp,iGM:()=>Ax,P3R:()=>TA,_uU:()=>sD});var y=x(8645),W=x(7394),H=x(5619),K=x(5592),ne=x(7537),ye=x(4829),Ne=x(6232),Ge=x(4564),ve=x(2459),F=x(2096),X=x(1887),Ae=x(9360);function _e(s={}){const{connector:o=(()=>new y.x),resetOnError:u=!0,resetOnComplete:c=!0,resetOnRefCountZero:d=!0}=s;return f=>{let g,_,w,D=0,b=!1,M=!1;const O=()=>{_?.unsubscribe(),_=void 0},$=()=>{O(),g=w=void 0,b=M=!1},ie=()=>{const fe=g;$(),fe?.unsubscribe()};return(0,Ae.e)((fe,Me)=>{D++,!M&&!b&&O();const Ze=w=w??o();Me.add(()=>{D--,0===D&&!M&&!b&&(_=je(ie,d))}),Ze.subscribe(Me),!g&&D>0&&(g=new X.Hp({next:ae=>Ze.next(ae),error:ae=>{M=!0,O(),_=je($,u,ae),Ze.error(ae)},complete:()=>{b=!0,O(),_=je($,c),Ze.complete()}}),(0,ye.Xf)(fe).subscribe(g))})(f)}}function je(s,o,...u){if(!0===o)return void s();if(!1===o)return;const c=new X.Hp({next:()=>{c.unsubscribe(),s()}});return(0,ye.Xf)(o(...u)).subscribe(c)}var Et=x(4664),_t=x(2737),gt=x(8251);function vn(s,o){return s===o}function ge(s){for(let o in s)if(s[o]===ge)return o;throw Error("Could not find renamed property on target object.")}function Ce(s,o){for(const u in o)o.hasOwnProperty(u)&&!s.hasOwnProperty(u)&&(s[u]=o[u])}function ue(s){if("string"==typeof s)return s;if(Array.isArray(s))return"["+s.map(ue).join(", ")+"]";if(null==s)return""+s;if(s.overriddenName)return`${s.overriddenName}`;if(s.name)return`${s.name}`;const o=s.toString();if(null==o)return""+o;const u=o.indexOf("\n");return-1===u?o:o.substring(0,u)}function Te(s,o){return null==s||""===s?null===o?"":o:null==o||""===o?s:s+" "+o}const Ye=ge({__forward_ref__:ge});function Pe(s){return s.__forward_ref__=Pe,s.toString=function(){return ue(this())},s}function De(s){return We(s)?s():s}function We(s){return"function"==typeof s&&s.hasOwnProperty(Ye)&&s.__forward_ref__===Pe}function Ii(s){return s&&!!s.\u0275providers}const Ci="https://g.co/ng/security#xss";class Be extends Error{constructor(o,u){super(function Pn(s,o){return`NG0${Math.abs(s)}${o?": "+o:""}`}(o,u)),this.code=o}}function we(s){return"string"==typeof s?s:null==s?"":String(s)}function te(s,o){throw new Be(-201,!1)}function En(s,o){null==s&&function Vt(s,o,u,c){throw new Error(`ASSERTION ERROR: ${s}`+(null==c?"":` [Expected=> ${u} ${c} ${o} <=Actual]`))}(o,s,null,"!=")}function wn(s){return{token:s.token,providedIn:s.providedIn||null,factory:s.factory,value:void 0}}function nt(s){return{providers:s.providers||[],imports:s.imports||[]}}function rt(s){return Sr(s,Dn)||Sr(s,Jt)}function Gr(s){return null!==rt(s)}function Sr(s,o){return s.hasOwnProperty(o)?s[o]:null}function Di(s){return s&&(s.hasOwnProperty(Eo)||s.hasOwnProperty(es))?s[Eo]:null}const Dn=ge({\u0275prov:ge}),Eo=ge({\u0275inj:ge}),Jt=ge({ngInjectableDef:ge}),es=ge({ngInjectorDef:ge});var be=(()=>((be=be||{})[be.Default=0]="Default",be[be.Host=1]="Host",be[be.Self=2]="Self",be[be.SkipSelf=4]="SkipSelf",be[be.Optional=8]="Optional",be))();let Io;function Bn(s){const o=Io;return Io=s,o}function Hr(s,o,u){const c=rt(s);return c&&"root"==c.providedIn?void 0===c.value?c.value=c.factory():c.value:u&be.Optional?null:void 0!==o?o:void te(ue(s))}const en=(()=>typeof globalThis<"u"&&globalThis||typeof global<"u"&&global||typeof window<"u"&&window||typeof self<"u"&&typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&self)(),ts={},bi="__NG_DI_FLAG__",ns="ngTempTokenPath",R=/\n/gm,le="__source";let Y;function at(s){const o=Y;return Y=s,o}function Gt(s,o=be.Default){if(void 0===Y)throw new Be(-203,!1);return null===Y?Hr(s,void 0,o):Y.get(s,o&be.Optional?null:void 0,o)}function Wt(s,o=be.Default){return(function Ts(){return Io}()||Gt)(De(s),o)}function Mt(s,o=be.Default){return Wt(s,Nt(o))}function Nt(s){return typeof s>"u"||"number"==typeof s?s:0|(s.optional&&8)|(s.host&&1)|(s.self&&2)|(s.skipSelf&&4)}function or(s){const o=[];for(let u=0;u<s.length;u++){const c=De(s[u]);if(Array.isArray(c)){if(0===c.length)throw new Be(900,!1);let d,f=be.Default;for(let g=0;g<c.length;g++){const _=c[g],w=qs(_);"number"==typeof w?-1===w?d=_.token:f|=w:d=_}o.push(Wt(d,f))}else o.push(Wt(c))}return o}function zr(s,o){return s[bi]=o,s.prototype[bi]=o,s}function qs(s){return s[bi]}function z(s){return{toString:s}.toString()}var he=(()=>((he=he||{})[he.OnPush=0]="OnPush",he[he.Default=1]="Default",he))(),ze=(()=>{return(s=ze||(ze={}))[s.Emulated=0]="Emulated",s[s.None=2]="None",s[s.ShadowDom=3]="ShadowDom",ze;var s})();const it={},Ve=[],Bt=ge({\u0275cmp:ge}),jn=ge({\u0275dir:ge}),Tn=ge({\u0275pipe:ge}),Ks=ge({\u0275mod:ge}),oi=ge({\u0275fac:ge}),bs=ge({__NG_ELEMENT_ID__:ge}),nd=ge({__NG_ENV_ID__:ge});function vl(s,o,u){let c=s.length;for(;;){const d=s.indexOf(o,u);if(-1===d)return d;if(0===d||s.charCodeAt(d-1)<=32){const f=o.length;if(d+f===c||s.charCodeAt(d+f)<=32)return d}u=d+1}}function rd(s,o,u){let c=0;for(;c<u.length;){const d=u[c];if("number"==typeof d){if(0!==d)break;c++;const f=u[c++],g=u[c++],_=u[c++];s.setAttribute(o,g,_,f)}else{const f=d,g=u[++c];Ef(f)?s.setProperty(o,f,g):s.setAttribute(o,f,g),c++}}return c}function tu(s){return 3===s||4===s||6===s}function Ef(s){return 64===s.charCodeAt(0)}function Co(s,o){if(null!==o&&0!==o.length)if(null===s||0===s.length)s=o.slice();else{let u=-1;for(let c=0;c<o.length;c++){const d=o[c];"number"==typeof d?u=d:0===u||id(s,u,d,null,-1===u||2===u?o[++c]:null)}}return s}function id(s,o,u,c,d){let f=0,g=s.length;if(-1===o)g=-1;else for(;f<s.length;){const _=s[f++];if("number"==typeof _){if(_===o){g=-1;break}if(_>o){g=f-1;break}}}for(;f<s.length;){const _=s[f];if("number"==typeof _)break;if(_===u){if(null===c)return void(null!==d&&(s[f+1]=d));if(c===s[f+1])return void(s[f+2]=d)}f++,null!==c&&f++,null!==d&&f++}-1!==g&&(s.splice(g,0,o),f=g+1),s.splice(f++,0,u),null!==c&&s.splice(f++,0,c),null!==d&&s.splice(f++,0,d)}const sI="ng-template";function sd(s,o,u){let c=0,d=!0;for(;c<s.length;){let f=s[c++];if("string"==typeof f&&d){const g=s[c++];if(u&&"class"===f&&-1!==vl(g.toLowerCase(),o,0))return!0}else{if(1===f){for(;c<s.length&&"string"==typeof(f=s[c++]);)if(f.toLowerCase()===o)return!0;return!1}"number"==typeof f&&(d=!1)}}return!1}function ey(s){return 4===s.type&&s.value!==sI}function ty(s,o,u){return o===(4!==s.type||u?s.value:sI)}function od(s,o,u){let c=4;const d=s.attrs||[],f=function Df(s){for(let o=0;o<s.length;o++)if(tu(s[o]))return o;return s.length}(d);let g=!1;for(let _=0;_<o.length;_++){const w=o[_];if("number"!=typeof w){if(!g)if(4&c){if(c=2|1&c,""!==w&&!ty(s,w,u)||""===w&&1===o.length){if(Ar(c))return!1;g=!0}}else{const D=8&c?w:o[++_];if(8&c&&null!==s.attrs){if(!sd(s.attrs,D,u)){if(Ar(c))return!1;g=!0}continue}const M=If(8&c?"class":w,d,ey(s),u);if(-1===M){if(Ar(c))return!1;g=!0;continue}if(""!==D){let O;O=M>f?"":d[M+1].toLowerCase();const $=8&c?O:null;if($&&-1!==vl($,D,0)||2&c&&D!==O){if(Ar(c))return!1;g=!0}}}}else{if(!g&&!Ar(c)&&!Ar(w))return!1;if(g&&Ar(w))continue;g=!1,c=w|1&c}}return Ar(c)||g}function Ar(s){return 0==(1&s)}function If(s,o,u,c){if(null===o)return-1;let d=0;if(c||!u){let f=!1;for(;d<o.length;){const g=o[d];if(g===s)return d;if(3===g||6===g)f=!0;else{if(1===g||2===g){let _=o[++d];for(;"string"==typeof _;)_=o[++d];continue}if(4===g)break;if(0===g){d+=4;continue}}d+=f?1:2}return-1}return function aI(s,o){let u=s.indexOf(4);if(u>-1)for(u++;u<s.length;){const c=s[u];if("number"==typeof c)return-1;if(c===o)return u;u++}return-1}(o,s)}function Cf(s,o,u=!1){for(let c=0;c<o.length;c++)if(od(s,o[c],u))return!0;return!1}function bf(s,o){return s?":not("+o.trim()+")":o}function uI(s){let o=s[0],u=1,c=2,d="",f=!1;for(;u<s.length;){let g=s[u];if("string"==typeof g)if(2&c){const _=s[++u];d+="["+g+(_.length>0?'="'+_+'"':"")+"]"}else 8&c?d+="."+g:4&c&&(d+=" "+g);else""!==d&&!Ar(g)&&(o+=bf(f,d),d=""),c=g,f=f||!Ar(c);u++}return""!==d&&(o+=bf(f,d)),o}function Mr(s){return z(()=>{const o=uy(s),u={...o,decls:s.decls,vars:s.vars,template:s.template,consts:s.consts||null,ngContentSelectors:s.ngContentSelectors,onPush:s.changeDetection===he.OnPush,directiveDefs:null,pipeDefs:null,dependencies:o.standalone&&s.dependencies||null,getStandaloneInjector:null,signals:s.signals??!1,data:s.data||{},encapsulation:s.encapsulation||ze.Emulated,styles:s.styles||Ve,_:null,schemas:s.schemas||null,tView:null,id:""};ly(u);const c=s.dependencies;return u.directiveDefs=ad(c,!1),u.pipeDefs=ad(c,!0),u.id=function cy(s){let o=0;const u=[s.selectors,s.ngContentSelectors,s.hostVars,s.hostAttrs,s.consts,s.vars,s.decls,s.encapsulation,s.standalone,s.signals,s.exportAs,JSON.stringify(s.inputs),JSON.stringify(s.outputs),Object.getOwnPropertyNames(s.type.prototype),!!s.contentQueries,!!s.viewQuery].join("|");for(const d of u)o=Math.imul(31,o)+d.charCodeAt(0)<<0;return o+=2147483648,"c"+o}(u),u})}function iy(s){return $t(s)||yr(s)}function sy(s){return null!==s}function wl(s){return z(()=>({type:s.type,bootstrap:s.bootstrap||Ve,declarations:s.declarations||Ve,imports:s.imports||Ve,exports:s.exports||Ve,transitiveCompileScopes:null,schemas:s.schemas||null,id:s.id||null}))}function El(s,o){if(null==s)return it;const u={};for(const c in s)if(s.hasOwnProperty(c)){let d=s[c],f=d;Array.isArray(d)&&(f=d[1],d=d[0]),u[d]=c,o&&(o[d]=f)}return u}function ay(s){return z(()=>{const o=uy(s);return ly(o),o})}function Sf(s){return{type:s.type,name:s.name,factory:null,pure:!1!==s.pure,standalone:!0===s.standalone,onDestroy:s.type.prototype.ngOnDestroy||null}}function $t(s){return s[Bt]||null}function yr(s){return s[jn]||null}function Wr(s){return s[Tn]||null}function Ys(s){const o=$t(s)||yr(s)||Wr(s);return null!==o&&o.standalone}function Ai(s,o){const u=s[Ks]||null;if(!u&&!0===o)throw new Error(`Type ${ue(s)} does not have '\u0275mod' property.`);return u}function uy(s){const o={};return{type:s.type,providersResolver:null,factory:null,hostBindings:s.hostBindings||null,hostVars:s.hostVars||0,hostAttrs:s.hostAttrs||null,contentQueries:s.contentQueries||null,declaredInputs:o,inputTransforms:null,inputConfig:s.inputs||it,exportAs:s.exportAs||null,standalone:!0===s.standalone,signals:!0===s.signals,selectors:s.selectors||Ve,viewQuery:s.viewQuery||null,features:s.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:El(s.inputs,o),outputs:El(s.outputs)}}function ly(s){s.features?.forEach(o=>o(s))}function ad(s,o){if(!s)return null;const u=o?Wr:iy;return()=>("function"==typeof s?s():s).map(c=>u(c)).filter(sy)}const Gn=0,$e=1,vt=2,dn=3,ai=4,Cl=5,xr=6,oa=7,bn=8,aa=9,rs=10,ct=11,Dl=12,ud=13,nu=14,Hn=15,Tl=16,ua=17,Ss=18,Qs=19,Af=20,As=21,Ms=22,bl=23,Do=24,Ot=25,Sl=1,Al=2,qr=7,To=9,_r=11;function Mi(s){return Array.isArray(s)&&"object"==typeof s[Sl]}function Kr(s){return Array.isArray(s)&&!0===s[Sl]}function ld(s){return 0!=(4&s.flags)}function Nr(s){return s.componentOffset>-1}function iu(s){return 1==(1&s.flags)}function Gi(s){return!!s.template}function su(s){return 0!=(512&s[vt])}function So(s,o){return s.hasOwnProperty(oi)?s[oi]:null}let Nl=en.WeakRef??class hd{constructor(o){this.ref=o}deref(){return this.ref}},wy=0,ui=null,ou=!1;function ar(s){const o=ui;return ui=s,o}class ur{constructor(){this.id=wy++,this.ref=function Nf(s){return new Nl(s)}(this),this.producers=new Map,this.consumers=new Map,this.trackingVersion=0,this.valueVersion=0}consumerPollProducersForChange(){for(const[o,u]of this.producers){const c=u.producerNode.deref();if(void 0!==c&&u.atTrackingVersion===this.trackingVersion){if(c.producerPollStatus(u.seenValueVersion))return!0}else this.producers.delete(o),c?.consumers.delete(this.id)}return!1}producerMayHaveChanged(){const o=ou;ou=!0;try{for(const[u,c]of this.consumers){const d=c.consumerNode.deref();void 0!==d&&d.trackingVersion===c.atTrackingVersion?d.onConsumerDependencyMayHaveChanged():(this.consumers.delete(u),d?.producers.delete(this.id))}}finally{ou=o}}producerAccessed(){if(ou)throw new Error("");if(null===ui)return;let o=ui.producers.get(this.id);void 0===o?(o={consumerNode:ui.ref,producerNode:this.ref,seenValueVersion:this.valueVersion,atTrackingVersion:ui.trackingVersion},ui.producers.set(this.id,o),this.consumers.set(ui.id,o)):(o.seenValueVersion=this.valueVersion,o.atTrackingVersion=ui.trackingVersion)}get hasProducers(){return this.producers.size>0}get producerUpdatesAllowed(){return!1!==ui?.consumerAllowSignalWrites}producerPollStatus(o){return this.valueVersion!==o||(this.onProducerUpdateValueVersion(),this.valueVersion!==o)}}let fd=null;function Cy(s){const o=ar(null);try{return s()}finally{ar(o)}}const gd=()=>{};class pI extends ur{constructor(o,u,c){super(),this.watch=o,this.schedule=u,this.dirty=!1,this.cleanupFn=gd,this.registerOnCleanup=d=>{this.cleanupFn=d},this.consumerAllowSignalWrites=c}notify(){this.dirty||this.schedule(this),this.dirty=!0}onConsumerDependencyMayHaveChanged(){this.notify()}onProducerUpdateValueVersion(){}run(){if(this.dirty=!1,0!==this.trackingVersion&&!this.consumerPollProducersForChange())return;const o=ar(this);this.trackingVersion++;try{this.cleanupFn(),this.cleanupFn=gd,this.watch(this.registerOnCleanup)}finally{ar(o)}}cleanup(){this.cleanupFn()}}class kf{constructor(o,u,c){this.previousValue=o,this.currentValue=u,this.firstChange=c}isFirstChange(){return this.firstChange}}function md(){return yd}function yd(s){return s.type.prototype.ngOnChanges&&(s.setInput=_d),kl}function kl(){const s=Ao(this),o=s?.current;if(o){const u=s.previous;if(u===it)s.previous=o;else for(let c in o)u[c]=o[c];s.current=null,this.ngOnChanges(o)}}function _d(s,o,u,c){const d=this.declaredInputs[u],f=Ao(s)||function Dy(s,o){return s[Ol]=o}(s,{previous:it,current:null}),g=f.current||(f.current={}),_=f.previous,w=_[d];g[d]=new kf(w&&w.currentValue,o,_===it),s[c]=o}md.ngInherit=!0;const Ol="__ngSimpleChanges__";function Ao(s){return s[Ol]||null}const ss=function(s,o,u){};function tn(s){for(;Array.isArray(s);)s=s[Gn];return s}function lr(s,o){return tn(o[s.index])}function ha(s,o){return s.data[o]}function Rr(s,o){const u=o[s];return Mi(u)?u:u[Gn]}function os(s,o){return null==o?null:s[o]}function Lf(s){s[ua]=0}function Vf(s){1024&s[vt]||(s[vt]|=1024,cu(s,1))}function lu(s){1024&s[vt]&&(s[vt]&=-1025,cu(s,-1))}function cu(s,o){let u=s[dn];if(null===u)return;u[Cl]+=o;let c=u;for(u=u[dn];null!==u&&(1===o&&1===c[Cl]||-1===o&&0===c[Cl]);)u[Cl]+=o,c=u,u=u[dn]}const ft={lFrame:Md(null),bindingsEnabled:!0,skipHydrationRootTNode:null};function Bf(){return ft.bindingsEnabled}function ce(){return ft.lFrame.lView}function Ut(){return ft.lFrame.tView}function zn(){let s=Wn();for(;null!==s&&64===s.type;)s=s.parent;return s}function Wn(){return ft.lFrame.currentTNode}function hn(s,o){const u=ft.lFrame;u.currentTNode=s,u.isParent=o}function Td(){return ft.lFrame.isParent}function Zs(){return ft.lFrame.bindingIndex++}function yI(s,o){const u=ft.lFrame;u.bindingIndex=u.bindingRootIndex=s,Hf(o)}function Hf(s){ft.lFrame.currentDirectiveIndex=s}function Ny(){return ft.lFrame.currentQueryIndex}function zf(s){ft.lFrame.currentQueryIndex=s}function Wf(s){const o=s[$e];return 2===o.type?o.declTNode:1===o.type?s[xr]:null}function Ry(s,o,u){if(u&be.SkipSelf){let d=o,f=s;for(;!(d=d.parent,null!==d||u&be.Host||(d=Wf(f),null===d||(f=f[nu],10&d.type))););if(null===d)return!1;o=d,s=f}const c=ft.lFrame=qf();return c.currentTNode=o,c.lView=s,!0}function Bl(s){const o=qf(),u=s[$e];ft.lFrame=o,o.currentTNode=u.firstChild,o.lView=s,o.tView=u,o.contextLView=s,o.bindingIndex=u.bindingStartIndex,o.inI18n=!1}function qf(){const s=ft.lFrame,o=null===s?null:s.child;return null===o?Md(s):o}function Md(s){const o={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:s,child:null,inI18n:!1};return null!==s&&(s.child=o),o}function Py(){const s=ft.lFrame;return ft.lFrame=s.parent,s.currentTNode=null,s.lView=null,s}const Kf=Py;function $l(){const s=Py();s.isParent=!0,s.tView=null,s.selectedIndex=-1,s.contextLView=null,s.elementDepthCount=0,s.currentDirectiveIndex=-1,s.currentNamespace=null,s.bindingRootIndex=-1,s.bindingIndex=-1,s.currentQueryIndex=0}function wr(){return ft.lFrame.selectedIndex}function pa(s){ft.lFrame.selectedIndex=s}function _n(){const s=ft.lFrame;return ha(s.tView,s.selectedIndex)}let qn=!0;function pt(){return qn}function On(s){qn=s}function hu(s,o){for(let u=o.directiveStart,c=o.directiveEnd;u<c;u++){const f=s.data[u].type.prototype,{ngAfterContentInit:g,ngAfterContentChecked:_,ngAfterViewInit:w,ngAfterViewChecked:D,ngOnDestroy:b}=f;g&&(s.contentHooks??=[]).push(-u,g),_&&((s.contentHooks??=[]).push(u,_),(s.contentCheckHooks??=[]).push(u,_)),w&&(s.viewHooks??=[]).push(-u,w),D&&((s.viewHooks??=[]).push(u,D),(s.viewCheckHooks??=[]).push(u,D)),null!=b&&(s.destroyHooks??=[]).push(u,b)}}function fu(s,o,u){Xf(s,o,3,u)}function jl(s,o,u,c){(3&s[vt])===u&&Xf(s,o,u,c)}function ya(s,o){let u=s[vt];(3&u)===o&&(u&=8191,u+=1,s[vt]=u)}function Xf(s,o,u,c){const f=c??-1,g=o.length-1;let _=0;for(let w=void 0!==c?65535&s[ua]:0;w<g;w++)if("number"==typeof o[w+1]){if(_=o[w],null!=c&&_>=c)break}else o[w]<0&&(s[ua]+=65536),(_<f||-1==f)&&(un(s,u,o,w),s[ua]=(4294901760&s[ua])+w+2),w++}function No(s,o){ss(4,s,o);const u=ar(null);try{o.call(s)}finally{ar(u),ss(5,s,o)}}function un(s,o,u,c){const d=u[c]<0,f=u[c+1],_=s[d?-u[c]:u[c]];d?s[vt]>>13<s[ua]>>16&&(3&s[vt])===o&&(s[vt]+=8192,No(_,f)):No(_,f)}const Pr=-1;class _a{constructor(o,u,c){this.factory=o,this.resolving=!1,this.canSeeViewProviders=u,this.injectImpl=c}}function Jf(s){return s!==Pr}function va(s){return 32767&s}function Gl(s,o){let u=function mu(s){return s>>16}(s),c=o;for(;u>0;)c=c[nu],u--;return c}let Po=!0;function yu(s){const o=Po;return Po=s,o}const Hl=255,_u=5;let ko=0;const us={};function wa(s,o){const u=Oo(s,o);if(-1!==u)return u;const c=o[$e];c.firstCreatePass&&(s.injectorIndex=o.length,Rd(c.data,s),Rd(o,null),Rd(c.blueprint,null));const d=Ni(s,o),f=s.injectorIndex;if(Jf(d)){const g=va(d),_=Gl(d,o),w=_[$e].data;for(let D=0;D<8;D++)o[f+D]=_[g+D]|w[g+D]}return o[f+8]=d,f}function Rd(s,o){s.push(0,0,0,0,0,0,0,0,o)}function Oo(s,o){return-1===s.injectorIndex||s.parent&&s.parent.injectorIndex===s.injectorIndex||null===o[s.injectorIndex+8]?-1:s.injectorIndex}function Ni(s,o){if(s.parent&&-1!==s.parent.injectorIndex)return s.parent.injectorIndex;let u=0,c=null,d=o;for(;null!==d;){if(c=wt(d),null===c)return Pr;if(u++,d=d[nu],-1!==c.injectorIndex)return c.injectorIndex|u<<16}return Pr}function Xs(s,o,u){!function ls(s,o,u){let c;"string"==typeof u?c=u.charCodeAt(0)||0:u.hasOwnProperty(bs)&&(c=u[bs]),null==c&&(c=u[bs]=ko++);const d=c&Hl;o.data[s+(d>>_u)]|=1<<d}(s,o,u)}function Rs(s,o,u){if(u&be.Optional||void 0!==s)return s;te()}function Kn(s,o,u,c){if(u&be.Optional&&void 0===c&&(c=null),!(u&(be.Self|be.Host))){const d=s[aa],f=Bn(void 0);try{return d?d.get(o,c,u&be.Optional):Hr(o,c,u&be.Optional)}finally{Bn(f)}}return Rs(c,0,u)}function vu(s,o,u,c=be.Default,d){if(null!==s){if(2048&o[vt]&&!(c&be.Self)){const g=function kd(s,o,u,c,d){let f=s,g=o;for(;null!==f&&null!==g&&2048&g[vt]&&!(512&g[vt]);){const _=zl(f,g,u,c|be.Self,us);if(_!==us)return _;let w=f.parent;if(!w){const D=g[Af];if(D){const b=D.get(u,us,c);if(b!==us)return b}w=wt(g),g=g[nu]}f=w}return d}(s,o,u,c,us);if(g!==us)return g}const f=zl(s,o,u,c,us);if(f!==us)return f}return Kn(o,u,c,d)}function zl(s,o,u,c,d){const f=function Er(s){if("string"==typeof s)return s.charCodeAt(0)||0;const o=s.hasOwnProperty(bs)?s[bs]:void 0;return"number"==typeof o?o>=0?o&Hl:Pd:o}(u);if("function"==typeof f){if(!Ry(o,s,c))return c&be.Host?Rs(d,0,c):Kn(o,u,c,d);try{const g=f(c);if(null!=g||c&be.Optional)return g;te()}finally{Kf()}}else if("number"==typeof f){let g=null,_=Oo(s,o),w=Pr,D=c&be.Host?o[Hn][xr]:null;for((-1===_||c&be.SkipSelf)&&(w=-1===_?Ni(s,o):o[_+8],w!==Pr&&ep(c,!1)?(g=o[$e],_=va(w),o=Gl(w,o)):_=-1);-1!==_;){const b=o[$e];if(Js(f,_,b.data)){const M=Fy(_,o,u,g,c,D);if(M!==us)return M}w=o[_+8],w!==Pr&&ep(c,o[$e].data[_+8]===D)&&Js(f,_,o)?(g=b,_=va(w),o=Gl(w,o)):_=-1}}return d}function Fy(s,o,u,c,d,f){const g=o[$e],_=g.data[s+8],b=zi(_,g,u,null==c?Nr(_)&&Po:c!=g&&0!=(3&_.type),d&be.Host&&f===_);return null!==b?kr(o,g,b,_):us}function zi(s,o,u,c,d){const f=s.providerIndexes,g=o.data,_=1048575&f,w=s.directiveStart,b=f>>20,O=d?_+b:s.directiveEnd;for(let $=c?_:_+b;$<O;$++){const ie=g[$];if($<w&&u===ie||$>=w&&ie.type===u)return $}if(d){const $=g[w];if($&&Gi($)&&$.type===u)return w}return null}function kr(s,o,u,c){let d=s[u];const f=o.data;if(function Nd(s){return s instanceof _a}(d)){const g=d;g.resolving&&function j(s,o){const u=o?`. Dependency path: ${o.join(" > ")} > ${s}`:"";throw new Be(-200,`Circular dependency in DI detected for ${s}${u}`)}(function Re(s){return"function"==typeof s?s.name||s.toString():"object"==typeof s&&null!=s&&"function"==typeof s.type?s.type.name||s.type.toString():we(s)}(f[u]));const _=yu(g.canSeeViewProviders);g.resolving=!0;const w=g.injectImpl?Bn(g.injectImpl):null;Ry(s,c,be.Default);try{d=s[u]=g.factory(void 0,f,s,c),o.firstCreatePass&&u>=c.directiveStart&&function xd(s,o,u){const{ngOnChanges:c,ngOnInit:d,ngDoCheck:f}=o.type.prototype;if(c){const g=yd(o);(u.preOrderHooks??=[]).push(s,g),(u.preOrderCheckHooks??=[]).push(s,g)}d&&(u.preOrderHooks??=[]).push(0-s,d),f&&((u.preOrderHooks??=[]).push(s,f),(u.preOrderCheckHooks??=[]).push(s,f))}(u,f[u],o)}finally{null!==w&&Bn(w),yu(_),g.resolving=!1,Kf()}}return d}function Js(s,o,u){return!!(u[o+(s>>_u)]&1<<s)}function ep(s,o){return!(s&be.Self||s&be.Host&&o)}class wu{constructor(o,u){this._tNode=o,this._lView=u}get(o,u,c){return vu(this._tNode,this._lView,o,Nt(c),u)}}function Pd(){return new wu(zn(),ce())}function Ly(s){return z(()=>{const o=s.prototype.constructor,u=o[oi]||Wl(o),c=Object.prototype;let d=Object.getPrototypeOf(s.prototype).constructor;for(;d&&d!==c;){const f=d[oi]||Wl(d);if(f&&f!==u)return f;d=Object.getPrototypeOf(d)}return f=>new f})}function Wl(s){return We(s)?()=>{const o=Wl(De(s));return o&&o()}:So(s)}function wt(s){const o=s[$e],u=o.type;return 2===u?o.declTNode:1===u?s[xr]:null}function eo(s){return function Oy(s,o){if("class"===o)return s.classes;if("style"===o)return s.styles;const u=s.attrs;if(u){const c=u.length;let d=0;for(;d<c;){const f=u[d];if(tu(f))break;if(0===f)d+=2;else if("number"==typeof f)for(d++;d<c&&"string"==typeof u[d];)d++;else{if(f===o)return u[d+1];d+=2}}}return null}(zn(),s)}const li="__parameters__";function Ps(s,o,u){return z(()=>{const c=function Yr(s){return function(...u){if(s){const c=s(...u);for(const d in c)this[d]=c[d]}}}(o);function d(...f){if(this instanceof d)return c.apply(this,f),this;const g=new d(...f);return _.annotation=g,_;function _(w,D,b){const M=w.hasOwnProperty(li)?w[li]:Object.defineProperty(w,li,{value:[]})[li];for(;M.length<=b;)M.push(null);return(M[b]=M[b]||[]).push(g),w}}return u&&(d.prototype=Object.create(u.prototype)),d.prototype.ngMetadataName=s,d.annotationCls=d,d})}function Iu(s,o){s.forEach(u=>Array.isArray(u)?Iu(u,o):o(u))}function Ia(s,o,u){o>=s.length?s.push(u):s.splice(o,0,u)}function Ca(s,o){return o>=s.length-1?s.pop():s.splice(o,1)[0]}function P(s,o,u){let c=Z(s,o);return c>=0?s[1|c]=u:(c=~c,function T(s,o,u,c){let d=s.length;if(d==o)s.push(u,c);else if(1===d)s.push(c,s[0]),s[0]=u;else{for(d--,s.push(s[d-1],s[d]);d>o;)s[d]=s[d-2],d--;s[o]=u,s[o+1]=c}}(s,c,o,u)),c}function L(s,o){const u=Z(s,o);if(u>=0)return s[1|u]}function Z(s,o){return function Se(s,o,u){let c=0,d=s.length>>u;for(;d!==c;){const f=c+(d-c>>1),g=s[f<<u];if(o===g)return f<<u;g>o?d=f:c=f+1}return~(d<<u)}(s,o,1)}const qi=zr(Ps("Optional"),8),Ld=zr(Ps("SkipSelf"),4);function Ta(s){return 128==(128&s.flags)}var ds=(()=>((ds=ds||{})[ds.Important=1]="Important",ds[ds.DashCase=2]="DashCase",ds))();const up=new Map;let nA=0;const Bd="__ngContext__";function Ir(s,o){Mi(o)?(s[Bd]=o[Qs],function VI(s){up.set(s[Qs],s)}(o)):s[Bd]=o}let hp;function fp(s,o){return hp(s,o)}function pp(s){const o=s[dn];return Kr(o)?o[dn]:o}function oA(s){return aA(s[Dl])}function HI(s){return aA(s[ai])}function aA(s){for(;null!==s&&!Kr(s);)s=s[ai];return s}function Xl(s,o,u,c,d){if(null!=c){let f,g=!1;Kr(c)?f=c:Mi(c)&&(g=!0,c=c[Gn]);const _=tn(c);0===s&&null!==u?null==d?qI(o,u,_):xu(o,u,_,d||null,!0):1===s&&null!==u?xu(o,u,_,d||null,!0):2===s?function Ep(s,o,u){const c=vp(s,o);c&&function hA(s,o,u,c){s.removeChild(o,u,c)}(s,c,o,u)}(o,_,g):3===s&&o.destroyNode(_),null!=f&&function Ip(s,o,u,c,d){const f=u[qr];f!==tn(u)&&Xl(o,s,c,f,d);for(let _=_r;_<u.length;_++){const w=u[_];Wd(w[$e],w,s,o,c,f)}}(o,s,f,u,d)}}function yp(s,o,u){return s.createElement(o,u)}function WI(s,o){const u=s[To],c=u.indexOf(o);lu(o),u.splice(c,1)}function Zy(s,o){if(s.length<=_r)return;const u=_r+o,c=s[u];if(c){const d=c[Tl];null!==d&&d!==s&&WI(d,c),o>0&&(s[u-1][ai]=c[ai]);const f=Ca(s,_r+o);!function Gd(s,o){Wd(s,o,o[ct],2,null,null),o[Gn]=null,o[xr]=null}(c[$e],c);const g=f[Ss];null!==g&&g.detachView(f[$e]),c[dn]=null,c[ai]=null,c[vt]&=-129}return c}function Su(s,o){if(!(256&o[vt])){const u=o[ct];o[bl]?.destroy(),o[Do]?.destroy(),u.destroyNode&&Wd(s,o,u,3,null,null),function lA(s){let o=s[Dl];if(!o)return Au(s[$e],s);for(;o;){let u=null;if(Mi(o))u=o[Dl];else{const c=o[_r];c&&(u=c)}if(!u){for(;o&&!o[ai]&&o!==s;)Mi(o)&&Au(o[$e],o),o=o[dn];null===o&&(o=s),Mi(o)&&Au(o[$e],o),u=o&&o[ai]}o=u}}(o)}}function Au(s,o){if(!(256&o[vt])){o[vt]&=-129,o[vt]|=256,function dA(s,o){let u;if(null!=s&&null!=(u=s.destroyHooks))for(let c=0;c<u.length;c+=2){const d=o[u[c]];if(!(d instanceof _a)){const f=u[c+1];if(Array.isArray(f))for(let g=0;g<f.length;g+=2){const _=d[f[g]],w=f[g+1];ss(4,_,w);try{w.call(_)}finally{ss(5,_,w)}}else{ss(4,d,f);try{f.call(d)}finally{ss(5,d,f)}}}}}(s,o),function cA(s,o){const u=s.cleanup,c=o[oa];if(null!==u)for(let f=0;f<u.length-1;f+=2)if("string"==typeof u[f]){const g=u[f+3];g>=0?c[g]():c[-g].unsubscribe(),f+=2}else u[f].call(c[u[f+1]]);null!==c&&(o[oa]=null);const d=o[As];if(null!==d){o[As]=null;for(let f=0;f<d.length;f++)(0,d[f])()}}(s,o),1===o[$e].type&&o[ct].destroy();const u=o[Tl];if(null!==u&&Kr(o[dn])){u!==o[dn]&&WI(u,o);const c=o[Ss];null!==c&&c.detachView(s)}!function lp(s){up.delete(s[Qs])}(o)}}function Mu(s,o,u){return function Jl(s,o,u){let c=o;for(;null!==c&&40&c.type;)c=(o=c).parent;if(null===c)return u[Gn];{const{componentOffset:d}=c;if(d>-1){const{encapsulation:f}=s.data[c.directiveStart+d];if(f===ze.None||f===ze.Emulated)return null}return lr(c,u)}}(s,o.parent,u)}function xu(s,o,u,c,d){s.insertBefore(o,u,c,d)}function qI(s,o,u){s.appendChild(o,u)}function KI(s,o,u,c,d){null!==c?xu(s,o,u,c,d):qI(s,o,u)}function vp(s,o){return s.parentNode(o)}let ba,i_,Nu,Hd=function Xy(s,o,u){return 40&s.type?lr(s,u):null};function wp(s,o,u,c){const d=Mu(s,c,o),f=o[ct],_=function YI(s,o,u){return Hd(s,o,u)}(c.parent||o[xr],c,o);if(null!=d)if(Array.isArray(u))for(let w=0;w<u.length;w++)KI(f,d,u[w],_,!1);else KI(f,d,u,_,!1);void 0!==ba&&ba(f,c,o,u,d)}function zd(s,o){if(null!==o){const u=o.type;if(3&u)return lr(o,s);if(4&u)return Jy(-1,s[o.index]);if(8&u){const c=o.child;if(null!==c)return zd(s,c);{const d=s[o.index];return Kr(d)?Jy(-1,d):tn(d)}}if(32&u)return fp(o,s)()||tn(s[o.index]);{const c=ZI(s,o);return null!==c?Array.isArray(c)?c[0]:zd(pp(s[Hn]),c):zd(s,o.next)}}return null}function ZI(s,o){return null!==o?s[Hn][xr].projection[o.projection]:null}function Jy(s,o){const u=_r+s+1;if(u<o.length){const c=o[u],d=c[$e].firstChild;if(null!==d)return zd(c,d)}return o[qr]}function e_(s,o,u,c,d,f,g){for(;null!=u;){const _=c[u.index],w=u.type;if(g&&0===o&&(_&&Ir(tn(_),c),u.flags|=2),32!=(32&u.flags))if(8&w)e_(s,o,u.child,c,d,f,!1),Xl(o,s,d,_,f);else if(32&w){const D=fp(u,c);let b;for(;b=D();)Xl(o,s,d,b,f);Xl(o,s,d,_,f)}else 16&w?eC(s,o,c,u,d,f):Xl(o,s,d,_,f);u=g?u.projectionNext:u.next}}function Wd(s,o,u,c,d,f){e_(u,c,s.firstChild,o,d,f,!1)}function eC(s,o,u,c,d,f){const g=u[Hn],w=g[xr].projection[c.projection];if(Array.isArray(w))for(let D=0;D<w.length;D++)Xl(o,s,d,w[D],f);else{let D=w;const b=g[dn];Ta(c)&&(D.flags|=128),e_(s,o,D,b,d,f,!0)}}function t_(s,o,u){""===u?s.removeAttribute(o,"class"):s.setAttribute(o,"class",u)}function nC(s,o,u){const{mergedAttrs:c,classes:d,styles:f}=u;null!==c&&rd(s,o,c),null!==d&&t_(s,o,d),null!==f&&function ec(s,o,u){s.setAttribute(o,"style",u)}(s,o,f)}function mA(s){i_=s}function sC(s){return function s_(){if(void 0===Nu&&(Nu=null,en.trustedTypes))try{Nu=en.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:s=>s,createScript:s=>s,createScriptURL:s=>s})}catch{}return Nu}()?.createScriptURL(s)||s}class oC{constructor(o){this.changingThisBreaksApplicationSecurity=o}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Ci})`}}function Aa(s){return s instanceof oC?s.changingThisBreaksApplicationSecurity:s}function Kd(s,o){const u=function _A(s){return s instanceof oC&&s.getTypeName()||null}(s);if(null!=u&&u!==o){if("ResourceURL"===u&&"URL"===o)return!0;throw new Error(`Required a safe ${o}, got a ${u} (see ${Ci})`)}return u===o}const Dp=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;var Zn=(()=>((Zn=Zn||{})[Zn.NONE=0]="NONE",Zn[Zn.HTML=1]="HTML",Zn[Zn.STYLE=2]="STYLE",Zn[Zn.SCRIPT=3]="SCRIPT",Zn[Zn.URL=4]="URL",Zn[Zn.RESOURCE_URL=5]="RESOURCE_URL",Zn))();function CA(s){const o=Pu();return o?o.sanitize(Zn.URL,s)||"":Kd(s,"URL")?Aa(s):function Tp(s){return(s=String(s)).match(Dp)?s:"unsafe:"+s}(we(s))}function c_(s){const o=Pu();if(o)return sC(o.sanitize(Zn.RESOURCE_URL,s)||"");if(Kd(s,"ResourceURL"))return sC(Aa(s));throw new Be(904,!1)}function TA(s,o,u){return function N1(s,o){return"src"===o&&("embed"===s||"frame"===s||"iframe"===s||"media"===s||"script"===s)||"href"===o&&("base"===s||"link"===s)?c_:CA}(o,u)(s)}function Pu(){const s=ce();return s&&s[rs].sanitizer}class Xt{constructor(o,u){this._desc=o,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,"number"==typeof u?this.__NG_ELEMENT_ID__=u:void 0!==u&&(this.\u0275prov=wn({token:this,providedIn:u.providedIn||"root",factory:u.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}}const Qd=new Xt("ENVIRONMENT_INITIALIZER"),AA=new Xt("INJECTOR",-1),d_=new Xt("INJECTOR_DEF_TYPES");class wC{get(o,u=ts){if(u===ts){const c=new Error(`NullInjectorError: No provider for ${ue(o)}!`);throw c.name="NullInjectorError",c}return u}}function R1(...s){return{\u0275providers:xA(0,s),\u0275fromNgModule:!0}}function xA(s,...o){const u=[],c=new Set;let d;return Iu(o,f=>{const g=f;IC(g,u,[],c)&&(d||=[],d.push(g))}),void 0!==d&&EC(d,u),u}function EC(s,o){for(let u=0;u<s.length;u++){const{providers:d}=s[u];h_(d,f=>{o.push(f)})}}function IC(s,o,u,c){if(!(s=De(s)))return!1;let d=null,f=Di(s);const g=!f&&$t(s);if(f||g){if(g&&!g.standalone)return!1;d=s}else{const w=s.ngModule;if(f=Di(w),!f)return!1;d=w}const _=c.has(d);if(g){if(_)return!1;if(c.add(d),g.dependencies){const w="function"==typeof g.dependencies?g.dependencies():g.dependencies;for(const D of w)IC(D,o,u,c)}}else{if(!f)return!1;{if(null!=f.imports&&!_){let D;c.add(d);try{Iu(f.imports,b=>{IC(b,o,u,c)&&(D||=[],D.push(b))})}finally{}void 0!==D&&EC(D,o)}if(!_){const D=So(d)||(()=>new d);o.push({provide:d,useFactory:D,deps:Ve},{provide:d_,useValue:d,multi:!0},{provide:Qd,useValue:()=>Wt(d),multi:!0})}const w=f.providers;null==w||_||h_(w,b=>{o.push(b)})}}return d!==s&&void 0!==s.providers}function h_(s,o){for(let u of s)Ii(u)&&(u=u.\u0275providers),Array.isArray(u)?h_(u,o):o(u)}const RA=ge({provide:String,useValue:ge});function Ap(s){return null!==s&&"object"==typeof s&&RA in s}function ku(s){return"function"==typeof s}const f_=new Xt("Set Injector scope."),Zd={},kA={};let TC;function p_(){return void 0===TC&&(TC=new wC),TC}class tc{}class bC extends tc{get destroyed(){return this._destroyed}constructor(o,u,c,d){super(),this.parent=u,this.source=c,this.scopes=d,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fs(o,g=>this.processProvider(g)),this.records.set(AA,Le(void 0,this)),d.has("environment")&&this.records.set(tc,Le(void 0,this));const f=this.records.get(f_);null!=f&&"string"==typeof f.value&&this.scopes.add(f.value),this.injectorDefTypes=new Set(this.get(d_.multi,Ve,be.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;try{for(const u of this._ngOnDestroyHooks)u.ngOnDestroy();const o=this._onDestroyHooks;this._onDestroyHooks=[];for(const u of o)u()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear()}}onDestroy(o){return this.assertNotDestroyed(),this._onDestroyHooks.push(o),()=>this.removeOnDestroy(o)}runInContext(o){this.assertNotDestroyed();const u=at(this),c=Bn(void 0);try{return o()}finally{at(u),Bn(c)}}get(o,u=ts,c=be.Default){if(this.assertNotDestroyed(),o.hasOwnProperty(nd))return o[nd](this);c=Nt(c);const d=at(this),f=Bn(void 0);try{if(!(c&be.SkipSelf)){let _=this.records.get(o);if(void 0===_){const w=function U(s){return"function"==typeof s||"object"==typeof s&&s instanceof Xt}(o)&&rt(o);_=w&&this.injectableDefInScope(w)?Le(SC(o),Zd):null,this.records.set(o,_)}if(null!=_)return this.hydrate(o,_)}return(c&be.Self?p_():this.parent).get(o,u=c&be.Optional&&u===ts?null:u)}catch(g){if("NullInjectorError"===g.name){if((g[ns]=g[ns]||[]).unshift(ue(o)),d)throw g;return function eu(s,o,u,c){const d=s[ns];throw o[le]&&d.unshift(o[le]),s.message=function re(s,o,u,c=null){s=s&&"\n"===s.charAt(0)&&"\u0275"==s.charAt(1)?s.slice(2):s;let d=ue(o);if(Array.isArray(o))d=o.map(ue).join(" -> ");else if("object"==typeof o){let f=[];for(let g in o)if(o.hasOwnProperty(g)){let _=o[g];f.push(g+":"+("string"==typeof _?JSON.stringify(_):ue(_)))}d=`{${f.join(", ")}}`}return`${u}${c?"("+c+")":""}[${d}]: ${s.replace(R,"\n  ")}`}("\n"+s.message,d,u,c),s.ngTokenPath=d,s[ns]=null,s}(g,o,"R3InjectorError",this.source)}throw g}finally{Bn(f),at(d)}}resolveInjectorInitializers(){const o=at(this),u=Bn(void 0);try{const c=this.get(Qd.multi,Ve,be.Self);for(const d of c)d()}finally{at(o),Bn(u)}}toString(){const o=[],u=this.records;for(const c of u.keys())o.push(ue(c));return`R3Injector[${o.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Be(205,!1)}processProvider(o){let u=ku(o=De(o))?o:De(o&&o.provide);const c=function OA(s){return Ap(s)?Le(void 0,s.useValue):Le(AC(s),Zd)}(o);if(ku(o)||!0!==o.multi)this.records.get(u);else{let d=this.records.get(u);d||(d=Le(void 0,Zd,!0),d.factory=()=>or(d.multi),this.records.set(u,d)),u=o,d.multi.push(o)}this.records.set(u,c)}hydrate(o,u){return u.value===Zd&&(u.value=kA,u.value=u.factory()),"object"==typeof u.value&&u.value&&function nc(s){return null!==s&&"object"==typeof s&&"function"==typeof s.ngOnDestroy}(u.value)&&this._ngOnDestroyHooks.add(u.value),u.value}injectableDefInScope(o){if(!o.providedIn)return!1;const u=De(o.providedIn);return"string"==typeof u?"any"===u||this.scopes.has(u):this.injectorDefTypes.has(u)}removeOnDestroy(o){const u=this._onDestroyHooks.indexOf(o);-1!==u&&this._onDestroyHooks.splice(u,1)}}function SC(s){const o=rt(s),u=null!==o?o.factory:So(s);if(null!==u)return u;if(s instanceof Xt)throw new Be(204,!1);if(s instanceof Function)return function P1(s){const o=s.length;if(o>0)throw function Cu(s,o){const u=[];for(let c=0;c<s;c++)u.push(o);return u}(o,"?"),new Be(204,!1);const u=function si(s){return s&&(s[Dn]||s[Jt])||null}(s);return null!==u?()=>u.factory(s):()=>new s}(s);throw new Be(204,!1)}function AC(s,o,u){let c;if(ku(s)){const d=De(s);return So(d)||SC(d)}if(Ap(s))c=()=>De(s.useValue);else if(function DC(s){return!(!s||!s.useFactory)}(s))c=()=>s.useFactory(...or(s.deps||[]));else if(function CC(s){return!(!s||!s.useExisting)}(s))c=()=>Wt(De(s.useExisting));else{const d=De(s&&(s.useClass||s.provide));if(!function Fn(s){return!!s.deps}(s))return So(d)||SC(d);c=()=>new d(...or(s.deps))}return c}function Le(s,o,u=!1){return{factory:s,value:o,multi:u?[]:void 0}}function fs(s,o){for(const u of s)Array.isArray(u)?fs(u,o):u&&Ii(u)?fs(u.\u0275providers,o):o(u)}const g_=new Xt("AppId",{providedIn:"root",factory:()=>MC}),MC="ng",Mp=new Xt("Platform Initializer"),m_=new Xt("Platform ID",{providedIn:"platform",factory:()=>"unknown"}),xC=new Xt("CSP nonce",{providedIn:"root",factory:()=>function qd(){if(void 0!==i_)return i_;if(typeof document<"u")return document;throw new Be(210,!1)}().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});let Ma=(s,o)=>null;function Np(s,o){return Ma(s,o)}class UA{}class sc{}class kp{resolveComponentFactory(o){throw function BA(s){const o=Error(`No component factory found for ${ue(s)}.`);return o.ngComponent=s,o}(o)}}let th=(()=>{class s{}return s.NULL=new kp,s})();function FC(){return Vu(zn(),ce())}function Vu(s,o){return new oc(lr(s,o))}let oc=(()=>{class s{constructor(u){this.nativeElement=u}}return s.__NG_ELEMENT_ID__=FC,s})();function LC(s){return s instanceof oc?s.nativeElement:s}class E_{}let VC=(()=>{class s{constructor(){this.destroyNode=null}}return s.__NG_ELEMENT_ID__=()=>function I_(){const s=ce(),u=Rr(zn().index,s);return(Mi(u)?u:s)[ct]}(),s})(),UC=(()=>{class s{}return s.\u0275prov=wn({token:s,providedIn:"root",factory:()=>null}),s})();class C_{constructor(o){this.full=o,this.major=o.split(".")[0],this.minor=o.split(".")[1],this.patch=o.split(".").slice(2).join(".")}}const Op=new C_("16.1.4"),D_={};function ac(s){for(;s;){s[vt]|=64;const o=pp(s);if(su(s)&&!o)return s;s=o}return null}function nh(s){return s.ngOriginalError}class xa{constructor(){this._console=console}handleError(o){const u=this._findOriginalError(o);this._console.error("ERROR",o),u&&this._console.error("ORIGINAL ERROR",u)}_findOriginalError(o){let u=o&&nh(o);for(;u&&nh(u);)u=nh(u);return u||null}}const T_=new Xt("",{providedIn:"root",factory:()=>!1});function Ho(s){return s instanceof Function?s():s}class Lp extends ur{constructor(){super(...arguments),this.consumerAllowSignalWrites=!1,this._lView=null}set lView(o){this._lView=o}onConsumerDependencyMayHaveChanged(){ac(this._lView)}onProducerUpdateValueVersion(){}get hasReadASignal(){return this.hasProducers}runInContext(o,u,c){const d=ar(this);this.trackingVersion++;try{o(u,c)}finally{ar(d)}}destroy(){this.trackingVersion++}}let Vp=null;function ZC(){return Vp??=new Lp,Vp}function rh(s,o){return s[o]??ZC()}function Bu(s,o){const u=ZC();u.hasReadASignal&&(s[o]=Vp,u.lView=s,Vp=new Lp)}const It={};function XC(s){JC(Ut(),ce(),wr()+s,!1)}function JC(s,o,u,c){if(!c)if(3==(3&o[vt])){const f=s.preOrderCheckHooks;null!==f&&fu(o,f,u)}else{const f=s.preOrderHooks;null!==f&&jl(o,f,0,u)}pa(u)}function r0(s,o=null,u=null,c){const d=A_(s,o,u,c);return d.resolveInjectorInitializers(),d}function A_(s,o=null,u=null,c,d=new Set){const f=[u||Ve,R1(s)];return c=c||("object"==typeof s?void 0:ue(s)),new bC(f,o||p_(),c||null,d)}let zo=(()=>{class s{static create(u,c){if(Array.isArray(u))return r0({name:""},c,u,"");{const d=u.name??"";return r0({name:d},u.parent,u.providers,d)}}}return s.THROW_IF_NOT_FOUND=ts,s.NULL=new wC,s.\u0275prov=wn({token:s,providedIn:"any",factory:()=>Wt(AA)}),s.__NG_ELEMENT_ID__=-1,s})();function $u(s,o=be.Default){const u=ce();return null===u?Wt(s,o):vu(zn(),u,De(s),o)}function ih(){throw new Error("invalid")}function sh(s,o,u,c,d,f,g,_,w,D,b){const M=o.blueprint.slice();return M[Gn]=d,M[vt]=140|c,(null!==D||s&&2048&s[vt])&&(M[vt]|=2048),Lf(M),M[dn]=M[nu]=s,M[bn]=u,M[rs]=g||s&&s[rs],M[ct]=_||s&&s[ct],M[aa]=w||s&&s[aa]||null,M[xr]=f,M[Qs]=function Ql(){return nA++}(),M[Ms]=b,M[Af]=D,M[Hn]=2==o.type?s[Hn]:M,M}function jt(s,o,u,c,d){let f=s.data[o];if(null===f)f=function Ht(s,o,u,c,d){const f=Wn(),g=Td(),w=s.data[o]=function QA(s,o,u,c,d,f){let g=o?o.injectorIndex:-1,_=0;return function du(){return null!==ft.skipHydrationRootTNode}()&&(_|=128),{type:u,index:c,insertBeforeIndex:null,injectorIndex:g,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:_,providerIndexes:0,value:d,attrs:f,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:o,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}(0,g?f:f&&f.parent,u,o,c,d);return null===s.firstChild&&(s.firstChild=w),null!==f&&(g?null==f.child&&null!==w.parent&&(f.child=w):null===f.next&&(f.next=w,w.prev=f)),w}(s,o,u,c,d),function Sd(){return ft.lFrame.inI18n}()&&(f.flags|=32);else if(64&f.type){f.type=u,f.value=c,f.attrs=d;const g=function fa(){const s=ft.lFrame,o=s.currentTNode;return s.isParent?o:o.parent}();f.injectorIndex=null===g?-1:g.injectorIndex}return hn(f,!0),f}function bt(s,o,u,c){if(0===u)return-1;const d=o.length;for(let f=0;f<u;f++)o.push(c),s.blueprint.push(c),s.data.push(null);return d}function Wo(s,o,u,c,d){const f=rh(o,bl),g=wr(),_=2&c;try{if(pa(-1),_&&o.length>Ot&&JC(s,o,Ot,!1),ss(_?2:0,d),_)f.runInContext(u,c,d);else{const D=ar(null);try{u(c,d)}finally{ar(D)}}}finally{_&&null===o[bl]&&Bu(o,bl),pa(g),ss(_?3:1,d)}}function an(s,o,u){if(ld(o)){const c=ar(null);try{const f=o.directiveEnd;for(let g=o.directiveStart;g<f;g++){const _=s.data[g];_.contentQueries&&_.contentQueries(1,u[g],g)}}finally{ar(c)}}}function lc(s){const o=s.tView;return null===o||o.incompleteFirstPass?s.tView=Bp(1,null,s.template,s.decls,s.vars,s.directiveDefs,s.pipeDefs,s.viewQuery,s.schemas,s.consts,s.id):o}function Bp(s,o,u,c,d,f,g,_,w,D,b){const M=Ot+c,O=M+d,$=function In(s,o){const u=[];for(let c=0;c<o;c++)u.push(c<s?null:It);return u}(M,O),ie="function"==typeof D?D():D;return $[$e]={type:s,blueprint:$,template:u,queries:null,viewQuery:_,declTNode:o,data:$.slice().fill(null,M),bindingStartIndex:M,expandoStartIndex:O,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:"function"==typeof f?f():f,pipeRegistry:"function"==typeof g?g():g,firstChild:null,schemas:w,consts:ie,incompleteFirstPass:!1,ssrId:b}}let o0=s=>null;function a0(s,o,u,c){for(let d in s)if(s.hasOwnProperty(d)){u=null===u?{}:u;const f=s[d];null===c?N_(u,o,d,f):c.hasOwnProperty(d)&&N_(u,o,c[d],f)}return u}function N_(s,o,u,c){s.hasOwnProperty(u)?s[u].push(o,c):s[u]=[o,c]}function l0(s,o,u,c,d,f){for(let D=0;D<c.length;D++)Xs(wa(u,o),s,c[D].type);!function XA(s,o,u){s.flags|=1,s.directiveStart=o,s.directiveEnd=o+u,s.providerIndexes=o}(u,s.data.length,c.length);for(let D=0;D<c.length;D++){const b=c[D];b.providersResolver&&b.providersResolver(b)}let g=!1,_=!1,w=bt(s,o,c.length,null);for(let D=0;D<c.length;D++){const b=c[D];u.mergedAttrs=Co(u.mergedAttrs,b.hostAttrs),Pi(s,u,o,w,b),Os(w,b,d),null!==b.contentQueries&&(u.flags|=4),(null!==b.hostBindings||null!==b.hostAttrs||0!==b.hostVars)&&(u.flags|=64);const M=b.type.prototype;!g&&(M.ngOnChanges||M.ngOnInit||M.ngDoCheck)&&((s.preOrderHooks??=[]).push(u.index),g=!0),!_&&(M.ngOnChanges||M.ngDoCheck)&&((s.preOrderCheckHooks??=[]).push(u.index),_=!0),w++}!function ju(s,o,u){const d=o.directiveEnd,f=s.data,g=o.attrs,_=[];let w=null,D=null;for(let b=o.directiveStart;b<d;b++){const M=f[b],O=u?u.get(M):null,ie=O?O.outputs:null;w=a0(M.inputs,b,w,O?O.inputs:null),D=a0(M.outputs,b,D,ie);const fe=null===w||null===g||ey(o)?null:h0(w,b,g);_.push(fe)}null!==w&&(w.hasOwnProperty("class")&&(o.flags|=8),w.hasOwnProperty("style")&&(o.flags|=16)),o.initialInputs=_,o.inputs=w,o.outputs=D}(s,u,f)}function ah(s,o,u){const c=u.directiveStart,d=u.directiveEnd,f=u.index,g=function _I(){return ft.lFrame.currentDirectiveIndex}();try{pa(f);for(let _=c;_<d;_++){const w=s.data[_],D=o[_];Hf(_),(null!==w.hostBindings||0!==w.hostVars||null!==w.hostAttrs)&&$p(w,D)}}finally{pa(-1),Hf(g)}}function $p(s,o){null!==s.hostBindings&&s.hostBindings(1,o)}function gs(s,o,u){o.componentOffset=u,(s.components??=[]).push(o.index)}function Os(s,o,u){if(u){if(o.exportAs)for(let c=0;c<o.exportAs.length;c++)u[o.exportAs[c]]=s;Gi(o)&&(u[""]=s)}}function Pi(s,o,u,c,d){s.data[c]=d;const f=d.factory||(d.factory=So(d.type)),g=new _a(f,Gi(d),$u);s.blueprint[c]=g,u[c]=g,function c0(s,o,u,c,d){const f=d.hostBindings;if(f){let g=s.hostBindingOpCodes;null===g&&(g=s.hostBindingOpCodes=[]);const _=~o.index;(function Gu(s){let o=s.length;for(;o>0;){const u=s[--o];if("number"==typeof u&&u<0)return u}return 0})(g)!=_&&g.push(_),g.push(u,c,f)}}(s,o,c,bt(s,u,d.hostVars,It),d)}function ms(s,o,u,c,d,f){const g=lr(s,o);!function uh(s,o,u,c,d,f,g){if(null==f)s.removeAttribute(o,d,u);else{const _=null==g?we(f):g(f,c||"",d);s.setAttribute(o,d,_,u)}}(o[ct],g,f,s.value,u,c,d)}function eM(s,o,u,c,d,f){const g=f[o];if(null!==g)for(let _=0;_<g.length;)k_(c,u,g[_++],g[_++],g[_++])}function k_(s,o,u,c,d){const f=ar(null);try{const g=s.inputTransforms;null!==g&&g.hasOwnProperty(c)&&(d=g[c].call(o,d)),null!==s.setInput?s.setInput(o,d,u,c):o[c]=d}finally{ar(f)}}function h0(s,o,u){let c=null,d=0;for(;d<u.length;){const f=u[d];if(0!==f)if(5!==f){if("number"==typeof f)break;if(s.hasOwnProperty(f)){null===c&&(c=[]);const g=s[f];for(let _=0;_<g.length;_+=2)if(g[_]===o){c.push(f,g[_+1],u[d+1]);break}}d+=2}else d+=2;else d+=4}return c}function Hu(s,o){const u=s.contentQueries;if(null!==u)for(let c=0;c<u.length;c+=2){const f=u[c+1];if(-1!==f){const g=s.data[f];zf(u[c]),g.contentQueries(2,o[f],f)}}}function lh(s,o){return s[Dl]?s[ud][ai]=o:s[Dl]=o,s[ud]=o,o}function Gp(s,o,u){zf(0);const c=ar(null);try{o(s,u)}finally{ar(c)}}function f0(s){return s[oa]||(s[oa]=[])}function p0(s){return s.cleanup||(s.cleanup=[])}function g0(s,o){const u=s[aa],c=u?u.get(xa,null):null;c&&c.handleError(o)}function F_(s,o,u,c,d){for(let f=0;f<u.length;){const g=u[f++],_=u[f++];k_(s.data[g],o[g],c,_,d)}}function L_(s,o){const u=Rr(o,s),c=u[$e];!function cc(s,o){for(let u=o.length;u<s.blueprint.length;u++)o.push(s.blueprint[u])}(c,u);const d=u[Gn];null!==d&&null===u[Ms]&&(u[Ms]=Np(d,u[aa])),Fs(c,u,u[bn])}function Fs(s,o,u){Bl(o);try{const c=s.viewQuery;null!==c&&Gp(1,c,u);const d=s.template;null!==d&&Wo(s,o,d,1,u),s.firstCreatePass&&(s.firstCreatePass=!1),s.staticContentQueries&&Hu(s,o),s.staticViewQueries&&Gp(2,s.viewQuery,u);const f=s.components;null!==f&&function ch(s,o){for(let u=0;u<o.length;u++)L_(s,o[u])}(o,f)}catch(c){throw s.firstCreatePass&&(s.incompleteFirstPass=!0,s.firstCreatePass=!1),c}finally{o[vt]&=-5,$l()}}let m0=(()=>{class s{constructor(){this.all=new Set,this.queue=new Map}create(u,c,d){const f=typeof Zone>"u"?null:Zone.current,g=new pI(u,D=>{this.all.has(D)&&this.queue.set(D,f)},d);let _;this.all.add(g),g.notify();const w=()=>{g.cleanup(),_?.(),this.all.delete(g),this.queue.delete(g)};return _=c?.onDestroy(w),{destroy:w}}flush(){if(0!==this.queue.size)for(const[u,c]of this.queue)this.queue.delete(u),c?c.run(()=>u.run()):u.run()}get isQueueEmpty(){return 0===this.queue.size}}return s.\u0275prov=wn({token:s,providedIn:"root",factory:()=>new s}),s})();function dc(s,o,u){let c=u?s.styles:null,d=u?s.classes:null,f=0;if(null!==o)for(let g=0;g<o.length;g++){const _=o[g];"number"==typeof _?f=_:1==f?d=Te(d,_):2==f&&(c=Te(c,_+": "+o[++g]+";"))}u?s.styles=c:s.stylesWithoutHost=c,u?s.classes=d:s.classesWithoutHost=d}function dh(s,o,u,c,d=!1){for(;null!==u;){const f=o[u.index];if(null!==f&&c.push(tn(f)),Kr(f)){for(let _=_r;_<f.length;_++){const w=f[_],D=w[$e].firstChild;null!==D&&dh(w[$e],w,D,c)}f[qr]!==f[Gn]&&c.push(f[qr])}const g=u.type;if(8&g)dh(s,o,u.child,c);else if(32&g){const _=fp(u,o);let w;for(;w=_();)c.push(w)}else if(16&g){const _=ZI(o,u);if(Array.isArray(_))c.push(..._);else{const w=pp(o[Hn]);dh(w[$e],w,_,c,!0)}}u=d?u.projectionNext:u.next}return c}function hc(s,o,u,c=!0){const d=o[rs].rendererFactory;d.begin&&d.begin();try{pc(s,o,s.template,u)}catch(g){throw c&&g0(o,g),g}finally{d.end&&d.end(),o[rs].effectManager?.flush()}}function pc(s,o,u,c){const d=o[vt];if(256!=(256&d)){o[rs].effectManager?.flush(),Bl(o);try{Lf(o),function xs(s){return ft.lFrame.bindingIndex=s}(s.bindingStartIndex),null!==u&&Wo(s,o,u,2,c);const g=3==(3&d);if(g){const D=s.preOrderCheckHooks;null!==D&&fu(o,D,null)}else{const D=s.preOrderHooks;null!==D&&jl(o,D,0,null),ya(o,0)}if(function rM(s){for(let o=oA(s);null!==o;o=HI(o)){if(!o[Al])continue;const u=o[To];for(let c=0;c<u.length;c++){Vf(u[c])}}}(o),gc(o,2),null!==s.contentQueries&&Hu(s,o),g){const D=s.contentCheckHooks;null!==D&&fu(o,D)}else{const D=s.contentHooks;null!==D&&jl(o,D,1),ya(o,1)}!function s0(s,o){const u=s.hostBindingOpCodes;if(null===u)return;const c=rh(o,Do);try{for(let d=0;d<u.length;d++){const f=u[d];if(f<0)pa(~f);else{const g=f,_=u[++d],w=u[++d];yI(_,g),c.runInContext(w,2,o[g])}}}finally{null===o[Do]&&Bu(o,Do),pa(-1)}}(s,o);const _=s.components;null!==_&&y0(o,_,0);const w=s.viewQuery;if(null!==w&&Gp(2,w,c),g){const D=s.viewCheckHooks;null!==D&&fu(o,D)}else{const D=s.viewHooks;null!==D&&jl(o,D,2),ya(o,2)}!0===s.firstUpdatePass&&(s.firstUpdatePass=!1),o[vt]&=-73,lu(o)}finally{$l()}}}function gc(s,o){for(let u=oA(s);null!==u;u=HI(u))for(let c=_r;c<u.length;c++)mc(u[c],o)}function V_(s,o,u){mc(Rr(o,s),u)}function mc(s,o){if(!function Ed(s){return 128==(128&s[vt])}(s))return;const u=s[$e];if(80&s[vt]&&0===o||1024&s[vt]||2===o)pc(u,s,u.template,s[bn]);else if(s[Cl]>0){gc(s,1);const d=s[$e].components;null!==d&&y0(s,d,1)}}function y0(s,o,u){for(let c=0;c<o.length;c++)V_(s,o[c],u)}class zu{get rootNodes(){const o=this._lView,u=o[$e];return dh(u,o,u.firstChild,[])}constructor(o,u){this._lView=o,this._cdRefInjectingView=u,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[bn]}set context(o){this._lView[bn]=o}get destroyed(){return 256==(256&this._lView[vt])}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){const o=this._lView[dn];if(Kr(o)){const u=o[8],c=u?u.indexOf(this):-1;c>-1&&(Zy(o,c),Ca(u,c))}this._attachedToViewContainer=!1}Su(this._lView[$e],this._lView)}onDestroy(o){!function Id(s,o){if(256==(256&s[vt]))throw new Be(911,!1);null===s[As]&&(s[As]=[]),s[As].push(o)}(this._lView,o)}markForCheck(){ac(this._cdRefInjectingView||this._lView)}detach(){this._lView[vt]&=-129}reattach(){this._lView[vt]|=128}detectChanges(){hc(this._lView[$e],this._lView,this.context)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Be(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null,function uA(s,o){Wd(s,o,o[ct],2,null,null)}(this._lView[$e],this._lView)}attachToAppRef(o){if(this._attachedToViewContainer)throw new Be(902,!1);this._appRef=o}}class iM extends zu{constructor(o){super(o),this._view=o}detectChanges(){const o=this._view;hc(o[$e],o,o[bn],!1)}checkNoChanges(){}get context(){return null}}class _0 extends th{constructor(o){super(),this.ngModule=o}resolveComponentFactory(o){const u=$t(o);return new Wu(u,this.ngModule)}}function v0(s){const o=[];for(let u in s)s.hasOwnProperty(u)&&o.push({propName:s[u],templateName:u});return o}class sM{constructor(o,u){this.injector=o,this.parentInjector=u}get(o,u,c){c=Nt(c);const d=this.injector.get(o,D_,c);return d!==D_||u===D_?d:this.parentInjector.get(o,u,c)}}class Wu extends sc{get inputs(){const o=this.componentDef,u=o.inputTransforms,c=v0(o.inputs);if(null!==u)for(const d of c)u.hasOwnProperty(d.propName)&&(d.transform=u[d.propName]);return c}get outputs(){return v0(this.componentDef.outputs)}constructor(o,u){super(),this.componentDef=o,this.ngModule=u,this.componentType=o.type,this.selector=function Si(s){return s.map(uI).join(",")}(o.selectors),this.ngContentSelectors=o.ngContentSelectors?o.ngContentSelectors:[],this.isBoundToModule=!!u}create(o,u,c,d){let f=(d=d||this.ngModule)instanceof tc?d:d?.injector;f&&null!==this.componentDef.getStandaloneInjector&&(f=this.componentDef.getStandaloneInjector(f)||f);const g=f?new sM(o,f):o,_=g.get(E_,null);if(null===_)throw new Be(407,!1);const b={rendererFactory:_,sanitizer:g.get(UC,null),effectManager:g.get(m0,null)},M=_.createRenderer(null,this.componentDef),O=this.componentDef.selectors[0][0]||"div",$=c?function Rt(s,o,u,c){const f=c.get(T_,!1)||u===ze.ShadowDom,g=s.selectRootElement(o,f);return function di(s){o0(s)}(g),g}(M,c,this.componentDef.encapsulation,g):yp(M,O,function U_(s){const o=s.toLowerCase();return"svg"===o?"svg":"math"===o?"math":null}(O)),Me=this.componentDef.signals?4608:this.componentDef.onPush?576:528,Ze=Bp(0,null,null,1,0,null,null,null,null,null,null),ae=sh(null,Ze,null,Me,null,null,b,M,g,null,null);let dt,Lt;Bl(ae);try{const kt=this.componentDef;let gi,Ww=null;kt.findHostDirectiveDefs?(gi=[],Ww=new Map,kt.findHostDirectiveDefs(kt,gi,Ww),gi.push(kt)):gi=[kt];const nL=function w0(s,o){const u=s[$e],c=Ot;return s[c]=o,jt(u,c,2,"#host",null)}(ae,$),IN=function E0(s,o,u,c,d,f,g){const _=d[$e];!function zp(s,o,u,c){for(const d of s)o.mergedAttrs=Co(o.mergedAttrs,d.hostAttrs);null!==o.mergedAttrs&&(dc(o,o.mergedAttrs,!0),null!==u&&nC(c,u,o))}(c,s,o,g);let w=null;null!==o&&(w=Np(o,d[aa]));const D=f.rendererFactory.createRenderer(o,u);let b=16;u.signals?b=4096:u.onPush&&(b=64);const M=sh(d,lc(u),null,b,d[s.index],s,f,D,null,null,w);return _.firstCreatePass&&gs(_,s,c.length-1),lh(d,M),d[s.index]=M}(nL,$,kt,gi,ae,b,M);Lt=ha(Ze,Ot),$&&function Wp(s,o,u,c){if(c)rd(s,u,["ng-version",Op.full]);else{const{attrs:d,classes:f}=function ny(s){const o=[],u=[];let c=1,d=2;for(;c<s.length;){let f=s[c];if("string"==typeof f)2===d?""!==f&&o.push(f,s[++c]):8===d&&u.push(f);else{if(!Ar(d))break;d=f}c++}return{attrs:o,classes:u}}(o.selectors[0]);d&&rd(s,u,d),f&&f.length>0&&t_(s,u,f.join(" "))}}(M,kt,$,c),void 0!==u&&function yc(s,o,u){const c=s.projection=[];for(let d=0;d<o.length;d++){const f=u[d];c.push(null!=f?Array.from(f):null)}}(Lt,this.ngContentSelectors,u),dt=function aM(s,o,u,c,d,f){const g=zn(),_=d[$e],w=lr(g,d);l0(_,d,g,u,null,c);for(let b=0;b<u.length;b++)Ir(kr(d,_,g.directiveStart+b,g),d);ah(_,d,g),w&&Ir(w,d);const D=kr(d,_,g.directiveStart+g.componentOffset,g);if(s[bn]=d[bn]=D,null!==f)for(const b of f)b(D,o);return an(_,g,s),D}(IN,kt,gi,Ww,ae,[$_]),Fs(Ze,ae,null)}finally{$l()}return new oM(this.componentType,dt,Vu(Lt,ae),ae,Lt)}}class oM extends UA{constructor(o,u,c,d,f){super(),this.location=c,this._rootLView=d,this._tNode=f,this.previousInputValues=null,this.instance=u,this.hostView=this.changeDetectorRef=new iM(d),this.componentType=o}setInput(o,u){const c=this._tNode.inputs;let d;if(null!==c&&(d=c[o])){if(this.previousInputValues??=new Map,this.previousInputValues.has(o)&&Object.is(this.previousInputValues.get(o),u))return;const f=this._rootLView;F_(f[$e],f,d,o,u),this.previousInputValues.set(o,u),ac(Rr(this._tNode.index,f))}}get injector(){return new wu(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(o){this.hostView.onDestroy(o)}}function $_(){const s=zn();hu(ce()[$e],s)}function j_(s){let o=function qp(s){return Object.getPrototypeOf(s.prototype).constructor}(s.type),u=!0;const c=[s];for(;o;){let d;if(Gi(s))d=o.\u0275cmp||o.\u0275dir;else{if(o.\u0275cmp)throw new Be(903,!1);d=o.\u0275dir}if(d){if(u){c.push(d);const g=s;g.inputs=hh(s.inputs),g.inputTransforms=hh(s.inputTransforms),g.declaredInputs=hh(s.declaredInputs),g.outputs=hh(s.outputs);const _=d.hostBindings;_&&dM(s,_);const w=d.viewQuery,D=d.contentQueries;if(w&&lM(s,w),D&&cM(s,D),Ce(s.inputs,d.inputs),Ce(s.declaredInputs,d.declaredInputs),Ce(s.outputs,d.outputs),null!==d.inputTransforms&&(null===g.inputTransforms&&(g.inputTransforms={}),Ce(g.inputTransforms,d.inputTransforms)),Gi(d)&&d.data.animation){const b=s.data;b.animation=(b.animation||[]).concat(d.data.animation)}}const f=d.features;if(f)for(let g=0;g<f.length;g++){const _=f[g];_&&_.ngInherit&&_(s),_===j_&&(u=!1)}}o=Object.getPrototypeOf(o)}!function uM(s){let o=0,u=null;for(let c=s.length-1;c>=0;c--){const d=s[c];d.hostVars=o+=d.hostVars,d.hostAttrs=Co(d.hostAttrs,u=Co(u,d.hostAttrs))}}(c)}function hh(s){return s===it?{}:s===Ve?[]:s}function lM(s,o){const u=s.viewQuery;s.viewQuery=u?(c,d)=>{o(c,d),u(c,d)}:o}function cM(s,o){const u=s.contentQueries;s.contentQueries=u?(c,d,f)=>{o(c,d,f),u(c,d,f)}:o}function dM(s,o){const u=s.hostBindings;s.hostBindings=u?(c,d)=>{o(c,d),u(c,d)}:o}function I0(s){const o=s.inputConfig,u={};for(const c in o)if(o.hasOwnProperty(c)){const d=o[c];Array.isArray(d)&&d[2]&&(u[c]=d[2])}s.inputTransforms=u}function Na(s){return!!vc(s)&&(Array.isArray(s)||!(s instanceof Map)&&Symbol.iterator in s)}function vc(s){return null!==s&&("function"==typeof s||"object"==typeof s)}function Ln(s,o,u){return!Object.is(s[o],u)&&(s[o]=u,!0)}function Yi(s,o,u,c){const d=ce();return Ln(d,Zs(),o)&&(Ut(),ms(_n(),d,s,o,u,c)),Yi}function Xp(s,o,u){const c=ce();return Ln(c,Zs(),o)&&function Lr(s,o,u,c,d,f,g,_){const w=lr(o,u);let b,D=o.inputs;!_&&null!=D&&(b=D[c])?(F_(s,u,b,c,d),Nr(o)&&function ZA(s,o){const u=Rr(o,s);16&u[vt]||(u[vt]|=64)}(u,o.index)):3&o.type&&(c=function R_(s){return"class"===s?"className":"for"===s?"htmlFor":"formaction"===s?"formAction":"innerHtml"===s?"innerHTML":"readonly"===s?"readOnly":"tabindex"===s?"tabIndex":s}(c),d=null!=g?g(d,o.value||"",c):d,f.setProperty(w,c,d))}(Ut(),_n(),c,s,o,c[ct],u,!1),Xp}function Ic(s,o,u,c,d){const g=d?"class":"style";F_(s,u,o.inputs[g],g,c)}function Jp(s,o,u,c){const d=ce(),f=Ut(),g=Ot+s,_=d[ct],w=f.firstCreatePass?function U0(s,o,u,c,d,f){const g=o.consts,w=jt(o,s,2,c,os(g,d));return function P_(s,o,u,c){if(Bf()){const d=null===c?null:{"":-1},f=function d0(s,o){const u=s.directiveRegistry;let c=null,d=null;if(u)for(let f=0;f<u.length;f++){const g=u[f];if(Cf(o,g.selectors,!1))if(c||(c=[]),Gi(g))if(null!==g.findHostDirectiveDefs){const _=[];d=d||new Map,g.findHostDirectiveDefs(g,_,d),c.unshift(..._,g),gs(s,o,_.length)}else c.unshift(g),gs(s,o,0);else d=d||new Map,g.findHostDirectiveDefs?.(g,c,d),c.push(g)}return null===c?null:[c,d]}(s,u);let g,_;null===f?g=_=null:[g,_]=f,null!==g&&l0(s,o,u,g,d,_),d&&function jp(s,o,u){if(o){const c=s.localNames=[];for(let d=0;d<o.length;d+=2){const f=u[o[d+1]];if(null==f)throw new Be(-301,!1);c.push(o[d],f)}}}(u,c,d)}u.mergedAttrs=Co(u.mergedAttrs,u.attrs)}(o,u,w,os(g,f)),null!==w.attrs&&dc(w,w.attrs,!1),null!==w.mergedAttrs&&dc(w,w.mergedAttrs,!0),null!==o.queries&&o.queries.elementStart(o,w),w}(g,f,d,o,u,c):f.data[g],D=tg(f,d,w,_,o,s);d[g]=D;const b=iu(w);return hn(w,!0),nC(_,D,w),32!=(32&w.flags)&&pt()&&wp(f,d,D,w),0===function Ll(){return ft.lFrame.elementDepthCount}()&&Ir(D,d),function Sy(){ft.lFrame.elementDepthCount++}(),b&&(function oh(s,o,u){Bf()&&(function Pt(s,o,u,c){const d=u.directiveStart,f=u.directiveEnd;Nr(u)&&function JA(s,o,u){const c=lr(o,s),d=lc(u);let g=16;u.signals?g=4096:u.onPush&&(g=64);const _=lh(s,sh(s,d,null,g,c,o,null,s[rs].rendererFactory.createRenderer(c,u),null,null,null));s[o.index]=_}(o,u,s.data[d+u.componentOffset]),s.firstCreatePass||wa(u,o),Ir(c,o);const g=u.initialInputs;for(let _=d;_<f;_++){const w=s.data[_],D=kr(o,s,_,u);Ir(D,o),null!==g&&eM(0,_-d,D,w,0,g),Gi(w)&&(Rr(u.index,o)[bn]=kr(o,s,_,u))}}(s,o,u,lr(u,o)),64==(64&u.flags)&&ah(s,o,u))}(f,d,w),an(f,w,d)),null!==c&&function M_(s,o,u=lr){const c=o.localNames;if(null!==c){let d=o.index+1;for(let f=0;f<c.length;f+=2){const g=c[f+1],_=-1===g?u(o,s):s[g];s[d++]=_}}}(d,w),Jp}function eg(){let s=zn();Td()?function bd(){ft.lFrame.isParent=!1}():(s=s.parent,hn(s,!1));const o=s;(function mI(s){return ft.skipHydrationRootTNode===s})(o)&&function Dd(){ft.skipHydrationRootTNode=null}(),function Vl(){ft.lFrame.elementDepthCount--}();const u=Ut();return u.firstCreatePass&&(hu(u,s),ld(s)&&u.queries.elementEnd(s)),null!=o.classesWithoutHost&&function as(s){return 0!=(8&s.flags)}(o)&&Ic(u,o,ce(),o.classesWithoutHost,!0),null!=o.stylesWithoutHost&&function gu(s){return 0!=(16&s.flags)}(o)&&Ic(u,o,ce(),o.stylesWithoutHost,!1),eg}function tv(s,o,u,c){return Jp(s,o,u,c),eg(),tv}let tg=(s,o,u,c,d,f)=>(On(!0),yp(c,d,function Zf(){return ft.lFrame.currentNamespace}()));function iv(s){return!!s&&"function"==typeof s.then}function $0(s){return!!s&&"function"==typeof s.subscribe}function sv(s,o,u,c){const d=ce(),f=Ut(),g=zn();return function j0(s,o,u,c,d,f,g){const _=iu(c),D=s.firstCreatePass&&p0(s),b=o[bn],M=f0(o);let O=!0;if(3&c.type||g){const fe=lr(c,o),Me=g?g(fe):fe,Ze=M.length,ae=g?Lt=>g(tn(Lt[c.index])):c.index;let dt=null;if(!g&&_&&(dt=function av(s,o,u,c){const d=s.cleanup;if(null!=d)for(let f=0;f<d.length-1;f+=2){const g=d[f];if(g===u&&d[f+1]===c){const _=o[oa],w=d[f+2];return _.length>w?_[w]:null}"string"==typeof g&&(f+=2)}return null}(s,o,d,c.index)),null!==dt)(dt.__ngLastListenerFn__||dt).__ngNextListenerFn__=f,dt.__ngLastListenerFn__=f,O=!1;else{f=Cc(c,o,b,f,!1);const Lt=u.listen(Me,d,f);M.push(f,Lt),D&&D.push(d,ae,Ze,Ze+1)}}else f=Cc(c,o,b,f,!1);const $=c.outputs;let ie;if(O&&null!==$&&(ie=$[d])){const fe=ie.length;if(fe)for(let Me=0;Me<fe;Me+=2){const kt=o[ie[Me]][ie[Me+1]].subscribe(f),gi=M.length;M.push(f,kt),D&&D.push(d,c.index,gi,-(gi+1))}}}(f,d,d[ct],g,s,o,c),sv}function Yo(s,o,u,c){try{return ss(6,o,u),!1!==u(c)}catch(d){return g0(s,d),!1}finally{ss(7,o,u)}}function Cc(s,o,u,c,d){return function f(g){if(g===Function)return c;ac(s.componentOffset>-1?Rr(s.index,o):o);let w=Yo(o,u,c,g),D=f.__ngNextListenerFn__;for(;D;)w=Yo(o,u,D,g)&&w,D=D.__ngNextListenerFn__;return d&&!1===w&&g.preventDefault(),w}}function Xu(s,o){return s<<17|o<<2}function lo(s){return s>>17&32767}function gv(s){return 2|s}function Us(s){return(131068&s)>>2}function mv(s,o){return-131069&s|o<<2}function yv(s){return 1|s}function q0(s,o,u,c,d){const f=s[u+1],g=null===o;let _=c?lo(f):Us(f),w=!1;for(;0!==_&&(!1===w||g);){const b=s[_+1];PM(s[_],o)&&(w=!0,s[_+1]=c?yv(b):gv(b)),_=c?lo(b):Us(b)}w&&(s[u+1]=c?gv(f):yv(f))}function PM(s,o){return null===s||null==o||(Array.isArray(s)?s[1]:s)===o||!(!Array.isArray(s)||"string"!=typeof o)&&Z(s,o)>=0}function Ev(s,o){return function hi(s,o,u,c){const d=ce(),f=Ut(),g=function Ns(s){const o=ft.lFrame,u=o.bindingIndex;return o.bindingIndex=o.bindingIndex+s,u}(2);f.firstUpdatePass&&function X0(s,o,u,c){const d=s.data;if(null===d[u+1]){const f=d[wr()],g=function bc(s,o){return o>=s.expandoStartIndex}(s,u);(function iD(s,o){return 0!=(s.flags&(o?8:16))})(f,c)&&null===o&&!g&&(o=!1),o=function J0(s,o,u,c){const d=function Ul(s){const o=ft.lFrame.currentDirectiveIndex;return-1===o?null:s[o]}(s);let f=c?o.residualClasses:o.residualStyles;if(null===d)0===(c?o.classBindings:o.styleBindings)&&(u=ki(u=Dv(null,s,o,u,c),o.attrs,c),f=null);else{const g=o.directiveStylingLast;if(-1===g||s[g]!==d)if(u=Dv(d,s,o,u,c),null===f){let w=function Iv(s,o,u){const c=u?o.classBindings:o.styleBindings;if(0!==Us(c))return s[lo(c)]}(s,o,c);void 0!==w&&Array.isArray(w)&&(w=Dv(null,s,o,w[1],c),w=ki(w,o.attrs,c),function Dh(s,o,u,c){s[lo(u?o.classBindings:o.styleBindings)]=c}(s,o,c,w))}else f=function Cv(s,o,u){let c;const d=o.directiveEnd;for(let f=1+o.directiveStylingLast;f<d;f++)c=ki(c,s[f].hostAttrs,u);return ki(c,o.attrs,u)}(s,o,c)}return void 0!==f&&(c?o.residualClasses=f:o.residualStyles=f),u}(d,f,o,c),function RM(s,o,u,c,d,f){let g=f?o.classBindings:o.styleBindings,_=lo(g),w=Us(g);s[c]=u;let b,D=!1;if(Array.isArray(u)?(b=u[1],(null===b||Z(u,b)>0)&&(D=!0)):b=u,d)if(0!==w){const O=lo(s[_+1]);s[c+1]=Xu(O,_),0!==O&&(s[O+1]=mv(s[O+1],c)),s[_+1]=function pv(s,o){return 131071&s|o<<17}(s[_+1],c)}else s[c+1]=Xu(_,0),0!==_&&(s[_+1]=mv(s[_+1],c)),_=c;else s[c+1]=Xu(w,0),0===_?_=c:s[w+1]=mv(s[w+1],c),w=c;D&&(s[c+1]=gv(s[c+1])),q0(s,b,c,!0),q0(s,b,c,!1),function W0(s,o,u,c,d){const f=d?s.residualClasses:s.residualStyles;null!=f&&"string"==typeof o&&Z(f,o)>=0&&(u[c+1]=yv(u[c+1]))}(o,b,s,c,f),g=Xu(_,w),f?o.classBindings=g:o.styleBindings=g}(d,f,o,u,g,c)}}(f,s,g,c),o!==It&&Ln(d,g,o)&&function Oi(s,o,u,c,d,f,g,_){if(!(3&o.type))return;const w=s.data,D=w[_+1],b=function NM(s){return 1==(1&s)}(D)?Tv(w,o,u,d,Us(D),g):void 0;fg(b)||(fg(f)||function fv(s){return 2==(2&s)}(D)&&(f=Tv(w,null,u,d,_,g)),function tC(s,o,u,c,d){if(o)d?s.addClass(u,c):s.removeClass(u,c);else{let f=-1===c.indexOf("-")?void 0:ds.DashCase;null==d?s.removeStyle(u,c,f):("string"==typeof d&&d.endsWith("!important")&&(d=d.slice(0,-10),f|=ds.Important),s.setStyle(u,c,d,f))}}(c,g,function Mo(s,o){return tn(o[s])}(wr(),u),d,f))}(f,f.data[wr()],d,d[ct],s,d[g+1]=function rD(s,o){return null==s||""===s||("string"==typeof o?s+=o:"object"==typeof s&&(s=ue(Aa(s)))),s}(o,u),c,g)}(s,o,null,!0),Ev}function Dv(s,o,u,c,d){let f=null;const g=u.directiveEnd;let _=u.directiveStylingLast;for(-1===_?_=u.directiveStart:_++;_<g&&(f=o[_],c=ki(c,f.hostAttrs,d),f!==s);)_++;return null!==s&&(u.directiveStylingLast=_),c}function ki(s,o,u){const c=u?1:2;let d=-1;if(null!==o)for(let f=0;f<o.length;f++){const g=o[f];"number"==typeof g?d=g:d===c&&(Array.isArray(s)||(s=void 0===s?[]:["",s]),P(s,g,!!u||o[++f]))}return void 0===s?null:s}function Tv(s,o,u,c,d,f){const g=null===o;let _;for(;d>0;){const w=s[d],D=Array.isArray(w),b=D?w[1]:w,M=null===b;let O=u[d+1];O===It&&(O=M?Ve:void 0);let $=M?L(O,c):b===c?O:void 0;if(D&&!fg($)&&($=L(w,c)),fg($)&&(_=$,g))return _;const ie=s[d+1];d=g?lo(ie):Us(ie)}if(null!==o){let w=f?o.residualClasses:o.residualStyles;null!=w&&(_=L(w,c))}return _}function fg(s){return void 0!==s}function sD(s,o=""){const u=ce(),c=Ut(),d=s+Ot,f=c.firstCreatePass?jt(c,d,1,o,null):c.data[d],g=oD(c,u,f,o,s);u[d]=g,pt()&&wp(c,u,g,f),hn(f,!1)}let oD=(s,o,u,c,d)=>(On(!0),function gp(s,o){return s.createText(o)}(o[ct],c));const Qo=void 0;var Zi=["en",[["a","p"],["AM","PM"],Qo],[["AM","PM"],Qo,Qo],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Qo,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Qo,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Qo,"{1} 'at' {0}",Qo],[".",",",";","%","+","-","E","\xd7","\u2030","\u221e","NaN",":"],["#,##0.###","#,##0%","\xa4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",function $M(s){const u=Math.floor(Math.abs(s)),c=s.toString().replace(/^[^.]*\.?/,"").length;return 1===u&&0===c?1:5}];let Zo={};function Mc(s){const o=function Y1(s){return s.toLowerCase().replace(/_/g,"-")}(s);let u=Rv(o);if(u)return u;const c=o.split("-")[0];if(u=Rv(c),u)return u;if("en"===c)return Zi;throw new Be(701,!1)}function Va(s){return Mc(s)[st.PluralCase]}function Rv(s){return s in Zo||(Zo[s]=en.ng&&en.ng.common&&en.ng.common.locales&&en.ng.common.locales[s]),Zo[s]}var st=(()=>((st=st||{})[st.LocaleId=0]="LocaleId",st[st.DayPeriodsFormat=1]="DayPeriodsFormat",st[st.DayPeriodsStandalone=2]="DayPeriodsStandalone",st[st.DaysFormat=3]="DaysFormat",st[st.DaysStandalone=4]="DaysStandalone",st[st.MonthsFormat=5]="MonthsFormat",st[st.MonthsStandalone=6]="MonthsStandalone",st[st.Eras=7]="Eras",st[st.FirstDayOfWeek=8]="FirstDayOfWeek",st[st.WeekendRange=9]="WeekendRange",st[st.DateFormat=10]="DateFormat",st[st.TimeFormat=11]="TimeFormat",st[st.DateTimeFormat=12]="DateTimeFormat",st[st.NumberSymbols=13]="NumberSymbols",st[st.NumberFormats=14]="NumberFormats",st[st.CurrencyCode=15]="CurrencyCode",st[st.CurrencySymbol=16]="CurrencySymbol",st[st.CurrencyName=17]="CurrencyName",st[st.Currencies=18]="Currencies",st[st.Directionality=19]="Directionality",st[st.PluralCase=20]="PluralCase",st[st.ExtraData=21]="ExtraData",st))();const tl="en-US";let Ah=tl;function Ag(s,o,u,c,d){if(s=De(s),Array.isArray(s))for(let f=0;f<s.length;f++)Ag(s[f],o,u,c,d);else{const f=Ut(),g=ce();let _=ku(s)?s:De(s.provide),w=AC(s);const D=zn(),b=1048575&D.providerIndexes,M=D.directiveStart,O=D.providerIndexes>>20;if(ku(s)||!s.multi){const $=new _a(w,d,$u),ie=xg(_,o,d?b:b+O,M);-1===ie?(Xs(wa(D,g),f,_),Mg(f,s,o.length),o.push(_),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),u.push($),g.push($)):(u[ie]=$,g[ie]=$)}else{const $=xg(_,o,b+O,M),ie=xg(_,o,b,b+O),Me=ie>=0&&u[ie];if(d&&!Me||!d&&!($>=0&&u[$])){Xs(wa(D,g),f,_);const Ze=function $v(s,o,u,c,d){const f=new _a(s,u,$u);return f.multi=[],f.index=o,f.componentProviders=0,$D(f,d,c&&!u),f}(d?Bv:jD,u.length,d,c,w);!d&&Me&&(u[ie].providerFactory=Ze),Mg(f,s,o.length,0),o.push(_),D.directiveStart++,D.directiveEnd++,d&&(D.providerIndexes+=1048576),u.push(Ze),g.push(Ze)}else Mg(f,s,$>-1?$:ie,$D(u[d?ie:$],w,!d&&c));!d&&c&&Me&&u[ie].componentProviders++}}}function Mg(s,o,u,c){const d=ku(o),f=function PA(s){return!!s.useClass}(o);if(d||f){const w=(f?De(o.useClass):o).prototype.ngOnDestroy;if(w){const D=s.destroyHooks||(s.destroyHooks=[]);if(!d&&o.multi){const b=D.indexOf(u);-1===b?D.push(u,[c,w]):D[b+1].push(c,w)}else D.push(u,w)}}}function $D(s,o,u){return u&&s.componentProviders++,s.multi.push(o)-1}function xg(s,o,u,c){for(let d=u;d<c;d++)if(o[d]===s)return d;return-1}function jD(s,o,u,c){return Ng(this.multi,[])}function Bv(s,o,u,c){const d=this.multi;let f;if(this.providerFactory){const g=this.providerFactory.componentProviders,_=kr(u,u[$e],this.providerFactory.index,c);f=_.slice(0,g),Ng(d,f);for(let w=g;w<_.length;w++)f.push(_[w])}else f=[],Ng(d,f);return f}function Ng(s,o){for(let u=0;u<s.length;u++)o.push((0,s[u])());return o}function jv(s,o=[]){return u=>{u.providersResolver=(c,d)=>function BD(s,o,u){const c=Ut();if(c.firstCreatePass){const d=Gi(s);Ag(u,c.data,c.blueprint,d,!0),Ag(o,c.data,c.blueprint,d,!1)}}(c,d?d(s):s,o)}}class rl{}class Gv{}function Hv(s,o){return new Rg(s,o??null,[])}class Rg extends rl{constructor(o,u,c){super(),this._parent=u,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new _0(this);const d=Ai(o);this._bootstrapComponents=Ho(d.bootstrap),this._r3Injector=A_(o,u,[{provide:rl,useValue:this},{provide:th,useValue:this.componentFactoryResolver},...c],ue(o),new Set(["environment"])),this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(o)}get injector(){return this._r3Injector}destroy(){const o=this._r3Injector;!o.destroyed&&o.destroy(),this.destroyCbs.forEach(u=>u()),this.destroyCbs=null}onDestroy(o){this.destroyCbs.push(o)}}class Pg extends Gv{constructor(o){super(),this.moduleType=o}create(o){return new Rg(this.moduleType,o,[])}}class Jr extends rl{constructor(o){super(),this.componentFactoryResolver=new _0(this),this.instance=null;const u=new bC([...o.providers,{provide:rl,useValue:this},{provide:th,useValue:this.componentFactoryResolver}],o.parent||p_(),o.debugName,new Set(["environment"]));this.injector=u,o.runEnvironmentInitializers&&u.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(o){this.injector.onDestroy(o)}}function Jo(s,o,u=null){return new Jr({providers:s,parent:o,debugName:u,runEnvironmentInitializers:!0}).injector}let HD=(()=>{class s{constructor(u){this._injector=u,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(u){if(!u.standalone)return null;if(!this.cachedInjectors.has(u.id)){const c=xA(0,u.type),d=c.length>0?Jo([c],this._injector,`Standalone[${u.type.name}]`):null;this.cachedInjectors.set(u.id,d)}return this.cachedInjectors.get(u.id)}ngOnDestroy(){try{for(const u of this.cachedInjectors.values())null!==u&&u.destroy()}finally{this.cachedInjectors.clear()}}}return s.\u0275prov=wn({token:s,providedIn:"environment",factory:()=>new s(Wt(tc))}),s})();function mx(s){s.getStandaloneInjector=o=>o.get(HD).getOrCreateStandaloneInjector(s)}function ew(s){return o=>{setTimeout(s,void 0,o)}}const ws=class Ug extends y.x{constructor(o=!1){super(),this.__isAsync=o}emit(o){super.next(o)}subscribe(o,u,c){let d=o,f=u||(()=>null),g=c;if(o&&"object"==typeof o){const w=o;d=w.next?.bind(w),f=w.error?.bind(w),g=w.complete?.bind(w)}this.__isAsync&&(f=ew(f),d&&(d=ew(d)),g&&(g=ew(g)));const _=super.subscribe({next:d,error:f,complete:g});return o instanceof W.w0&&o.add(_),_}};function Bg(){return this._results[Symbol.iterator]()}class tw{get changes(){return this._changes||(this._changes=new ws)}constructor(o=!1){this._emitDistinctChangesOnly=o,this.dirty=!0,this._results=[],this._changesDetected=!1,this._changes=null,this.length=0,this.first=void 0,this.last=void 0;const u=tw.prototype;u[Symbol.iterator]||(u[Symbol.iterator]=Bg)}get(o){return this._results[o]}map(o){return this._results.map(o)}filter(o){return this._results.filter(o)}find(o){return this._results.find(o)}reduce(o,u){return this._results.reduce(o,u)}forEach(o){this._results.forEach(o)}some(o){return this._results.some(o)}toArray(){return this._results.slice()}toString(){return this._results.toString()}reset(o,u){const c=this;c.dirty=!1;const d=function cr(s){return s.flat(Number.POSITIVE_INFINITY)}(o);(this._changesDetected=!function TI(s,o,u){if(s.length!==o.length)return!1;for(let c=0;c<s.length;c++){let d=s[c],f=o[c];if(u&&(d=u(d),f=u(f)),f!==d)return!1}return!0}(c._results,d,u))&&(c._results=d,c.length=d.length,c.last=d[this.length-1],c.first=d[0])}notifyOnChanges(){this._changes&&(this._changesDetected||!this._emitDistinctChangesOnly)&&this._changes.emit(this)}setDirty(){this.dirty=!0}destroy(){this.changes.complete(),this.changes.unsubscribe()}}let Vh=(()=>{class s{}return s.__NG_ELEMENT_ID__=KD,s})();const qD=Vh,Cx=class extends qD{constructor(o,u,c){super(),this._declarationLView=o,this._declarationTContainer=u,this.elementRef=c}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(o,u){return this.createEmbeddedViewImpl(o,u,null)}createEmbeddedViewImpl(o,u,c){const g=this._declarationTContainer.tView,_=sh(this._declarationLView,g,o,4096&this._declarationLView[vt]?4096:16,null,g.declTNode,null,null,null,u||null,c||null);_[Tl]=this._declarationLView[this._declarationTContainer.index];const D=this._declarationLView[Ss];return null!==D&&(_[Ss]=D.createEmbeddedView(g)),Fs(g,_,o),new zu(_)}};function KD(){return $g(zn(),ce())}function $g(s,o){return 4&s.type?new Cx(o,s,Vu(s,o)):null}let sw=(()=>{class s{}return s.__NG_ELEMENT_ID__=bx,s})();function bx(){return aw(zn(),ce())}const Uh=sw,Bh=class extends Uh{constructor(o,u,c){super(),this._lContainer=o,this._hostTNode=u,this._hostLView=c}get element(){return Vu(this._hostTNode,this._hostLView)}get injector(){return new wu(this._hostTNode,this._hostLView)}get parentInjector(){const o=Ni(this._hostTNode,this._hostLView);if(Jf(o)){const u=Gl(o,this._hostLView),c=va(o);return new wu(u[$e].data[c+8],u)}return new wu(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(o){const u=ow(this._lContainer);return null!==u&&u[o]||null}get length(){return this._lContainer.length-_r}createEmbeddedView(o,u,c){let d,f;"number"==typeof c?d=c:null!=c&&(d=c.index,f=c.injector);const _=o.createEmbeddedViewImpl(u||{},f,null);return this.insertImpl(_,d,false),_}createComponent(o,u,c,d,f){const g=o&&!function Or(s){return"function"==typeof s}(o);let _;if(g)_=u;else{const fe=u||{};_=fe.index,c=fe.injector,d=fe.projectableNodes,f=fe.environmentInjector||fe.ngModuleRef}const w=g?o:new Wu($t(o)),D=c||this.parentInjector;if(!f&&null==w.ngModule){const Me=(g?D:this.parentInjector).get(tc,null);Me&&(f=Me)}$t(w.componentType??{});const $=w.create(D,d,null,f);return this.insertImpl($.hostView,_,false),$}insert(o,u){return this.insertImpl(o,u,!1)}insertImpl(o,u,c){const d=o._lView,f=d[$e];if(function by(s){return Kr(s[dn])}(d)){const w=this.indexOf(o);if(-1!==w)this.detach(w);else{const D=d[dn],b=new Bh(D,D[xr],D[dn]);b.detach(b.indexOf(o))}}const g=this._adjustIndex(u),_=this._lContainer;if(function zI(s,o,u,c){const d=_r+c,f=u.length;c>0&&(u[d-1][ai]=o),c<f-_r?(o[ai]=u[d],Ia(u,_r+c,o)):(u.push(o),o[ai]=null),o[dn]=u;const g=o[Tl];null!==g&&u!==g&&function _p(s,o){const u=s[To];o[Hn]!==o[dn][dn][Hn]&&(s[Al]=!0),null===u?s[To]=[o]:u.push(o)}(g,o);const _=o[Ss];null!==_&&_.insertView(s),o[vt]|=128}(f,d,_,g),!c){const w=Jy(g,_),D=d[ct],b=vp(D,_[qr]);null!==b&&function _1(s,o,u,c,d,f){c[Gn]=d,c[xr]=o,Wd(s,c,u,1,d,f)}(f,_[xr],D,d,b,w)}return o.attachToViewContainerRef(),Ia(jg(_),g,o),o}move(o,u){return this.insert(o,u)}indexOf(o){const u=ow(this._lContainer);return null!==u?u.indexOf(o):-1}remove(o){const u=this._adjustIndex(o,-1),c=Zy(this._lContainer,u);c&&(Ca(jg(this._lContainer),u),Su(c[$e],c))}detach(o){const u=this._adjustIndex(o,-1),c=Zy(this._lContainer,u);return c&&null!=Ca(jg(this._lContainer),u)?new zu(c):null}_adjustIndex(o,u=0){return o??this.length+u}};function ow(s){return s[8]}function jg(s){return s[8]||(s[8]=[])}function aw(s,o){let u;const c=o[s.index];return Kr(c)?u=c:(u=function O_(s,o,u,c){return[s,!0,!1,o,null,0,c,u,null,null,null]}(c,o,null,s),o[s.index]=u,lh(o,u)),JD(u,o,s,c),new Bh(u,s,o)}let JD=function uw(s,o,u,c){if(s[qr])return;let d;d=8&u.type?tn(c):function TF(s,o){const u=s[ct],c=u.createComment(""),d=lr(o,s);return xu(u,vp(u,d),c,function w1(s,o){return s.nextSibling(o)}(u,d),!1),c}(o,u),s[qr]=d};class eT{constructor(o){this.queryList=o,this.matches=null}clone(){return new eT(this.queryList)}setDirty(){this.queryList.setDirty()}}class tT{constructor(o=[]){this.queries=o}createEmbeddedView(o){const u=o.queries;if(null!==u){const c=null!==o.contentQueries?o.contentQueries[0]:u.length,d=[];for(let f=0;f<c;f++){const g=u.getByIndex(f);d.push(this.queries[g.indexInDeclarationView].clone())}return new tT(d)}return null}insertView(o){this.dirtyQueriesWithMatches(o)}detachView(o){this.dirtyQueriesWithMatches(o)}dirtyQueriesWithMatches(o){for(let u=0;u<this.queries.length;u++)null!==mw(o,u).matches&&this.queries[u].setDirty()}}class nT{constructor(o,u,c=null){this.predicate=o,this.flags=u,this.read=c}}class Gg{constructor(o=[]){this.queries=o}elementStart(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].elementStart(o,u)}elementEnd(o){for(let u=0;u<this.queries.length;u++)this.queries[u].elementEnd(o)}embeddedTView(o){let u=null;for(let c=0;c<this.length;c++){const d=null!==u?u.length:0,f=this.getByIndex(c).embeddedTView(o,d);f&&(f.indexInDeclarationView=c,null!==u?u.push(f):u=[f])}return null!==u?new Gg(u):null}template(o,u){for(let c=0;c<this.queries.length;c++)this.queries[c].template(o,u)}getByIndex(o){return this.queries[o]}get length(){return this.queries.length}track(o){this.queries.push(o)}}class lw{constructor(o,u=-1){this.metadata=o,this.matches=null,this.indexInDeclarationView=-1,this.crossesNgTemplate=!1,this._appliesToNextNode=!0,this._declarationNodeIndex=u}elementStart(o,u){this.isApplyingToNode(u)&&this.matchTNode(o,u)}elementEnd(o){this._declarationNodeIndex===o.index&&(this._appliesToNextNode=!1)}template(o,u){this.elementStart(o,u)}embeddedTView(o,u){return this.isApplyingToNode(o)?(this.crossesNgTemplate=!0,this.addMatch(-o.index,u),new lw(this.metadata)):null}isApplyingToNode(o){if(this._appliesToNextNode&&1!=(1&this.metadata.flags)){const u=this._declarationNodeIndex;let c=o.parent;for(;null!==c&&8&c.type&&c.index!==u;)c=c.parent;return u===(null!==c?c.index:-1)}return this._appliesToNextNode}matchTNode(o,u){const c=this.metadata.predicate;if(Array.isArray(c))for(let d=0;d<c.length;d++){const f=c[d];this.matchTNodeWithReadOption(o,u,rT(u,f)),this.matchTNodeWithReadOption(o,u,zi(u,o,f,!1,!1))}else c===Vh?4&u.type&&this.matchTNodeWithReadOption(o,u,-1):this.matchTNodeWithReadOption(o,u,zi(u,o,c,!1,!1))}matchTNodeWithReadOption(o,u,c){if(null!==c){const d=this.metadata.read;if(null!==d)if(d===oc||d===sw||d===Vh&&4&u.type)this.addMatch(u.index,-2);else{const f=zi(u,o,d,!1,!1);null!==f&&this.addMatch(u.index,f)}else this.addMatch(u.index,c)}}addMatch(o,u){null===this.matches?this.matches=[o,u]:this.matches.push(o,u)}}function rT(s,o){const u=s.localNames;if(null!==u)for(let c=0;c<u.length;c+=2)if(u[c]===o)return u[c+1];return null}function iT(s,o,u,c){return-1===u?function cw(s,o){return 11&s.type?Vu(s,o):4&s.type?$g(s,o):null}(o,s):-2===u?function Sx(s,o,u){return u===oc?Vu(o,s):u===Vh?$g(o,s):u===sw?aw(o,s):void 0}(s,o,c):kr(s,s[$e],u,o)}function dw(s,o,u,c){const d=o[Ss].queries[c];if(null===d.matches){const f=s.data,g=u.matches,_=[];for(let w=0;w<g.length;w+=2){const D=g[w];_.push(D<0?null:iT(o,f[D],g[w+1],u.metadata.read))}d.matches=_}return d.matches}function hw(s,o,u,c){const d=s.queries.getByIndex(u),f=d.matches;if(null!==f){const g=dw(s,o,d,u);for(let _=0;_<f.length;_+=2){const w=f[_];if(w>0)c.push(g[_/2]);else{const D=f[_+1],b=o[-w];for(let M=_r;M<b.length;M++){const O=b[M];O[Tl]===O[dn]&&hw(O[$e],O,D,c)}if(null!==b[To]){const M=b[To];for(let O=0;O<M.length;O++){const $=M[O];hw($[$e],$,D,c)}}}}}return c}function Ax(s){const o=ce(),u=Ut(),c=Ny();zf(c+1);const d=mw(u,c);if(s.dirty&&function Ff(s){return 4==(4&s[vt])}(o)===(2==(2&d.metadata.flags))){if(null===d.matches)s.reset([]);else{const f=d.crossesNgTemplate?hw(u,o,c,[]):dw(u,o,d,c);s.reset(f,LC),s.notifyOnChanges()}return!0}return!1}function oT(s,o,u,c){const d=Ut();if(d.firstCreatePass){const f=zn();(function gw(s,o,u){null===s.queries&&(s.queries=new Gg),s.queries.track(new lw(o,u))})(d,new nT(o,u,c),f.index),function xx(s,o){const u=s.contentQueries||(s.contentQueries=[]);o!==(u.length?u[u.length-1]:-1)&&u.push(s.queries.length-1,o)}(d,s),2==(2&u)&&(d.staticContentQueries=!0)}!function pw(s,o,u){const c=new tw(4==(4&u));(function YA(s,o,u,c){const d=f0(o);d.push(u),s.firstCreatePass&&p0(s).push(c,d.length-1)})(s,o,c,c.destroy),null===o[Ss]&&(o[Ss]=new tT),o[Ss].queries.push(new eT(c))}(d,ce(),u)}function fw(){return function Mx(s,o){return s[Ss].queries[o].queryList}(ce(),Ny())}function mw(s,o){return s.queries.getByIndex(o)}function Hg(s){return!!Ai(s)}const IT=new Xt("Application Initializer");let Ew=(()=>{class s{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((u,c)=>{this.resolve=u,this.reject=c}),this.appInits=Mt(IT,{optional:!0})??[]}runInitializers(){if(this.initialized)return;const u=[];for(const d of this.appInits){const f=d();if(iv(f))u.push(f);else if($0(f)){const g=new Promise((_,w)=>{f.subscribe({complete:_,error:w})});u.push(g)}}const c=()=>{this.done=!0,this.resolve()};Promise.all(u).then(()=>{c()}).catch(d=>{this.reject(d)}),0===u.length&&c(),this.initialized=!0}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=wn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})(),CT=(()=>{class s{log(u){console.log(u)}warn(u){console.warn(u)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=wn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();const qg=new Xt("LocaleId",{providedIn:"root",factory:()=>Mt(qg,be.Optional|be.SkipSelf)||function Xx(){return typeof $localize<"u"&&$localize.locale||tl}()}),FF=new Xt("DefaultCurrencyCode",{providedIn:"root",factory:()=>"USD"});let Jx=(()=>{class s{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new H.X(!1)}add(){this.hasPendingTasks.next(!0);const u=this.taskId++;return this.pendingTasks.add(u),u}remove(u){this.pendingTasks.delete(u),0===this.pendingTasks.size&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this.hasPendingTasks.next(!1)}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=wn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();class VF{constructor(o,u){this.ngModuleFactory=o,this.componentFactories=u}}let UF=(()=>{class s{compileModuleSync(u){return new Pg(u)}compileModuleAsync(u){return Promise.resolve(this.compileModuleSync(u))}compileModuleAndAllComponentsSync(u){const c=this.compileModuleSync(u),f=Ho(Ai(u).declarations).reduce((g,_)=>{const w=$t(_);return w&&g.push(new Wu(w)),g},[]);return new VF(c,f)}compileModuleAndAllComponentsAsync(u){return Promise.resolve(this.compileModuleAndAllComponentsSync(u))}clearCache(){}clearCacheFor(u){}getModuleId(u){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=wn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function rN(...s){}class fi{constructor({enableLongStackTrace:o=!1,shouldCoalesceEventChangeDetection:u=!1,shouldCoalesceRunChangeDetection:c=!1}){if(this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ws(!1),this.onMicrotaskEmpty=new ws(!1),this.onStable=new ws(!1),this.onError=new ws(!1),typeof Zone>"u")throw new Be(908,!1);Zone.assertZonePatched();const d=this;d._nesting=0,d._outer=d._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(d._inner=d._inner.fork(new Zone.TaskTrackingZoneSpec)),o&&Zone.longStackTraceZoneSpec&&(d._inner=d._inner.fork(Zone.longStackTraceZoneSpec)),d.shouldCoalesceEventChangeDetection=!c&&u,d.shouldCoalesceRunChangeDetection=c,d.lastRequestAnimationFrameId=-1,d.nativeRequestAnimationFrame=function TT(){const s="function"==typeof en.requestAnimationFrame;let o=en[s?"requestAnimationFrame":"setTimeout"],u=en[s?"cancelAnimationFrame":"clearTimeout"];if(typeof Zone<"u"&&o&&u){const c=o[Zone.__symbol__("OriginalDelegate")];c&&(o=c);const d=u[Zone.__symbol__("OriginalDelegate")];d&&(u=d)}return{nativeRequestAnimationFrame:o,nativeCancelAnimationFrame:u}}().nativeRequestAnimationFrame,function iN(s){const o=()=>{!function Kg(s){s.isCheckStableRunning||-1!==s.lastRequestAnimationFrameId||(s.lastRequestAnimationFrameId=s.nativeRequestAnimationFrame.call(en,()=>{s.fakeTopEventTask||(s.fakeTopEventTask=Zone.root.scheduleEventTask("fakeTopEventTask",()=>{s.lastRequestAnimationFrameId=-1,Fc(s),s.isCheckStableRunning=!0,ST(s),s.isCheckStableRunning=!1},void 0,()=>{},()=>{})),s.fakeTopEventTask.invoke()}),Fc(s))}(s)};s._inner=s._inner.fork({name:"angular",properties:{isAngularZone:!0},onInvokeTask:(u,c,d,f,g,_)=>{try{return pi(s),u.invokeTask(d,f,g,_)}finally{(s.shouldCoalesceEventChangeDetection&&"eventTask"===f.type||s.shouldCoalesceRunChangeDetection)&&o(),$s(s)}},onInvoke:(u,c,d,f,g,_,w)=>{try{return pi(s),u.invoke(d,f,g,_,w)}finally{s.shouldCoalesceRunChangeDetection&&o(),$s(s)}},onHasTask:(u,c,d,f)=>{u.hasTask(d,f),c===d&&("microTask"==f.change?(s._hasPendingMicrotasks=f.microTask,Fc(s),ST(s)):"macroTask"==f.change&&(s.hasPendingMacrotasks=f.macroTask))},onHandleError:(u,c,d,f)=>(u.handleError(d,f),s.runOutsideAngular(()=>s.onError.emit(f)),!1)})}(d)}static isInAngularZone(){return typeof Zone<"u"&&!0===Zone.current.get("isAngularZone")}static assertInAngularZone(){if(!fi.isInAngularZone())throw new Be(909,!1)}static assertNotInAngularZone(){if(fi.isInAngularZone())throw new Be(909,!1)}run(o,u,c){return this._inner.run(o,u,c)}runTask(o,u,c,d){const f=this._inner,g=f.scheduleEventTask("NgZoneEvent: "+d,o,bT,rN,rN);try{return f.runTask(g,u,c)}finally{f.cancelTask(g)}}runGuarded(o,u,c){return this._inner.runGuarded(o,u,c)}runOutsideAngular(o){return this._outer.run(o)}}const bT={};function ST(s){if(0==s._nesting&&!s.hasPendingMicrotasks&&!s.isStable)try{s._nesting++,s.onMicrotaskEmpty.emit(null)}finally{if(s._nesting--,!s.hasPendingMicrotasks)try{s.runOutsideAngular(()=>s.onStable.emit(null))}finally{s.isStable=!0}}}function Fc(s){s.hasPendingMicrotasks=!!(s._hasPendingMicrotasks||(s.shouldCoalesceEventChangeDetection||s.shouldCoalesceRunChangeDetection)&&-1!==s.lastRequestAnimationFrameId)}function pi(s){s._nesting++,s.isStable&&(s.isStable=!1,s.onUnstable.emit(null))}function $s(s){s._nesting--,ST(s)}class AT{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ws,this.onMicrotaskEmpty=new ws,this.onStable=new ws,this.onError=new ws}run(o,u,c){return o.apply(u,c)}runGuarded(o,u,c){return o.apply(u,c)}runOutsideAngular(o){return o()}runTask(o,u,c,d){return o.apply(u,c)}}const sl=new Xt("",{providedIn:"root",factory:Yg});function Yg(){const s=Mt(fi);let o=!0;return function B(...s){const o=(0,Ge.yG)(s),u=(0,Ge._6)(s,1/0),c=s;return c.length?1===c.length?(0,ye.Xf)(c[0]):(0,ne.J)(u)((0,ve.D)(c,o)):Ne.E}(new K.y(d=>{o=s.isStable&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks,s.runOutsideAngular(()=>{d.next(o),d.complete()})}),new K.y(d=>{let f;s.runOutsideAngular(()=>{f=s.onStable.subscribe(()=>{fi.assertNotInAngularZone(),queueMicrotask(()=>{!o&&!s.hasPendingMacrotasks&&!s.hasPendingMicrotasks&&(o=!0,d.next(!0))})})});const g=s.onUnstable.subscribe(()=>{fi.assertInAngularZone(),o&&(o=!1,s.runOutsideAngular(()=>{d.next(!1)}))});return()=>{f.unsubscribe(),g.unsubscribe()}}).pipe(_e()))}const xe=new Xt(""),js=new Xt("");let Qg,$a=(()=>{class s{constructor(u,c,d){this._ngZone=u,this.registry=c,this._pendingCount=0,this._isZoneStable=!0,this._didWork=!1,this._callbacks=[],this.taskTrackingZone=null,Qg||(function Iw(s){Qg=s}(d),d.addToWindow(c)),this._watchAngularEvents(),u.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._didWork=!0,this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{fi.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}increasePendingRequestCount(){return this._pendingCount+=1,this._didWork=!0,this._pendingCount}decreasePendingRequestCount(){if(this._pendingCount-=1,this._pendingCount<0)throw new Error("pending async requests below zero");return this._runCallbacksIfReady(),this._pendingCount}isStable(){return this._isZoneStable&&0===this._pendingCount&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;0!==this._callbacks.length;){let u=this._callbacks.pop();clearTimeout(u.timeoutId),u.doneCb(this._didWork)}this._didWork=!1});else{let u=this.getPendingTasks();this._callbacks=this._callbacks.filter(c=>!c.updateCb||!c.updateCb(u)||(clearTimeout(c.timeoutId),!1)),this._didWork=!0}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(u=>({source:u.source,creationLocation:u.creationLocation,data:u.data})):[]}addCallback(u,c,d){let f=-1;c&&c>0&&(f=setTimeout(()=>{this._callbacks=this._callbacks.filter(g=>g.timeoutId!==f),u(this._didWork,this.getPendingTasks())},c)),this._callbacks.push({doneCb:u,timeoutId:f,updateCb:d})}whenStable(u,c,d){if(d&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(u,c,d),this._runCallbacksIfReady()}getPendingRequestCount(){return this._pendingCount}registerApplication(u){this.registry.registerApplication(u,this)}unregisterApplication(u){this.registry.unregisterApplication(u)}findProviders(u,c,d){return[]}}return s.\u0275fac=function(u){return new(u||s)(Wt(fi),Wt(Lc),Wt(js))},s.\u0275prov=wn({token:s,factory:s.\u0275fac}),s})(),Lc=(()=>{class s{constructor(){this._applications=new Map}registerApplication(u,c){this._applications.set(u,c)}unregisterApplication(u){this._applications.delete(u)}unregisterAllApplications(){this._applications.clear()}getTestability(u){return this._applications.get(u)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(u,c=!0){return Qg?.findTestabilityInTree(this,u,c)??null}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=wn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})(),ja=null;const MT=new Xt("AllowMultipleToken"),ol=new Xt("PlatformDestroyListeners"),zh=new Xt("appBootstrapListener");class Vn{constructor(o,u){this.name=o,this.token=u}}function Xg(s,o,u=[]){const c=`Platform: ${o}`,d=new Xt(c);return(f=[])=>{let g=Dw();if(!g||g.injector.get(MT,!1)){const _=[...u,...f,{provide:d,useValue:!0}];s?s(_):function Cw(s){if(ja&&!ja.get(MT,!1))throw new Be(400,!1);(function NT(){!function pd(s){fd=s}(()=>{throw new Be(600,!1)})})(),ja=s;const o=s.get(em);(function Zg(s){s.get(Mp,null)?.forEach(u=>u())})(s)}(function kT(s=[],o){return zo.create({name:o,providers:[{provide:f_,useValue:"platform"},{provide:ol,useValue:new Set([()=>ja=null])},...s]})}(_,c))}return function PT(s){const o=Dw();if(!o)throw new Be(401,!1);return o}()}}function Dw(){return ja?.get(em)??null}let em=(()=>{class s{constructor(u){this._injector=u,this._modules=[],this._destroyListeners=[],this._destroyed=!1}bootstrapModuleFactory(u,c){const d=function Tw(s="zone.js",o){return"noop"===s?new AT:"zone.js"===s?new fi(o):s}(c?.ngZone,function OT(s){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:s?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:s?.runCoalescing??!1}}({eventCoalescing:c?.ngZoneEventCoalescing,runCoalescing:c?.ngZoneRunCoalescing}));return d.run(()=>{const f=function GD(s,o,u){return new Rg(s,o,u)}(u.moduleType,this.injector,function go(s){return[{provide:fi,useFactory:s},{provide:Qd,multi:!0,useFactory:()=>{const o=Mt(rm,{optional:!0});return()=>o.initialize()}},{provide:nm,useFactory:Sw},{provide:sl,useFactory:Yg}]}(()=>d)),g=f.injector.get(xa,null);return d.runOutsideAngular(()=>{const _=d.onError.subscribe({next:w=>{g.handleError(w)}});f.onDestroy(()=>{bw(this._modules,f),_.unsubscribe()})}),function FT(s,o,u){try{const c=u();return iv(c)?c.catch(d=>{throw o.runOutsideAngular(()=>s.handleError(d)),d}):c}catch(c){throw o.runOutsideAngular(()=>s.handleError(c)),c}}(g,d,()=>{const _=f.injector.get(Ew);return _.runInitializers(),_.donePromise.then(()=>(function xc(s){En(s,"Expected localeId to be defined"),"string"==typeof s&&(Ah=s.toLowerCase().replace(/_/g,"-"))}(f.injector.get(qg,tl)||tl),this._moduleDoBootstrap(f),f))})})}bootstrapModule(u,c=[]){const d=tm({},c);return function xT(s,o,u){const c=new Pg(u);return Promise.resolve(c)}(0,0,u).then(f=>this.bootstrapModuleFactory(f,d))}_moduleDoBootstrap(u){const c=u.injector.get(po);if(u._bootstrapComponents.length>0)u._bootstrapComponents.forEach(d=>c.bootstrap(d));else{if(!u.instance.ngDoBootstrap)throw new Be(-403,!1);u.instance.ngDoBootstrap(c)}this._modules.push(u)}onDestroy(u){this._destroyListeners.push(u)}get injector(){return this._injector}destroy(){if(this._destroyed)throw new Be(404,!1);this._modules.slice().forEach(c=>c.destroy()),this._destroyListeners.forEach(c=>c());const u=this._injector.get(ol,null);u&&(u.forEach(c=>c()),u.clear()),this._destroyed=!0}get destroyed(){return this._destroyed}}return s.\u0275fac=function(u){return new(u||s)(Wt(zo))},s.\u0275prov=wn({token:s,factory:s.\u0275fac,providedIn:"platform"}),s})();function tm(s,o){return Array.isArray(o)?o.reduce(tm,s):{...s,...o}}let po=(()=>{class s{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=Mt(nm),this.zoneIsStable=Mt(sl),this.componentTypes=[],this.components=[],this.isStable=Mt(Jx).hasPendingTasks.pipe((0,Et.w)(u=>u?(0,F.of)(!1):this.zoneIsStable),function rn(s,o=_t.y){return s=s??vn,(0,Ae.e)((u,c)=>{let d,f=!0;u.subscribe((0,gt.x)(c,g=>{const _=o(g);(f||!s(d,_))&&(f=!1,d=_,c.next(g))}))})}(),_e()),this._injector=Mt(tc)}get destroyed(){return this._destroyed}get injector(){return this._injector}bootstrap(u,c){const d=u instanceof sc;if(!this._injector.get(Ew).done)throw!d&&Ys(u),new Be(405,!1);let g;g=d?u:this._injector.get(th).resolveComponentFactory(u),this.componentTypes.push(g.componentType);const _=function An(s){return s.isBoundToModule}(g)?void 0:this._injector.get(rl),D=g.create(zo.NULL,[],c||g.selector,_),b=D.location.nativeElement,M=D.injector.get(xe,null);return M?.registerApplication(b),D.onDestroy(()=>{this.detachView(D.hostView),bw(this.components,D),M?.unregisterApplication(b)}),this._loadComponent(D),D}tick(){if(this._runningTick)throw new Be(101,!1);try{this._runningTick=!0;for(let u of this._views)u.detectChanges()}catch(u){this.internalErrorHandler(u)}finally{this._runningTick=!1}}attachView(u){const c=u;this._views.push(c),c.attachToAppRef(this)}detachView(u){const c=u;bw(this._views,c),c.detachFromAppRef()}_loadComponent(u){this.attachView(u.hostView),this.tick(),this.components.push(u);const c=this._injector.get(zh,[]);c.push(...this._bootstrapListeners),c.forEach(d=>d(u))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(u=>u()),this._views.slice().forEach(u=>u.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(u){return this._destroyListeners.push(u),()=>bw(this._destroyListeners,u)}destroy(){if(this._destroyed)throw new Be(406,!1);const u=this._injector;u.destroy&&!u.destroyed&&u.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=wn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function bw(s,o){const u=s.indexOf(o);u>-1&&s.splice(u,1)}const nm=new Xt("",{providedIn:"root",factory:()=>Mt(xa).handleError.bind(void 0)});function Sw(){const s=Mt(fi),o=Mt(xa);return u=>s.runOutsideAngular(()=>o.handleError(u))}let rm=(()=>{class s{constructor(){this.zone=Mt(fi),this.applicationRef=Mt(po)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}}return s.\u0275fac=function(u){return new(u||s)},s.\u0275prov=wn({token:s,factory:s.\u0275fac,providedIn:"root"}),s})();function sN(){return!1}let aN=(()=>{class s{}return s.__NG_ELEMENT_ID__=Mw,s})();function Mw(s){return function uN(s,o,u){if(Nr(s)&&!u){const c=Rr(s.index,o);return new zu(c,c)}return 47&s.type?new zu(o[Hn],o):null}(zn(),ce(),16==(16&s))}class dN{constructor(){}supports(o){return Na(o)}create(o){return new qF(o)}}const hN=(s,o)=>o;class qF{constructor(o){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=o||hN}forEachItem(o){let u;for(u=this._itHead;null!==u;u=u._next)o(u)}forEachOperation(o){let u=this._itHead,c=this._removalsHead,d=0,f=null;for(;u||c;){const g=!c||u&&u.currentIndex<UT(c,d,f)?u:c,_=UT(g,d,f),w=g.currentIndex;if(g===c)d--,c=c._nextRemoved;else if(u=u._next,null==g.previousIndex)d++;else{f||(f=[]);const D=_-d,b=w-d;if(D!=b){for(let O=0;O<D;O++){const $=O<f.length?f[O]:f[O]=0,ie=$+O;b<=ie&&ie<D&&(f[O]=$+1)}f[g.previousIndex]=b-D}}_!==w&&o(g,_,w)}}forEachPreviousItem(o){let u;for(u=this._previousItHead;null!==u;u=u._nextPrevious)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachMovedItem(o){let u;for(u=this._movesHead;null!==u;u=u._nextMoved)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}forEachIdentityChange(o){let u;for(u=this._identityChangesHead;null!==u;u=u._nextIdentityChange)o(u)}diff(o){if(null==o&&(o=[]),!Na(o))throw new Be(900,!1);return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let d,f,g,u=this._itHead,c=!1;if(Array.isArray(o)){this.length=o.length;for(let _=0;_<this.length;_++)f=o[_],g=this._trackByFn(_,f),null!==u&&Object.is(u.trackById,g)?(c&&(u=this._verifyReinsertion(u,f,g,_)),Object.is(u.item,f)||this._addIdentityChange(u,f)):(u=this._mismatch(u,f,g,_),c=!0),u=u._next}else d=0,function fM(s,o){if(Array.isArray(s))for(let u=0;u<s.length;u++)o(s[u]);else{const u=s[Symbol.iterator]();let c;for(;!(c=u.next()).done;)o(c.value)}}(o,_=>{g=this._trackByFn(d,_),null!==u&&Object.is(u.trackById,g)?(c&&(u=this._verifyReinsertion(u,_,g,d)),Object.is(u.item,_)||this._addIdentityChange(u,_)):(u=this._mismatch(u,_,g,d),c=!0),u=u._next,d++}),this.length=d;return this._truncate(u),this.collection=o,this.isDirty}get isDirty(){return null!==this._additionsHead||null!==this._movesHead||null!==this._removalsHead||null!==this._identityChangesHead}_reset(){if(this.isDirty){let o;for(o=this._previousItHead=this._itHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._additionsHead;null!==o;o=o._nextAdded)o.previousIndex=o.currentIndex;for(this._additionsHead=this._additionsTail=null,o=this._movesHead;null!==o;o=o._nextMoved)o.previousIndex=o.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(o,u,c,d){let f;return null===o?f=this._itTail:(f=o._prev,this._remove(o)),null!==(o=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._reinsertAfter(o,f,d)):null!==(o=null===this._linkedRecords?null:this._linkedRecords.get(c,d))?(Object.is(o.item,u)||this._addIdentityChange(o,u),this._moveAfter(o,f,d)):o=this._addAfter(new fN(u,c),f,d),o}_verifyReinsertion(o,u,c,d){let f=null===this._unlinkedRecords?null:this._unlinkedRecords.get(c,null);return null!==f?o=this._reinsertAfter(f,o._prev,d):o.currentIndex!=d&&(o.currentIndex=d,this._addToMoves(o,d)),o}_truncate(o){for(;null!==o;){const u=o._next;this._addToRemovals(this._unlink(o)),o=u}null!==this._unlinkedRecords&&this._unlinkedRecords.clear(),null!==this._additionsTail&&(this._additionsTail._nextAdded=null),null!==this._movesTail&&(this._movesTail._nextMoved=null),null!==this._itTail&&(this._itTail._next=null),null!==this._removalsTail&&(this._removalsTail._nextRemoved=null),null!==this._identityChangesTail&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(o,u,c){null!==this._unlinkedRecords&&this._unlinkedRecords.remove(o);const d=o._prevRemoved,f=o._nextRemoved;return null===d?this._removalsHead=f:d._nextRemoved=f,null===f?this._removalsTail=d:f._prevRemoved=d,this._insertAfter(o,u,c),this._addToMoves(o,c),o}_moveAfter(o,u,c){return this._unlink(o),this._insertAfter(o,u,c),this._addToMoves(o,c),o}_addAfter(o,u,c){return this._insertAfter(o,u,c),this._additionsTail=null===this._additionsTail?this._additionsHead=o:this._additionsTail._nextAdded=o,o}_insertAfter(o,u,c){const d=null===u?this._itHead:u._next;return o._next=d,o._prev=u,null===d?this._itTail=o:d._prev=o,null===u?this._itHead=o:u._next=o,null===this._linkedRecords&&(this._linkedRecords=new Pw),this._linkedRecords.put(o),o.currentIndex=c,o}_remove(o){return this._addToRemovals(this._unlink(o))}_unlink(o){null!==this._linkedRecords&&this._linkedRecords.remove(o);const u=o._prev,c=o._next;return null===u?this._itHead=c:u._next=c,null===c?this._itTail=u:c._prev=u,o}_addToMoves(o,u){return o.previousIndex===u||(this._movesTail=null===this._movesTail?this._movesHead=o:this._movesTail._nextMoved=o),o}_addToRemovals(o){return null===this._unlinkedRecords&&(this._unlinkedRecords=new Pw),this._unlinkedRecords.put(o),o.currentIndex=null,o._nextRemoved=null,null===this._removalsTail?(this._removalsTail=this._removalsHead=o,o._prevRemoved=null):(o._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=o),o}_addIdentityChange(o,u){return o.item=u,this._identityChangesTail=null===this._identityChangesTail?this._identityChangesHead=o:this._identityChangesTail._nextIdentityChange=o,o}}class fN{constructor(o,u){this.item=o,this.trackById=u,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}}class KF{constructor(){this._head=null,this._tail=null}add(o){null===this._head?(this._head=this._tail=o,o._nextDup=null,o._prevDup=null):(this._tail._nextDup=o,o._prevDup=this._tail,o._nextDup=null,this._tail=o)}get(o,u){let c;for(c=this._head;null!==c;c=c._nextDup)if((null===u||u<=c.currentIndex)&&Object.is(c.trackById,o))return c;return null}remove(o){const u=o._prevDup,c=o._nextDup;return null===u?this._head=c:u._nextDup=c,null===c?this._tail=u:c._prevDup=u,null===this._head}}class Pw{constructor(){this.map=new Map}put(o){const u=o.trackById;let c=this.map.get(u);c||(c=new KF,this.map.set(u,c)),c.add(o)}get(o,u){const d=this.map.get(o);return d?d.get(o,u):null}remove(o){const u=o.trackById;return this.map.get(u).remove(o)&&this.map.delete(u),o}get isEmpty(){return 0===this.map.size}clear(){this.map.clear()}}function UT(s,o,u){const c=s.previousIndex;if(null===c)return c;let d=0;return u&&c<u.length&&(d=u[c]),c+o+d}class dm{constructor(){}supports(o){return o instanceof Map||vc(o)}create(){return new BT}}class BT{constructor(){this._records=new Map,this._mapHead=null,this._appendAfter=null,this._previousMapHead=null,this._changesHead=null,this._changesTail=null,this._additionsHead=null,this._additionsTail=null,this._removalsHead=null,this._removalsTail=null}get isDirty(){return null!==this._additionsHead||null!==this._changesHead||null!==this._removalsHead}forEachItem(o){let u;for(u=this._mapHead;null!==u;u=u._next)o(u)}forEachPreviousItem(o){let u;for(u=this._previousMapHead;null!==u;u=u._nextPrevious)o(u)}forEachChangedItem(o){let u;for(u=this._changesHead;null!==u;u=u._nextChanged)o(u)}forEachAddedItem(o){let u;for(u=this._additionsHead;null!==u;u=u._nextAdded)o(u)}forEachRemovedItem(o){let u;for(u=this._removalsHead;null!==u;u=u._nextRemoved)o(u)}diff(o){if(o){if(!(o instanceof Map||vc(o)))throw new Be(900,!1)}else o=new Map;return this.check(o)?this:null}onDestroy(){}check(o){this._reset();let u=this._mapHead;if(this._appendAfter=null,this._forEach(o,(c,d)=>{if(u&&u.key===d)this._maybeAddToChanges(u,c),this._appendAfter=u,u=u._next;else{const f=this._getOrCreateRecordForKey(d,c);u=this._insertBeforeOrAppend(u,f)}}),u){u._prev&&(u._prev._next=null),this._removalsHead=u;for(let c=u;null!==c;c=c._nextRemoved)c===this._mapHead&&(this._mapHead=null),this._records.delete(c.key),c._nextRemoved=c._next,c.previousValue=c.currentValue,c.currentValue=null,c._prev=null,c._next=null}return this._changesTail&&(this._changesTail._nextChanged=null),this._additionsTail&&(this._additionsTail._nextAdded=null),this.isDirty}_insertBeforeOrAppend(o,u){if(o){const c=o._prev;return u._next=o,u._prev=c,o._prev=u,c&&(c._next=u),o===this._mapHead&&(this._mapHead=u),this._appendAfter=o,o}return this._appendAfter?(this._appendAfter._next=u,u._prev=this._appendAfter):this._mapHead=u,this._appendAfter=u,null}_getOrCreateRecordForKey(o,u){if(this._records.has(o)){const d=this._records.get(o);this._maybeAddToChanges(d,u);const f=d._prev,g=d._next;return f&&(f._next=g),g&&(g._prev=f),d._next=null,d._prev=null,d}const c=new kw(o);return this._records.set(o,c),c.currentValue=u,this._addToAdditions(c),c}_reset(){if(this.isDirty){let o;for(this._previousMapHead=this._mapHead,o=this._previousMapHead;null!==o;o=o._next)o._nextPrevious=o._next;for(o=this._changesHead;null!==o;o=o._nextChanged)o.previousValue=o.currentValue;for(o=this._additionsHead;null!=o;o=o._nextAdded)o.previousValue=o.currentValue;this._changesHead=this._changesTail=null,this._additionsHead=this._additionsTail=null,this._removalsHead=null}}_maybeAddToChanges(o,u){Object.is(u,o.currentValue)||(o.previousValue=o.currentValue,o.currentValue=u,this._addToChanges(o))}_addToAdditions(o){null===this._additionsHead?this._additionsHead=this._additionsTail=o:(this._additionsTail._nextAdded=o,this._additionsTail=o)}_addToChanges(o){null===this._changesHead?this._changesHead=this._changesTail=o:(this._changesTail._nextChanged=o,this._changesTail=o)}_forEach(o,u){o instanceof Map?o.forEach(u):Object.keys(o).forEach(c=>u(o[c],c))}}class kw{constructor(o){this.key=o,this.previousValue=null,this.currentValue=null,this._nextPrevious=null,this._next=null,this._prev=null,this._nextAdded=null,this._nextRemoved=null,this._nextChanged=null}}function Ow(){return new hm([new dN])}let hm=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(null!=c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||Ow()),deps:[[s,new Ld,new qi]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(null!=c)return c;throw new Be(901,!1)}}return s.\u0275prov=wn({token:s,providedIn:"root",factory:Ow}),s})();function $T(){return new Kh([new dm])}let Kh=(()=>{class s{constructor(u){this.factories=u}static create(u,c){if(c){const d=c.factories.slice();u=u.concat(d)}return new s(u)}static extend(u){return{provide:s,useFactory:c=>s.create(u,c||$T()),deps:[[s,new Ld,new qi]]}}find(u){const c=this.factories.find(d=>d.supports(u));if(c)return c;throw new Be(901,!1)}}return s.\u0275prov=wn({token:s,providedIn:"root",factory:$T}),s})();const GT=Xg(null,"core",[]);let Ha=(()=>{class s{constructor(u){}}return s.\u0275fac=function(u){return new(u||s)(Wt(po))},s.\u0275mod=wl({type:s}),s.\u0275inj=nt({}),s})();function Gw(s){return"boolean"==typeof s?s:null!=s&&"false"!==s}function zw(s){const o=$t(s);if(!o)return null;const u=new Wu(o);return{get selector(){return u.selector},get type(){return u.componentType},get inputs(){return u.inputs},get outputs(){return u.outputs},get ngContentSelectors(){return u.ngContentSelectors},get isStandalone(){return o.standalone},get isSignal(){return o.signals}}}},534:(lt,Ee,x)=>{x.r(Ee),x.d(Ee,{FirebaseError:()=>K.ZR,SDK_VERSION:()=>Ts,_DEFAULT_ENTRY_NAME:()=>on,_addComponent:()=>Sr,_addOrOverwriteComponent:()=>si,_apps:()=>rt,_clearComponents:()=>Jt,_components:()=>Gr,_getProvider:()=>Dn,_registerComponent:()=>Di,_removeServiceInstance:()=>Eo,deleteApp:()=>en,getApp:()=>Hr,getApps:()=>sa,initializeApp:()=>Bn,onLog:()=>Ws,registerVersion:()=>Ti,setLogLevel:()=>ts});var y=x(5861),W=x(4537),H=x(7879),K=x(9058);const ne=(re,z)=>z.some(he=>re instanceof he);let ye,Ne;const B=new WeakMap,F=new WeakMap,X=new WeakMap,Ae=new WeakMap,_e=new WeakMap;let _t={get(re,z,he){if(re instanceof IDBTransaction){if("done"===z)return F.get(re);if("objectStoreNames"===z)return re.objectStoreNames||X.get(re);if("store"===z)return he.objectStoreNames[1]?void 0:he.objectStore(he.objectStoreNames[0])}return ge(re[z])},set:(re,z,he)=>(re[z]=he,!0),has:(re,z)=>re instanceof IDBTransaction&&("done"===z||"store"===z)||z in re};function vn(re){return"function"==typeof re?function rn(re){return re!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?function ve(){return Ne||(Ne=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}().includes(re)?function(...z){return re.apply(Ce(this),z),ge(B.get(this))}:function(...z){return ge(re.apply(Ce(this),z))}:function(z,...he){const ze=re.call(Ce(this),z,...he);return X.set(ze,z.sort?z.sort():[z]),ge(ze)}}(re):(re instanceof IDBTransaction&&function Et(re){if(F.has(re))return;const z=new Promise((he,ze)=>{const it=()=>{re.removeEventListener("complete",Ve),re.removeEventListener("error",Bt),re.removeEventListener("abort",Bt)},Ve=()=>{he(),it()},Bt=()=>{ze(re.error||new DOMException("AbortError","AbortError")),it()};re.addEventListener("complete",Ve),re.addEventListener("error",Bt),re.addEventListener("abort",Bt)});F.set(re,z)}(re),ne(re,function Ge(){return ye||(ye=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}())?new Proxy(re,_t):re)}function ge(re){if(re instanceof IDBRequest)return function je(re){const z=new Promise((he,ze)=>{const it=()=>{re.removeEventListener("success",Ve),re.removeEventListener("error",Bt)},Ve=()=>{he(ge(re.result)),it()},Bt=()=>{ze(re.error),it()};re.addEventListener("success",Ve),re.addEventListener("error",Bt)});return z.then(he=>{he instanceof IDBCursor&&B.set(he,re)}).catch(()=>{}),_e.set(z,re),z}(re);if(Ae.has(re))return Ae.get(re);const z=vn(re);return z!==re&&(Ae.set(re,z),_e.set(z,re)),z}const Ce=re=>_e.get(re),Ye=["get","getKey","getAll","getAllKeys","count"],Pe=["put","add","delete","clear"],De=new Map;function We(re,z){if(!(re instanceof IDBDatabase)||z in re||"string"!=typeof z)return;if(De.get(z))return De.get(z);const he=z.replace(/FromIndex$/,""),ze=z!==he,it=Pe.includes(he);if(!(he in(ze?IDBIndex:IDBObjectStore).prototype)||!it&&!Ye.includes(he))return;const Ve=function(){var Bt=(0,y.Z)(function*(jn,...Tn){const Ks=this.transaction(jn,it?"readwrite":"readonly");let oi=Ks.store;return ze&&(oi=oi.index(Tn.shift())),(yield Promise.all([oi[he](...Tn),it&&Ks.done]))[0]});return function(Tn){return Bt.apply(this,arguments)}}();return De.set(z,Ve),Ve}!function gt(re){_t=re(_t)}(re=>({...re,get:(z,he,ze)=>We(z,he)||re.get(z,he,ze),has:(z,he)=>!!We(z,he)||re.has(z,he)}));class Ii{constructor(z){this.container=z}getPlatformInfoString(){return this.container.getProviders().map(he=>{if(function Ds(re){const z=re.getComponent();return"VERSION"===z?.type}(he)){const ze=he.getImmediate();return`${ze.library}/${ze.version}`}return null}).filter(he=>he).join(" ")}}const Ci="@firebase/app",Pn=new H.Yd("@firebase/app"),on="[DEFAULT]",nt={[Ci]:"fire-core","@firebase/app-compat":"fire-core-compat","@firebase/analytics":"fire-analytics","@firebase/analytics-compat":"fire-analytics-compat","@firebase/app-check":"fire-app-check","@firebase/app-check-compat":"fire-app-check-compat","@firebase/auth":"fire-auth","@firebase/auth-compat":"fire-auth-compat","@firebase/database":"fire-rtdb","@firebase/database-compat":"fire-rtdb-compat","@firebase/functions":"fire-fn","@firebase/functions-compat":"fire-fn-compat","@firebase/installations":"fire-iid","@firebase/installations-compat":"fire-iid-compat","@firebase/messaging":"fire-fcm","@firebase/messaging-compat":"fire-fcm-compat","@firebase/performance":"fire-perf","@firebase/performance-compat":"fire-perf-compat","@firebase/remote-config":"fire-rc","@firebase/remote-config-compat":"fire-rc-compat","@firebase/storage":"fire-gcs","@firebase/storage-compat":"fire-gcs-compat","@firebase/firestore":"fire-fst","@firebase/firestore-compat":"fire-fst-compat","fire-js":"fire-js",firebase:"fire-js-all"},rt=new Map,Gr=new Map;function Sr(re,z){try{re.container.addComponent(z)}catch(he){Pn.debug(`Component ${z.name} failed to register with FirebaseApp ${re.name}`,he)}}function si(re,z){re.container.addOrOverwriteComponent(z)}function Di(re){const z=re.name;if(Gr.has(z))return Pn.debug(`There were multiple attempts to register component ${z}.`),!1;Gr.set(z,re);for(const he of rt.values())Sr(he,re);return!0}function Dn(re,z){const he=re.container.getProvider("heartbeat").getImmediate({optional:!0});return he&&he.triggerHeartbeat(),re.container.getProvider(z)}function Eo(re,z,he=on){Dn(re,z).clearInstance(he)}function Jt(){Gr.clear()}const be=new K.LL("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}."});class Io{constructor(z,he,ze){this._isDeleted=!1,this._options=Object.assign({},z),this._config=Object.assign({},he),this._name=he.name,this._automaticDataCollectionEnabled=he.automaticDataCollectionEnabled,this._container=ze,this.container.addComponent(new W.wA("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(z){this.checkDestroyed(),this._automaticDataCollectionEnabled=z}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(z){this._isDeleted=z}checkDestroyed(){if(this.isDeleted)throw be.create("app-deleted",{appName:this._name})}}const Ts="9.23.0";function Bn(re,z={}){let he=re;"object"!=typeof z&&(z={name:z});const ze=Object.assign({name:on,automaticDataCollectionEnabled:!1},z),it=ze.name;if("string"!=typeof it||!it)throw be.create("bad-app-name",{appName:String(it)});if(he||(he=(0,K.aH)()),!he)throw be.create("no-options");const Ve=rt.get(it);if(Ve){if((0,K.vZ)(he,Ve.options)&&(0,K.vZ)(ze,Ve.config))return Ve;throw be.create("duplicate-app",{appName:it})}const Bt=new W.H0(it);for(const Tn of Gr.values())Bt.addComponent(Tn);const jn=new Io(he,ze,Bt);return rt.set(it,jn),jn}function Hr(re=on){const z=rt.get(re);if(!z&&re===on&&(0,K.aH)())return Bn();if(!z)throw be.create("no-app",{appName:re});return z}function sa(){return Array.from(rt.values())}function en(re){return ji.apply(this,arguments)}function ji(){return(ji=(0,y.Z)(function*(re){const z=re.name;rt.has(z)&&(rt.delete(z),yield Promise.all(re.container.getProviders().map(he=>he.delete())),re.isDeleted=!0)})).apply(this,arguments)}function Ti(re,z,he){var ze;let it=null!==(ze=nt[re])&&void 0!==ze?ze:re;he&&(it+=`-${he}`);const Ve=it.match(/\s|\//),Bt=z.match(/\s|\//);if(Ve||Bt){const jn=[`Unable to register library "${it}" with version "${z}":`];return Ve&&jn.push(`library name "${it}" contains illegal characters (whitespace or "/")`),Ve&&Bt&&jn.push("and"),Bt&&jn.push(`version name "${z}" contains illegal characters (whitespace or "/")`),void Pn.warn(jn.join(" "))}Di(new W.wA(`${it}-version`,()=>({library:it,version:z}),"VERSION"))}function Ws(re,z){if(null!==re&&"function"!=typeof re)throw be.create("invalid-log-argument");(0,H.Am)(re,z)}function ts(re){(0,H.Ub)(re)}const bi="firebase-heartbeat-database",ns=1,k="firebase-heartbeat-store";let R=null;function V(){return R||(R=function ue(re,z,{blocked:he,upgrade:ze,blocking:it,terminated:Ve}={}){const Bt=indexedDB.open(re,z),jn=ge(Bt);return ze&&Bt.addEventListener("upgradeneeded",Tn=>{ze(ge(Bt.result),Tn.oldVersion,Tn.newVersion,ge(Bt.transaction),Tn)}),he&&Bt.addEventListener("blocked",Tn=>he(Tn.oldVersion,Tn.newVersion,Tn)),jn.then(Tn=>{Ve&&Tn.addEventListener("close",()=>Ve()),it&&Tn.addEventListener("versionchange",Ks=>it(Ks.oldVersion,Ks.newVersion,Ks))}).catch(()=>{}),jn}(bi,ns,{upgrade:(re,z)=>{0===z&&re.createObjectStore(k)}}).catch(re=>{throw be.create("idb-open",{originalErrorMessage:re.message})})),R}function Y(){return(Y=(0,y.Z)(function*(re){try{return yield(yield V()).transaction(k).objectStore(k).get(Gt(re))}catch(z){if(z instanceof K.ZR)Pn.warn(z.message);else{const he=be.create("idb-get",{originalErrorMessage:z?.message});Pn.warn(he.message)}}})).apply(this,arguments)}function He(re,z){return at.apply(this,arguments)}function at(){return(at=(0,y.Z)(function*(re,z){try{const ze=(yield V()).transaction(k,"readwrite");yield ze.objectStore(k).put(z,Gt(re)),yield ze.done}catch(he){if(he instanceof K.ZR)Pn.warn(he.message);else{const ze=be.create("idb-set",{originalErrorMessage:he?.message});Pn.warn(ze.message)}}})).apply(this,arguments)}function Gt(re){return`${re.name}!${re.options.appId}`}class Mt{constructor(z){this.container=z,this._heartbeatsCache=null;const he=this.container.getProvider("app").getImmediate();this._storage=new zr(he),this._heartbeatsCachePromise=this._storage.read().then(ze=>(this._heartbeatsCache=ze,ze))}triggerHeartbeat(){var z=this;return(0,y.Z)(function*(){const ze=z.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),it=Nt();if(null===z._heartbeatsCache&&(z._heartbeatsCache=yield z._heartbeatsCachePromise),z._heartbeatsCache.lastSentHeartbeatDate!==it&&!z._heartbeatsCache.heartbeats.some(Ve=>Ve.date===it))return z._heartbeatsCache.heartbeats.push({date:it,agent:ze}),z._heartbeatsCache.heartbeats=z._heartbeatsCache.heartbeats.filter(Ve=>{const Bt=new Date(Ve.date).valueOf();return Date.now()-Bt<=2592e6}),z._storage.overwrite(z._heartbeatsCache)})()}getHeartbeatsHeader(){var z=this;return(0,y.Z)(function*(){if(null===z._heartbeatsCache&&(yield z._heartbeatsCachePromise),null===z._heartbeatsCache||0===z._heartbeatsCache.heartbeats.length)return"";const he=Nt(),{heartbeatsToSend:ze,unsentEntries:it}=function or(re,z=1024){const he=[];let ze=re.slice();for(const it of re){const Ve=he.find(Bt=>Bt.agent===it.agent);if(Ve){if(Ve.dates.push(it.date),qs(he)>z){Ve.dates.pop();break}}else if(he.push({agent:it.agent,dates:[it.date]}),qs(he)>z){he.pop();break}ze=ze.slice(1)}return{heartbeatsToSend:he,unsentEntries:ze}}(z._heartbeatsCache.heartbeats),Ve=(0,K.L)(JSON.stringify({version:2,heartbeats:ze}));return z._heartbeatsCache.lastSentHeartbeatDate=he,it.length>0?(z._heartbeatsCache.heartbeats=it,yield z._storage.overwrite(z._heartbeatsCache)):(z._heartbeatsCache.heartbeats=[],z._storage.overwrite(z._heartbeatsCache)),Ve})()}}function Nt(){return(new Date).toISOString().substring(0,10)}class zr{constructor(z){this.app=z,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return(0,y.Z)(function*(){return!!(0,K.hl)()&&(0,K.eu)().then(()=>!0).catch(()=>!1)})()}read(){var z=this;return(0,y.Z)(function*(){return(yield z._canUseIndexedDBPromise)&&(yield function le(re){return Y.apply(this,arguments)}(z.app))||{heartbeats:[]}})()}overwrite(z){var he=this;return(0,y.Z)(function*(){var ze;if(yield he._canUseIndexedDBPromise){const Ve=yield he.read();return He(he.app,{lastSentHeartbeatDate:null!==(ze=z.lastSentHeartbeatDate)&&void 0!==ze?ze:Ve.lastSentHeartbeatDate,heartbeats:z.heartbeats})}})()}add(z){var he=this;return(0,y.Z)(function*(){var ze;if(yield he._canUseIndexedDBPromise){const Ve=yield he.read();return He(he.app,{lastSentHeartbeatDate:null!==(ze=z.lastSentHeartbeatDate)&&void 0!==ze?ze:Ve.lastSentHeartbeatDate,heartbeats:[...Ve.heartbeats,...z.heartbeats]})}})()}}function qs(re){return(0,K.L)(JSON.stringify({version:2,heartbeats:re})).length}!function eu(re){Di(new W.wA("platform-logger",z=>new Ii(z),"PRIVATE")),Di(new W.wA("heartbeat",z=>new Mt(z),"PRIVATE")),Ti(Ci,"0.9.13",re),Ti(Ci,"0.9.13","esm2017"),Ti("fire-js","")}("")},4537:(lt,Ee,x)=>{x.d(Ee,{H0:()=>Ge,wA:()=>H});var y=x(5861),W=x(9058);class H{constructor(B,F,X){this.name=B,this.instanceFactory=F,this.type=X,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(B){return this.instantiationMode=B,this}setMultipleInstances(B){return this.multipleInstances=B,this}setServiceProps(B){return this.serviceProps=B,this}setInstanceCreatedCallback(B){return this.onInstanceCreated=B,this}}const K="[DEFAULT]";class ne{constructor(B,F){this.name=B,this.container=F,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(B){const F=this.normalizeInstanceIdentifier(B);if(!this.instancesDeferred.has(F)){const X=new W.BH;if(this.instancesDeferred.set(F,X),this.isInitialized(F)||this.shouldAutoInitialize())try{const Ae=this.getOrInitializeService({instanceIdentifier:F});Ae&&X.resolve(Ae)}catch{}}return this.instancesDeferred.get(F).promise}getImmediate(B){var F;const X=this.normalizeInstanceIdentifier(B?.identifier),Ae=null!==(F=B?.optional)&&void 0!==F&&F;if(!this.isInitialized(X)&&!this.shouldAutoInitialize()){if(Ae)return null;throw Error(`Service ${this.name} is not available`)}try{return this.getOrInitializeService({instanceIdentifier:X})}catch(_e){if(Ae)return null;throw _e}}getComponent(){return this.component}setComponent(B){if(B.name!==this.name)throw Error(`Mismatching Component ${B.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=B,this.shouldAutoInitialize()){if(function Ne(ve){return"EAGER"===ve.instantiationMode}(B))try{this.getOrInitializeService({instanceIdentifier:K})}catch{}for(const[F,X]of this.instancesDeferred.entries()){const Ae=this.normalizeInstanceIdentifier(F);try{const _e=this.getOrInitializeService({instanceIdentifier:Ae});X.resolve(_e)}catch{}}}}clearInstance(B=K){this.instancesDeferred.delete(B),this.instancesOptions.delete(B),this.instances.delete(B)}delete(){var B=this;return(0,y.Z)(function*(){const F=Array.from(B.instances.values());yield Promise.all([...F.filter(X=>"INTERNAL"in X).map(X=>X.INTERNAL.delete()),...F.filter(X=>"_delete"in X).map(X=>X._delete())])})()}isComponentSet(){return null!=this.component}isInitialized(B=K){return this.instances.has(B)}getOptions(B=K){return this.instancesOptions.get(B)||{}}initialize(B={}){const{options:F={}}=B,X=this.normalizeInstanceIdentifier(B.instanceIdentifier);if(this.isInitialized(X))throw Error(`${this.name}(${X}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const Ae=this.getOrInitializeService({instanceIdentifier:X,options:F});for(const[_e,je]of this.instancesDeferred.entries())X===this.normalizeInstanceIdentifier(_e)&&je.resolve(Ae);return Ae}onInit(B,F){var X;const Ae=this.normalizeInstanceIdentifier(F),_e=null!==(X=this.onInitCallbacks.get(Ae))&&void 0!==X?X:new Set;_e.add(B),this.onInitCallbacks.set(Ae,_e);const je=this.instances.get(Ae);return je&&B(je,Ae),()=>{_e.delete(B)}}invokeOnInitCallbacks(B,F){const X=this.onInitCallbacks.get(F);if(X)for(const Ae of X)try{Ae(B,F)}catch{}}getOrInitializeService({instanceIdentifier:B,options:F={}}){let X=this.instances.get(B);if(!X&&this.component&&(X=this.component.instanceFactory(this.container,{instanceIdentifier:(ve=B,ve===K?void 0:ve),options:F}),this.instances.set(B,X),this.instancesOptions.set(B,F),this.invokeOnInitCallbacks(X,B),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,B,X)}catch{}var ve;return X||null}normalizeInstanceIdentifier(B=K){return this.component?this.component.multipleInstances?B:K:B}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}class Ge{constructor(B){this.name=B,this.providers=new Map}addComponent(B){const F=this.getProvider(B.name);if(F.isComponentSet())throw new Error(`Component ${B.name} has already been registered with ${this.name}`);F.setComponent(B)}addOrOverwriteComponent(B){this.getProvider(B.name).isComponentSet()&&this.providers.delete(B.name),this.addComponent(B)}getProvider(B){if(this.providers.has(B))return this.providers.get(B);const F=new ne(B,this);return this.providers.set(B,F),F}getProviders(){return Array.from(this.providers.values())}}},7879:(lt,Ee,x)=>{x.d(Ee,{Am:()=>ve,Ub:()=>Ge,Yd:()=>Ne,in:()=>W});const y=[];var W=(()=>((W=W||{})[W.DEBUG=0]="DEBUG",W[W.VERBOSE=1]="VERBOSE",W[W.INFO=2]="INFO",W[W.WARN=3]="WARN",W[W.ERROR=4]="ERROR",W[W.SILENT=5]="SILENT",W))();const H={debug:W.DEBUG,verbose:W.VERBOSE,info:W.INFO,warn:W.WARN,error:W.ERROR,silent:W.SILENT},K=W.INFO,ne={[W.DEBUG]:"log",[W.VERBOSE]:"log",[W.INFO]:"info",[W.WARN]:"warn",[W.ERROR]:"error"},ye=(B,F,...X)=>{if(F<B.logLevel)return;const Ae=(new Date).toISOString(),_e=ne[F];if(!_e)throw new Error(`Attempted to log a message with an invalid logType (value: ${F})`);console[_e](`[${Ae}]  ${B.name}:`,...X)};class Ne{constructor(F){this.name=F,this._logLevel=K,this._logHandler=ye,this._userLogHandler=null,y.push(this)}get logLevel(){return this._logLevel}set logLevel(F){if(!(F in W))throw new TypeError(`Invalid value "${F}" assigned to \`logLevel\``);this._logLevel=F}setLogLevel(F){this._logLevel="string"==typeof F?H[F]:F}get logHandler(){return this._logHandler}set logHandler(F){if("function"!=typeof F)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=F}get userLogHandler(){return this._userLogHandler}set userLogHandler(F){this._userLogHandler=F}debug(...F){this._userLogHandler&&this._userLogHandler(this,W.DEBUG,...F),this._logHandler(this,W.DEBUG,...F)}log(...F){this._userLogHandler&&this._userLogHandler(this,W.VERBOSE,...F),this._logHandler(this,W.VERBOSE,...F)}info(...F){this._userLogHandler&&this._userLogHandler(this,W.INFO,...F),this._logHandler(this,W.INFO,...F)}warn(...F){this._userLogHandler&&this._userLogHandler(this,W.WARN,...F),this._logHandler(this,W.WARN,...F)}error(...F){this._userLogHandler&&this._userLogHandler(this,W.ERROR,...F),this._logHandler(this,W.ERROR,...F)}}function Ge(B){y.forEach(F=>{F.setLogLevel(B)})}function ve(B,F){for(const X of y){let Ae=null;F&&F.level&&(Ae=H[F.level]),X.userLogHandler=null===B?null:(_e,je,...Et)=>{const _t=Et.map(gt=>{if(null==gt)return null;if("string"==typeof gt)return gt;if("number"==typeof gt||"boolean"==typeof gt)return gt.toString();if(gt instanceof Error)return gt.message;try{return JSON.stringify(gt)}catch{return null}}).filter(gt=>gt).join(" ");je>=(Ae??_e.logLevel)&&B({level:W[je].toLowerCase(),message:_t,args:Et,type:_e.name})}}}},3182:(lt,Ee,x)=>{x.d(Ee,{C6:()=>y.getApps,KN:()=>y.registerVersion,Mq:()=>y.getApp,ZF:()=>y.initializeApp});var y=x(534);(0,y.registerVersion)("firebase","9.23.0","app")},5861:(lt,Ee,x)=>{function y(H,K,ne,ye,Ne,Ge,ve){try{var B=H[Ge](ve),F=B.value}catch(X){return void ne(X)}B.done?K(F):Promise.resolve(F).then(ye,Ne)}function W(H){return function(){var K=this,ne=arguments;return new Promise(function(ye,Ne){var Ge=H.apply(K,ne);function ve(F){y(Ge,ye,Ne,ve,B,"next",F)}function B(F){y(Ge,ye,Ne,ve,B,"throw",F)}ve(void 0)})}}x.d(Ee,{Z:()=>W})},7582:(lt,Ee,x)=>{function K(j,q){var ee={};for(var te in j)Object.prototype.hasOwnProperty.call(j,te)&&q.indexOf(te)<0&&(ee[te]=j[te]);if(null!=j&&"function"==typeof Object.getOwnPropertySymbols){var oe=0;for(te=Object.getOwnPropertySymbols(j);oe<te.length;oe++)q.indexOf(te[oe])<0&&Object.prototype.propertyIsEnumerable.call(j,te[oe])&&(ee[te[oe]]=j[te[oe]])}return ee}function X(j,q,ee,te){return new(ee||(ee=Promise))(function(de,qe){function Ke(Tt){try{Qe(te.next(Tt))}catch(zt){qe(zt)}}function Ct(Tt){try{Qe(te.throw(Tt))}catch(zt){qe(zt)}}function Qe(Tt){Tt.done?de(Tt.value):function oe(de){return de instanceof ee?de:new ee(function(qe){qe(de)})}(Tt.value).then(Ke,Ct)}Qe((te=te.apply(j,q||[])).next())})}function ge(j){return this instanceof ge?(this.v=j,this):new ge(j)}function Ce(j,q,ee){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var oe,te=ee.apply(j,q||[]),de=[];return oe={},qe("next"),qe("throw"),qe("return"),oe[Symbol.asyncIterator]=function(){return this},oe;function qe(cn){te[cn]&&(oe[cn]=function(sr){return new Promise(function($r,sn){de.push([cn,sr,$r,sn])>1||Ke(cn,sr)})})}function Ke(cn,sr){try{!function Ct(cn){cn.value instanceof ge?Promise.resolve(cn.value.v).then(Qe,Tt):zt(de[0][2],cn)}(te[cn](sr))}catch($r){zt(de[0][3],$r)}}function Qe(cn){Ke("next",cn)}function Tt(cn){Ke("throw",cn)}function zt(cn,sr){cn(sr),de.shift(),de.length&&Ke(de[0][0],de[0][1])}}function Te(j){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var ee,q=j[Symbol.asyncIterator];return q?q.call(j):(j=function Et(j){var q="function"==typeof Symbol&&Symbol.iterator,ee=q&&j[q],te=0;if(ee)return ee.call(j);if(j&&"number"==typeof j.length)return{next:function(){return j&&te>=j.length&&(j=void 0),{value:j&&j[te++],done:!j}}};throw new TypeError(q?"Object is not iterable.":"Symbol.iterator is not defined.")}(j),ee={},te("next"),te("throw"),te("return"),ee[Symbol.asyncIterator]=function(){return this},ee);function te(de){ee[de]=j[de]&&function(qe){return new Promise(function(Ke,Ct){!function oe(de,qe,Ke,Ct){Promise.resolve(Ct).then(function(Qe){de({value:Qe,done:Ke})},qe)}(Ke,Ct,(qe=j[de](qe)).done,qe.value)})}}}x.d(Ee,{FC:()=>Ce,KL:()=>Te,_T:()=>K,mG:()=>X,qq:()=>ge}),"function"==typeof SuppressedError&&SuppressedError}},lt=>{lt(lt.s=6311)}]);